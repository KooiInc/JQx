var ce=it(),Ce=lt(),Q=nt(),X=ot();function nt(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function ot(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function it(){return["#logBox{min-width:0px;max-width:0px;min-height:0px;max-height:0px;width:0;height:0;z-index:-1;border:none;padding:0px;overflow:hidden;transition:all 0.3s ease;margin-top:-100px;}","#logBox.visible{background-color:rgb(255, 255, 224);z-index:1;position:static;border:1px dotted rgb(153, 153, 153);max-width:50vw;min-width:30vw;min-height:10vh;max-height:90vh;overflow:auto;width:50vw;height:20vh;margin:1rem 0px;padding:0px 8px 19px;resize:both;}","#logBox.visible .legend{position:absolute;}","#logBox .legend{text-align:center;margin-top:-1em;width:inherit;max-width:inherit;}","#logBox .legend div{text-align:center;display:inline-block;max-width:inherit;height:1.2rem;background-color:rgb(119, 119, 119);padding:2px 10px;color:rgb(255, 255, 255);box-shadow:rgb(119 119 119) 2px 1px 10px;border-radius:4px;}","#logBox .legend div:before{content:'JQx Logging (chronological)';}","#logBox .legend.reversed div:before{content:'JQx Logging (reversed)';}","#logBox #jqx_logger{marginTop:0.7rem;lineHeight:1.4em;font-family:consolas,monospace;whiteSpace:pre-wrap;maxWidth:inherit;padding-left:100px;}","#logBox #jqx_logger div.entry{text-indent:-100px;whiteSpace:normal;}"]}function lt(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var ue=!1,st={on:()=>ue=!0,off:()=>ue=!1},I={tagsRaw:X,allowUnknownHtmlTags:st,isAllowed(r){if(ue)return!0;let e=u(r,String)?r.toLowerCase():r?.nodeName.toLowerCase()||"none";return e==="#text"||!!X[e]},allowTag:r=>X[r.toLowerCase()]=!0,prohibitTag:r=>X[r.toLowerCase()]=!1};var at=ct(),$e={html:"innerHTML",text:"textContent",class:"className"},fe=at;function ct(){let r={get(e,t){let n=String(t)?.toLowerCase();switch(!0){case n in e:return e[n];case ht(n):return Te(e,n,t);default:return Te(e,n,t,!0)}},enumerable:!1,configurable:!1};return new Proxy({},r)}function Te(r,e,t,n=!1){return Object.defineProperty(r,e,{get(){return n?o=>yt(t):St(e)}}),r[e]}function ut(r,e,t){return e=e?.isJQx&&e.first()||e,me({trial:n=>bt(e)?r.append(e):Ae(e)?r.insertAdjacentHTML("beforeend",e):r.append(e),whenError:n=>console.info(`${t} (for root ${r}) not created, reason
`,n)})}function ft(r,e,...t){let n=dt(e,r);return t?.forEach(o=>ut(n,o,r)),n}function dt(r,e){switch(r=de(e)?pt(r):r?.isJQx?r.first():r,!0){case u(r,String):return q(e,Ae(r,e)?{html:r}:{text:r});case u(r,Node):return gt(e,r);default:return q(e,r)}}function mt(r){return delete r.data,Object.keys(r).length<1||Object.keys(r).forEach(e=>{let t=e.toLowerCase();t in $e&&(r[$e[t]]=r[e],delete r[e])}),r}function gt(r,e){let t=q(r);return t.append(e),t}function q(r,e={}){e=Fe(e,{});let t=Object.entries(e.data??{}),n=Object.assign(de(r)?new Comment(e?.text):document.createElement(r),mt(e));return t.length&&t.forEach(([o,l])=>n.dataset[o]=String(l)),n}function Fe(r,e){return e?u(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):u(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function pt(r){return Fe(r)?r?.text??r?.textContent??"":String(r)}function yt(r){return q("b",{style:"color:red",text:`'${r}' is not a valid HTML-tag`})}function Ae(r,e){return!de(e)&&u(r,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(r)}function bt(r){return r?.constructor===Comment||r?.constructor===CharacterData}function de(r){return r?.constructor===Comment||/comment/i.test(r)}function ht(r){return!u(q(r),HTMLUnknownElement)}function St(r){return(e,...t)=>ft(r,e,...t)}var{IS:u,maybe:me,$Wrap:Sr,xProxy:xr,isNothing:vr}=xt();function xt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),y();let r=x(),[e,t]=[m(),H()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:S,xProxy:t};function n(i,...s){if(r({trial:d=>"isTypes"in(s?.[0]??{})})){let d=s[0];return"defaultValue"in d?g(i,d):"notTypes"in d?a(i,d):n(i,...[d.isTypes].flat())}let f=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?h(f,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:f,noShouldbe:d,compareTo:w,inputCTOR:F,isNaN:k,isInfinity:j,shouldBeFirstElementIsNothing:B}=p(i,...s);switch(s=s.length&&s[0],!0){case B:return String(i)===String(w);case(i?.[Symbol.proxy]&&d):return i[Symbol.proxy];case k:return d?"NaN":r({trial:J=>String(w)})===String(i);case j:return d?"Infinity":r({trial:J=>String(w)})===String(i);case f:return d?String(i):String(w)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return b(i,s,d,c(i,F))}}function c(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function p(i,...s){let f=s.length<1,d=!f&&s[0],w=!f&&S(s[0]),F=i==null,k=!F&&Object.getPrototypeOf(i)?.constructor,j=r({trial:J=>String(i)})==="NaN",B=r({trial:J=>String(i)})==="Infinity";return{noInput:F,noShouldbe:f,compareTo:d,inputCTOR:k,isNaN:j,isInfinity:B,shouldBeFirstElementIsNothing:w}}function b(i,s,f,d){switch(!0){case(!f&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:w=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:w=>i instanceof s})||s===d||s===Object.getPrototypeOf(d)||`${s?.name}`===d?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||d?.name||String(d)}}function h(i,...s){return s.some(f=>n(i,f))}function S(i,s=!1){let f=i==null;return f=s?f||n(i,1/0)||n(i,NaN):f,f}function x(){let i=(s,f)=>s?.constructor===Function?s(f):void 0;return function({trial:s,whenError:f=()=>{}}={}){try{return i(s)}catch(d){return i(f,d)}}}function m(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:f=[void 0],notTypes:d}={}){return f=f?.constructor!==Array?[f]:f,d=d&&d?.constructor!==Array?[d]:[],d.length<1?n(i,...f)?i:s:a(i,{isTypes:f,notTypes:d})?i:s}function a(i,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(i,...s)&&!n(i,...f)}function y(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function v(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function E(i){let s=i.set;return i.set=(f,d,w)=>d===Symbol.proxy?f[d]=w:s(f,d,w),i}function H(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,f){for(let w of f)w.set&&(w=E(w));let d=new s(...f);return d[Symbol.proxy]=`Proxy (${v(f[0])})`,d}})}}}}var{IS:oe,maybe:Er,$Wrap:Lr,xProxy:Cr,isNothing:$r}=vt();function vt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),y();let r=x(),[e,t]=[m(),H()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:S,xProxy:t};function n(i,...s){if(r({trial:d=>"isTypes"in(s?.[0]??{})})){let d=s[0];return"defaultValue"in d?g(i,d):"notTypes"in d?a(i,d):n(i,...[d.isTypes].flat())}let f=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?h(f,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:f,noShouldbe:d,compareTo:w,inputCTOR:F,isNaN:k,isInfinity:j,shouldBeFirstElementIsNothing:B}=p(i,...s);switch(s=s.length&&s[0],!0){case B:return String(i)===String(w);case(i?.[Symbol.proxy]&&d):return i[Symbol.proxy];case k:return d?"NaN":r({trial:J=>String(w)})===String(i);case j:return d?"Infinity":r({trial:J=>String(w)})===String(i);case f:return d?String(i):String(w)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return b(i,s,d,c(i,F))}}function c(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function p(i,...s){let f=s.length<1,d=!f&&s[0],w=!f&&S(s[0]),F=i==null,k=!F&&Object.getPrototypeOf(i)?.constructor,j=r({trial:J=>String(i)})==="NaN",B=r({trial:J=>String(i)})==="Infinity";return{noInput:F,noShouldbe:f,compareTo:d,inputCTOR:k,isNaN:j,isInfinity:B,shouldBeFirstElementIsNothing:w}}function b(i,s,f,d){switch(!0){case(!f&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:w=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:w=>i instanceof s})||s===d||s===Object.getPrototypeOf(d)||`${s?.name}`===d?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||d?.name||String(d)}}function h(i,...s){return s.some(f=>n(i,f))}function S(i,s=!1){let f=i==null;return f=s?f||n(i,1/0)||n(i,NaN):f,f}function x(){let i=(s,f)=>s?.constructor===Function?s(f):void 0;return function({trial:s,whenError:f=()=>{}}={}){try{return i(s)}catch(d){return i(f,d)}}}function m(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:f=[void 0],notTypes:d}={}){return f=f?.constructor!==Array?[f]:f,d=d&&d?.constructor!==Array?[d]:[],d.length<1?n(i,...f)?i:s:a(i,{isTypes:f,notTypes:d})?i:s}function a(i,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(i,...s)&&!n(i,...f)}function y(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function v(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function E(i){let s=i.set;return i.set=(f,d,w)=>d===Symbol.proxy?f[d]=w:s(f,d,w),i}function H(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,f){for(let w of f)w.set&&(w=E(w));let d=new s(...f);return d[Symbol.proxy]=`Proxy (${v(f[0])})`,d}})}}}}var K=wt;function wt({styleSheet:r,createWithId:e}={}){let{tryParseAtOrNestedRules:t,ruleExists:n,checkParams:o,sheet:l,removeRules:c,consider:p,currentSheetID:b}=Et({styleSheet:r,createWithId:e});function h(a,y){if(a&&y.removeProperties){Object.keys(y.removeProperties).forEach(v=>a.style.removeProperty(De(v)));return}Object.entries(y).forEach(([v,E])=>{v=De(v.trim()),E=E.trim();let H;if(/!important/.test(E)&&(E=E.slice(0,E.indexOf("!important")).trim(),H="important"),!CSS.supports(v,E))return console.error(`StylingFactory ${b} error: '${v}' with value '${E}' not supported (yet)`);He(()=>a.style.setProperty(v,E,H),`StylingFactory ${b} (setRule4Selector) failed`)})}function S(a,y,v=l){if(a=a?.trim?.(),!oe(a,String)||!a.length||/[;,]$/g.test(a))return console.error(`StylingFactory ${b} (setRules): [${a||"[no selector given]"}] is not a valid selector`);if(y.removeRule)return c(a);let E=n(a,!0),H=E||v.cssRules[v.insertRule(`${a} {}`,v.cssRules.length||0)];return p(()=>h(H,y),a,E)}function x(a){let y=a.trim().split(/{/,2),v=y.shift().trim();if(!oe(v,String)||!v?.trim()?.length)return console.error(`StylingFactory ${b} (doParse): no (valid) selector could be extracted from rule ${ge(a)}`);let E=Dt(y.shift());return He(()=>S(v,E),`StylingFactory ${b} (setRules) failed`)}function m(a){let y=t(a);return y.done?y.existing:x(a)}function g(a,y){return a.trim().startsWith("@media")?m(Lt(a,y)):S(a,y)}return function(a,y={}){return o(a,y)&&(Object.keys(y).length?g(a,y):m(a))}}function Et({styleSheet:r,createWithId:e}){let t="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;r=e?o(e):r;function o(m){let g=document.querySelector(`#${m}`)?.sheet;if(g)return g;let a=Object.assign(document.createElement("style"),{id:m});return document.head.insertAdjacentElement("beforeend",a),a.sheet}function l(m){return console.error(`StylingFactory ${n} [rule: ${m}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function c(m,g){return[...r.rules].find(a=>g?Ne(a.selectorText||"",m):Tt`${$t(m)}${[..."gim"]}`.test(a.cssText))}function p(m){return/^@charset|@import|namespace/i.test(m.trim())?l(m):m.match(/}/g)?.length>1?{existing:S(m,1),done:!0}:{done:!1}}function b(m){let g=[...r.cssRules].reduce((y,v,E)=>Ne(v.selectorText||"",m)&&y.concat(E)||y,[]),a=g.length;return g.forEach(y=>r.deleteRule(y)),a>0?console.info(`\u2714 Removed ${a} instance${a>1?"s":""} of selector ${m} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${m} does not exist in ${n.slice(4)}`)}function h(m,g){return m&&oe(m,String)&&m.trim().length>0&&oe(g,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}function S(m){m=m.trim();let g=m.slice(0,m.indexOf("{")).trim(),a=!!c(g);try{return r.insertRule(`${m}`,r.cssRules.length),a}catch(y){return console.error(`StylingFactory ${n} (tryParse) ${y.name} Error:
${y.message}
Rule: ${ge(m)}
${t}`),a}}function x(m,g,a){try{return m(),a}catch(y){return console.error(`StylingFactory ${n} (tryAddOrModify) ${y.name} Error:
${y.message}
Rule: ${ge(g)}
${t}`),a}}return{sheet:r,removeRules:b,tryParseAtOrNestedRules:p,ruleExists:c,checkParams:h,tryParse:S,consider:x,currentSheetID:n}}function Lt(r,e){return`${r.trim()} ${Object.entries(e).map(([t,n])=>`${t}: { ${Ct(n)}`)}`}function ge(r){let e=(r||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return r.length>e.length?`${e.trim()}...truncated`:e}function Ct(r){return Object.entries(r).map(([e,t])=>`${e}: ${t.trim()}`).join(`;
`)}function $t(r){return r.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}function Tt(r,...e){let t=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&r.raw.reduce((n,o,l)=>n.concat(e[l-1]||"").concat(o),"")||r.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),t)}function De(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function He(r,e){try{return r()}catch(t){console.error(`${e||"an error occured"}: ${t.message}`)}}function Ft(r){return r.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,t)=>`${t}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function At(r){return r.reduce((e,t)=>{let[n,o]=[t.slice(0,t.indexOf(":")).trim(),t.slice(t.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&o?{...e,[n]:o}:e},{})}function Dt(r){return At(Ft(r))}function Ne(r,e){return r?.replace("::",":")===e?.replace("::",":")}var Ht=[...Array(26)].map((r,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((r,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((r,e)=>`${e}`)),ie=(r,e=2)=>`${r}`.padStart(e,"0"),Nt=(r,e=0)=>([r,e]=[Math.floor(r),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(r-e+1)+e)),$=function(r,e=1){return e=u(e,Number)&&e||1,u(r,String)&&r.length>=e},Me=function(r){return r=u(r,String)&&/,/.test(r)?r.split(","):r,u(r,Array)?r.filter(e=>$(e)).map(e=>e.trim().toLowerCase()):u(r,String)&&r?.trim().toLowerCase()||""},Mt=r=>{let e=r.length;for(;e--;){let t=Nt(e);[r[e],r[t]]=[r[t],r[e]]}return r};var N=(r,e=120)=>`${r}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(r.length>e?" &hellip;":"").trim(),O=r=>r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,""),Ot=([r,...e])=>`${r.toUpperCase()}${e.join("")}`,ee=r=>u(r,String)?r.toLowerCase().split("-").map((e,t)=>t&&`${Ot(e)}`||e).join(""):r,W=()=>`_${Mt(Ht).slice(0,8).join("")}`,le=(r,e=120)=>N(r,e).replace(/&lt;/g,"<"),z=()=>(r=>`[${ie(r.getHours())}:${ie(r.getMinutes())}:${ie(r.getSeconds())}.${ie(r.getMilliseconds(),3)}]`)(new Date);var _=r=>r.replace(/</g,"&lt;");function Oe(){let r=function(l){if(!l)return;let c=l.style,p=getComputedStyle(l),b=[c.visibility,p.visibility].includes("hidden"),h=[c.display,p.display].includes("none"),S=l.offsetTop<0||l.offsetLeft+l.offsetWidth<0||l.offsetLeft>document.body.offsetWidth,x=+p.opacity==0||+(c.opacity||1)==0;return!(S||x||h||b)},t=function(l){return[...l.parentNode.querySelectorAll(":is(:read-write)")].find(c=>c===l)??!1},n=function(l){return[...l.parentNode.querySelectorAll(":is(:modal)")].find(c=>c===l)??!1},o={notInDOM:!0,writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"};return l=>{let c=l.node;return u(c,Node)?{get writable(){return t(c)},get modal(){return n(c)},get inDOM(){return c.isConnected},get open(){return c.open??!1},get visible(){return r(c)},get disabled(){return c.hasAttribute("readonly")||c.hasAttribute("disabled")},get empty(){return l.collection.length<1},get virtual(){return l.isVirtual}}:o}}var be=!1,te=!1,U=!0,he=!1,Pt=!0,Ie,V=()=>M("#logBox"),Re="#jqx_logger",It=r=>{ce?.forEach(e=>r(e))},Rt=()=>{ce&&It(Ie);let r=Pt?"div":"pre",e=`<div id="logBox"><div class="legend"><div></div></div><${r} id="jqx_logger"></${r}></div>`;return Se(D(e),void 0,T.AfterBegin),M.node(Re)},Pe=r=>u(r,String)&&Object.assign(document.createElement("textarea"),{innerHTML:r}).textContent||r,A=(...r)=>{let e=r[0]==="fromStatic";if(r=e?r.slice(1):r,e&&!te)return r.forEach(n=>console.info(`${z()} \u2714 ${Pe(n)}`));if(!te)return;!U&&!M.node("#logBox")&&(Ie=M.createStyle("JQxLogCSS"),Rt());let t=n=>`${u(n,Object)?JSON.stringify(n,null,2):n}
`;r.forEach(n=>U?console.info(`${z()} \u2714 ${Pe(n)}`):M.node("#jqx_logger").insertAdjacentHTML(he?"afterbegin":"beforeend",`<div class="entry">${z()} ${t(n.replace(/\n/g,"<br>"))}</div>`))},pe={on(){te=!0,A("Logging activated")},off(){te=!1,console.log("Logging deactivated")}},ye={on(){be=!0},off(){be=!1}},R=(...r)=>be&&A(...r),C={get isConsole(){return U===!0},get isOn(){return te},isVisible:function(){return M("#jqx_logger").is("visible")},on(){return pe.on(),ye.on(),U||V()?.addClass("visible"),A("Debug logging started. Every call to [jqx instance] is logged"),C},off(){return V().isEmpty||(ye.off(),A("Debug logging stopped"),V()?.removeClass("visible")),pe.off(),C},toConsole:{on(){return U=!0,A("Started logging to console"),C},off(){return A("Stopped logging to console (except error messages)"),U=!1,C}},remove(){return pe.off(),ye.off(),V()?.remove(),console.clear(),console.log(`${z()} logging completely disabled and all entries removed`),C},log:function(...r){return A(...r),C},hide(){return V()?.removeClass("visible"),C},show:()=>(V()?.addClass("visible"),C),get reversed(){return{on:()=>(he=!0,A("Reverse logging set: now logging bottom to top (latest first)"),M("#logBox .legend").addClass("reversed"),C),off:()=>(he=!1,M("#logBox .legend").removeClass("reversed"),A("Reverse logging reset: now logging chronological (latest last)"),C)}},clear(){return M(Re).text(""),console.clear(),A("Logging cleared"),C}};var kt=!0,se={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/javascript|injected|noreferrer|alert|DataURL/gi},jt=r=>{if(kt&&Object.keys(r.removed).length){let e=Object.entries(r.removed).reduce((t,[n,o])=>[...t,`${_(n)} => ${o}`],[]).join("\\000A");C.log(`JQx HTML creation errors: ${C.isConsole?e:_(e)}`)}},Bt=function(r){let e=r.nodeName.toLowerCase(),t=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!t.find(n=>n===e)||I.isAllowed(e)},re=r=>{let e={rawHTML:r?.parentElement?.getHTML()??"no html",removed:{}};return u(r,HTMLElement)&&[...r.childNodes].forEach(t=>{if(t?.children?.length&&re(t),t?.attributes){let o=u(t,SVGElement)?Q.svg:Q.html;[...(t??{attributes:[]}).attributes].forEach(l=>{let c=l.name.trim().toLowerCase(),p=l.value.trim().toLowerCase().replace(se.whiteSpace,""),b=c==="href"?!se.validURL.test(p):se.notAllowedValues.test(p),h=c.startsWith("data")?!se.data.test(c):!!o[c];if(b||h){let S=le(l.value||"none",60);S+=S.length===60?"...":"",e.removed[`${l.name}`]=`attribute/property (-value) not allowed, removed. Value: ${S}`,t.removeAttribute(l.name)}})}if(!(Bt(t)||t.constructor===CharacterData||t.constructor===Comment)){let o=(t?.outerHTML||t?.textContent).trim(),l=le(o,60)??"EMPTY";l+=l.length===60?"...":"",e.removed[`<${t.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${l}`,t.remove()}}),jt(e),r};var T=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(r,e){return r[String(e).toLowerCase()]??r[e]}}),Jt=r=>{let e=document.createElement("div");return e.insertAdjacentHTML(T.end,r),e.childNodes.length?re(e):void 0},Qt=(r,e,t)=>u(r,Comment)?e.insertAdjacentHTML(t,`<!--${r.data}-->`):e.insertAdjacentText(t,r.data),G=(r=[],e=document.body,t=T.BeforeEnd)=>r.reduce((n,o)=>{let l=ne(o)&&Se(o,e,t);return l?[...n,l]:n},[]),Se=(r,e=document.body,t=T.BeforeEnd)=>(e=e?.isJQx?e?.[0]:e,u(r,Comment,Text)?Qt(r,e,t):e.insertAdjacentElement(t,r)),D=r=>{if(u(r,Text,Comment))return r;let e=r?.trim(),t=e?.split(/<text>|<\/text>/i)??[];if(t?.length&&(t=t.length>1?t.filter(o=>o.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(r.replace(/<!--|-->$/g,""));if(t||!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(t);let n=Jt(r);return n.childNodes.length<1?D(`<span data-jqxcreationerror="1">${N(r,60)}</span>`):n.children[0]};var L=(r,e)=>{let t=r.collection.filter(n=>!ze(n));for(let n=0;n<t.length;n+=1)e(t[n],n);return r},Wt=Oe(),ke=r=>r&&(r.textContent="");var Z=r=>{let e=r.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),r.isConnected?r.remove():r=null,e},Je=(r,e)=>{if(r&&u(e,Object))for(let[t,n]of Object.entries(e))r.setAttribute(`data-${O(t)}`,n)},je=(r,e)=>r.andThen(e,!0),Be=(r,e)=>r.andThen(e),Qe=r=>r.startsWith("data")||Q.html.find(e=>r.toLowerCase()===e),zt=(r,e,t,n)=>{t&&u(e,String)&&(e={[e]:t==="-"?"":t});let o;e.className&&(o=e.className,delete e.className),o=[...r.classList].find(c=>c.startsWith("JQxClass-")||o&&c===o)||o||`JQxClass-${W().slice(1)}`,n.editCssRule(`.${o}`,e),r.classList.add(o)},_t=(r,e)=>{if(r)for(let[t,n]of Object.entries(e)){if(t=O(t),t.startsWith("data"))return Je(r,n);u(n,String)&&Qe(t)&&r.setAttribute(t,n.split(/[, ]/)?.join(" "))}},xe=(r,e)=>{if(u(e,Object))for(let[t,n]of Object.entries(e)){let o;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),o="important"),r.style.setProperty(O(t),n,o)}},Vt={get(r,e){return r[ee(e)]||r[e]},enumerable:!1,configurable:!1},Ut=(...r)=>{C.log("\u2757"+r.map(e=>String(e)).join(", "))},ve=(r,e=0,t=!0)=>(r=r?.parentElement,e+=r?r[t?"scrollTop":"scrollLeft"]:0,r?ve(r,e,t):e);function We(r){return{factoryExtensions:{data:e=>({get all(){return new Proxy(e[0]?.dataset??{},Vt)},set:(t={})=>{if(!e.is.empty&&u(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},get:(t,n)=>e.data.all[t]??n,add:(t={})=>{if(!e.is.empty&&u(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},remove:t=>(e[0]?.removeAttribute(`data-${O(t)}`),e)}),dimensions:e=>{if(e.is.empty)return{error:"[instance].dimensions: NO ELEMENTS"};let t=e[0],n=e.first()?.getBoundingClientRect().toJSON();return n.scrollTopDistance=ve(t,0),n.scrollLeftDistance=ve(t,0,!1),n},node:e=>e[0],HTML:e=>({get:(t,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let o=t?e.outerHtml:e.html();return n?_(o):o},set:(t,n=!1,o=!1)=>{t=t.isJQx?t.HTML.get(1):t;let l=u(t,String);return t=l&&o?_(t):t,l&&(t||"").trim().length&&e.html(t,n),e},replace:(t,n=!1)=>e.HTML.set(t,!1,n),append:(t,n=!1)=>(t=u(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t,!0,n)),insert:(t,n=!1)=>(t=u(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t+e.HTML.get(),!1,n))}),is:e=>Wt(e),length:e=>e.collection.length,outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,parent:e=>{let t=r(e[0]?.parentNode);return t.is.empty?e:t},render:e=>(!e.is.empty&&e.toDOM()||r.log("[JQx.render]: empty collection"),e),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:t=>e.style(t),inSheet:t=>e.css(t),valueOf:t=>e.is.empty?void 0:getComputedStyle(e[0])[O(t)],nwRule:t=>e.Style.byRule({rules:t}),byRule:({classes2Apply:t=[],rules:n=[]}={})=>{let l=u(n,String)&&!t.length?n.split("{")[0].trim():"";if(n=n&&u(n,String)?[n]:n,t=t&&u(t,String)?[t]:t,(n?.length||t?.length)&&(n?.length&&r.editCssRules(...n),t))for(let c of t)e.addClass(c);return l?.startsWith(".")&&e.addClass(l.slice(1)),l?.startsWith("#")&&!e.attr("id")&&e.prop({id:l.slice(1)}),e}})},instanceExtensions:{addClass:(e,...t)=>L(e,n=>n&&t.forEach(o=>n.classList.add(o))),after:Be,afterMe:Be,andThen:(e,t,n=!1)=>{if(!t||!u(t,String,Node,Proxy))return Ut(`[JQx instance].[beforeMe | afterMe | andThen]: insufficient input [${t}]`),e;t=t?.isJQx?t.collection:u(t,Node)?r.virtual(t).collection:r.virtual(D(t)).collection;let[o,l,c]=n?[0,"before",t.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(t)];return e[o][l](...t),e.collection=c,e},append:(e,...t)=>{if(!e.is.empty&&t.length){let n=e.length===1;for(let o of t){if(!o.isJQx&&$(o)){let l=o.trim(),p=!/^<(.+)[^>]+>$/m.test(l)?r.text(o):D(o);L(e,b=>b.append(n?p:Z(p)))}ne(o)&&L(e,l=>l.append(n?o:Z(o))),o.isJQx&&!o.is.empty&&L(e,l=>o.collection.forEach(c=>l.append(n?c:Z(c))))}}return e},appendTo:(e,t)=>(t.isJQx||(t=r(t)),t.append(e),e),attr:(e,t,n)=>{let o=e[0];if(!o)return e;if(!n&&$(t))return t=O(t),t==="class"?[...o?.classList].join(" "):o?.getAttribute(t);if($(t)&&n)switch(t=O(t),!0){case t.startsWith("data-"):t={data:{[t.replace("data-","")]:n}};break;default:t={[t]:n}}return u(t,Object)&&!e.is.empty&&_t(o,t),e},before:je,beforeMe:je,clear:e=>L(e,ke),closest:(e,t)=>{let n=$(t)?e[0].closest(t):null;return n?r(n):e},computedStyle:(e,t)=>e.first()&&getComputedStyle(e.first())[t],css:(e,t,n)=>L(e,o=>zt(o,t,n,r)),duplicate:(e,t=!1,n=document.body)=>{let o=e.toNodeList().map(c=>c.removeAttribute&&c.removeAttribute("id")||c),l=r.virtual(o);return t?l.toDOM(n):l},each:(e,t)=>L(e,t),empty:e=>L(e,ke),find:(e,t)=>e.collection.length>0?[...e.first()?.querySelectorAll(t)]:[],find$:(e,t)=>e.collection.length>0?r(t,e):e,first:(e,t=!1)=>{if(e.collection.length>0)return t?e.single():e.collection[0]},first$:(e,t)=>e.single(t),getData:(e,t,n)=>e.first()&&e.first().dataset?.[t]||n,hasClass:(e,...t)=>{let n=e[0];return!n||!n.classList.length?!1:t.find(o=>n.classList.contains(o))&&!0||!1},hide:e=>L(e,t=>xe(t,{display:"none !important"})),html:(e,t,n)=>{if(t===void 0){let o=e.node;return o?.getHTML&&o.getHTML()||""}if(!e.isEmpty()){let o=D(`<div>${t.isJQx?t.HTML.get(!0):t}</div>`);if(!u(o,Comment))return L(e,c=>(n||(c.textContent=""),c.insertAdjacentHTML(r.at.end,o.getHTML())))}return e},htmlFor:(e,t,n="",o=!1)=>{if(t&&e.collection.length){if(!t||!$(n))return e;let l=e.find$(t);if(l.length<1)return e;let c=D(`<span>${n}</span>`);l.each(p=>{o||(p.textContent=""),p.insertAdjacentHTML(r.at.end,c?.getHTML())})}return e},isEmpty:e=>e.collection.length<1,nth$:(e,t)=>e.single(t),on:(e,t,...n)=>{if(e.collection.length&&u(t,String,Array)){if(t?.length<1||n.length<1)return e;let o=_e(e);r.handle({type:t,selector:o,handlers:n})}return e},prepend:(e,...t)=>{if(!e.is.empty&&t){let n=e.length===1;for(let o of t){if($(o)){o=o.trim();let c=!/^<(.+)[^>]+>$/m.test(o)?r.text(o):D(o);c=n?c:Z(c),L(e,p=>p.prepend(c.cloneNode(!0)))}ne(o)&&L(e,l=>l.prepend(n?o:Z(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),L(e,l=>L(o,c=>l.prepend(n?c:Z(c)))),o.collection.reverse())}}return e},prependTo:(e,t)=>(t.isJQx||(t=r.virtual(t)),t.prepend(e),e),prop:(e,t,n)=>{if(u(t,String)&&!n)return t.startsWith("data")?e[0]?.dataset[t.slice(t.indexOf("-")+1)]:e[0]?.[t];let o=u(t,Object)?t:{[t]:n};for(let[l,c]of Object.entries(o)){if(l=l.trim(),c&&!Qe(l)||!c)return!1;if(l.toLowerCase()==="id")return e[0].id=c;L(e,b=>{if(l.startsWith("data"))return b.dataset[l.slice(l.indexOf("-")+1)]=c;b[l]=c})}return e},remove:(e,t)=>{R(`remove ${N(e.HTML.get(1),40)}${t?` /w selector ${t}`:""}`);let n=l=>l.remove(),o=()=>e.collection=e.collection.filter(l=>document.documentElement.contains(l));if(t){let l=e.find$(t);return l.is.empty||(L(l,n),o()),e}return L(e,n),o(),e},rmAttr:(e,...t)=>{for(let n of t)e.node.removeAttribute(n);return e},removeClass:(e,...t)=>L(e,n=>{if(n)for(let o of t)n.classList.remove(o)}),renderTo:(e,t=document.body,n=r.insertPositions.end)=>(e.toDOM(t,n),e),replace:(e,t,n)=>{let o=e[0];return!t||!n||!u(n,HTMLElement)&&!n.isJQx?(console.error("JQx replace: invalid replacement value"),e):(n.isJQx&&(n=n[0]),u(n,NodeList)&&(n=n[0]),o&&t&&(t=u(t,String)?o.querySelectorAll(t):t.isJQx?t.collection:t,u(t,HTMLElement,NodeList,Array)&&u(n,HTMLElement)&&(u(t,HTMLElement)?[t]:[...t]).forEach(l=>l.replaceWith(n.cloneNode(!0)))),e)},replaceClass:(e,t,...n)=>L(e,o=>{o.classList.remove(t);for(let l of n)o.classList.add(l)}),replaceMe:(e,t)=>e.replaceWith(t),replaceWith:(e,t)=>(t=u(t,Element)?t:t.isJQx?t[0]:void 0,t&&(e[0].replaceWith(t),e=r.virtual(t)),e),setData:(e,t)=>L(e,n=>Je(n,t)),show:e=>L(e,t=>xe(t,{display:"revert-layer !important"})),single:(e,t)=>e.collection.length>0?u(t,String)?e.find$(t):u(t,Number)?r(e.collection[t]):r(e.collection[0]):e,style:(e,t,n)=>L(e,l=>{n&&u(t,String)&&(t={[t]:n||"none"}),xe(l,t)}),text:(e,t,n=!1)=>e.isEmpty()?e:u(t,String)?L(e,l=>l.textContent=n?l.textContent+t:t):e.first().textContent,toDOM:(e,t=document.body,n=T.BeforeEnd)=>(e.isVirtual&&(e.isVirtual=!1),e.collection=G(e.collection,t,n),e),toggleClass:(e,t)=>L(e,n=>n.classList.toggle(t)),toNodeList:e=>[...e.collection].map(t=>document.importNode(t,!0)),trigger:(e,t,n=Event,o={})=>{if(e.collection.length){let l=new n(t,{...o,bubbles:o.bubbles??!0});for(let c of e.collection)c.dispatchEvent(l)}return e},val:(e,t)=>{let n=e[0];return!n||!u(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:t===void 0?n.value:(n.value=u(t,String)?t:"",e)}}}}function Ve(r){if(!r("#jqxPopup").isEmpty())return;r.dialog({id:"jqxPopup"},r.div({id:"jqxPopupContent"})).render,r.editCssRules(...Ce);let[e,t]=[r("#jqxPopupContent"),r.node("#jqxPopup")],n={};return r.handle({type:"click, keydown",handlers:h,capture:!0}),Object.freeze({show:o,removeModal:b});function o(m){if(t.open)return;n={...m};let{content:g}=n;return r.IS(g,String,HTMLElement)||g?.isJQx?c():!0}function l(){return n.modal?x(n.warnMessage):p()}function c(){e.clear();let{content:m,modal:g,closeAfter:a}=n;g=r.IS(g,Boolean)?g:!1;let y=g?"":r.div({id:"closeHandleIcon"});e.append(y,r.IS(m,String)?r.div(m):m),t.showModal(),!g&&r.IS(a,Number)&&S(l,a)}function p(){if(t.close(n.returnValue),r.IS(n.callback,Function))return n.callback(n.returnValue);n={}}function b({callback:m,value:g}={}){n.returnValue=g,n.modal=!1,n.callback=m||n.callback,l()}function h(m){if(!(Object.keys(n).length<1||!t.open))return m.type==="keydown"&&/s/i.test(m.key)&&m.preventDefault(),n.activeTimer&&clearTimeout(n.activeTimer),(m.target.closest("#closeHandleIcon")||!m.target.closest("#jqxPopupContent"))&&l(),document.activeElement.blur()}function S(m,g){r.IS(m,Function)&&r.IS(g,Number)&&g>0&&(n.activeTimer=setTimeout(m,g*1e3))}function x(m){if(!r.IS(m,String,HTMLElement,Proxy))return;let g=e.find$(".warn");switch(!0){case g.is.empty:g=r.div({class:"warn"},m);default:e.append(g.addClass("active")),S(()=>e.find$(".warn").removeClass("active"),2)}}}var P={},Gt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],Ue=r=>!!Gt.find(e=>e===r);function Ge(r){return function(o){let{eventType:l,selector:c,callback:p,name:b,capture:h,once:S,canRemove:x}=o;switch(!0){case(!$(l)||!r.IS(p,Function)):default:b=b||!/handlers$/.test(p.name)&&p.name||void 0,h=r.IS(h,Boolean)?h:!1,S=r.IS(S,Boolean)?S:!1,x=$(b,4)&&r.IS(x,Boolean)?x:!1;let{handler:m,signal:g,remove:a}=e({selector:c,callback:p,canRemove:x,name:b,eventType:l});return n({eventType:l,handler:m,capture:h,once:S,signal:g,remove:a,name:b})}};function e(o){let{selector:l,callback:c,canRemove:p,name:b,eventType:h}=o,S=p&&new AbortController,x=t({abortcontroller:S,name:b,eventType:h}),m=l?{handler:g=>{let a=g.target?.closest?.(l);return a&&c(g,r(a),x)},remove:x}:{handler:g=>c(g,g.target,x),remove:x};return S&&(m.signal=S.signal),m}function t(o){let{abortcontroller:l,name:c,eventType:p}=o;return c?l?function(){l.abort();let h=[...P[p].entries()].find(([S,x])=>x.name===c);P[p].delete(h[0]),setTimeout(()=>console.warn(`Listener for event type [${p}] with name [${c}] was removed`),100)}:function(b){console.error(`Listener for event type [${p}] with name [${c}] is not marked as removable`)}:function(){console.error("An anonymous listener can not be removed")}}function n(o){let{eventType:l,handler:c,capture:p,once:b,signal:h,remove:S,name:x}=o;if(b)return addEventListener(l,c,{once:b});if(P[l]||(P[l]=new Map),!(P[l].has(c)||[...P[l].values()].find(g=>(g.name||"")===x))){let g={capture:p||Ue(l),once:b||!1};h&&(g.signal=h),document.addEventListener(l,c,g);let a={name:x,remove:S,capture:p||Ue(l)};P[l].set(c,a)}}}var Zt={},we,ae,M,{isCommentOrTextNode:ze,isNode:ne,isHtmlString:Ye,isArrayOfHtmlElements:Xe,isArrayOfHtmlStrings:qe,ElemArray2HtmlString:Ke,input2Collection:et,setCollectionFromCssSelector:tt,addHandlerId:_e,cssRuleEdit:Ee,addFn:Yt,elems4Docs:dn}=Xt();function Xt(){let r=K({createWithId:"JQxStylesheet"}),e=(a,y)=>ae[a]=(v,...E)=>y(v,...E),t=a=>u(a,Comment,Text),n=a=>u(a,Text,HTMLElement,Comment),o=a=>u(a,Comment),l=a=>u(a,Text),c=a=>u(a,String)&&/^<|>$/.test(`${a}`.trim()),p=a=>u(a,Array)&&!a?.find(y=>!c(y)),b=a=>u(a,Array)&&!a?.find(y=>!n(y)),h=a=>a?.filter(y=>y).reduce((y,v)=>y.concat(o(v)?`<!--${v.data}-->`:t(v)?v.textContent:v.outerHTML),""),S=a=>a?u(a,Proxy)?[a.EL]:u(a,NodeList)?[...a]:n(a)?[a]:b(a)?a:a.isJQx?a.collection:void 0:[],x=(a,y,v)=>{let E=y!==document.body&&u(a,String)&&a.toLowerCase()!=="body"?y:document,H;try{v.collection=[...E.querySelectorAll(a)]}catch{H=`Invalid CSS querySelector. [${u(a,String)?a:"Nothing valid given!"}]`}return H??`CSS querySelector "${a}", output ${v.collection.length} element(s)`},m=a=>{let y=a.data.get("hid")||`HID${W()}`;return a.data.add({hid:y}),`[data-hid="${y}"]`},g=Object.entries(I.tagsRaw).filter(([,a])=>a).map(([a])=>a).sort((a,y)=>a.localeCompare(y));return{isCommentOrTextNode:t,isNode:n,isComment:o,isText:l,isHtmlString:c,isArrayOfHtmlElements:b,isArrayOfHtmlStrings:p,ElemArray2HtmlString:h,input2Collection:S,setCollectionFromCssSelector:x,addHandlerId:m,cssRuleEdit:r,addFn:e,elems4Docs:g}}function Y(r){return new Proxy(r,{get:(e,t)=>er(e,t,r)})}function qt(r,e){return(...t)=>u(r,Function)&&r(Y(e),...t)}function Kt(r,e){return(...t)=>u(r,Function)&&r(Y(e),...t)}function er(r,e,t){switch(!0){case u(e,Symbol):return r;case u(+e,Number):return r.collection?.[e]||void 0;case e in we:return Kt(we[e],t)();case e in ae:return qt(ae[e],t);default:return r[e]}}function rt(r){let e=lr(r);for(let[t,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(r,t,n),Object.defineProperty(Zt,t,n);return r}function tr(r){return{allow:e=>{let t=/-/.test(e),n=t&&e;e=t?ee(e):e.toLowerCase(),I.allowTag(e),u(r[e],Function)||Object.defineProperties(r,Le(e,!0,r,n))},prohibit:e=>{e=e.toLowerCase(),I.prohibitTag(e),u(r[e],Function)&&Object.defineProperties(r,Le(e,!1,r))}}}function Ze(...r){if(r.length===1){let e=String(r.shift().trim());r=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(t=>t.trim())}for(let e of r.map(t=>t.startsWith("!")?t.slice(1,-1):t))Ee(e,{removeRule:1})}function rr(r){return function(e,t,n){t=t?.isJQx?t?.[0]:t,n=n&&Object.values(T).find(l=>n===l)?n:void 0;let o=r(e,document.createElement("br"));if(t&&!u(t,HTMLBRElement))for(let l of o.collection)n?t.insertAdjacentElement(n,l):t.append(l);return o}}function nr(...r){let e={};for(let t of r){let n=Object.getOwnPropertyDescriptors(t);for(let[o,l]of Object.entries(n))!(o in e)&&Object.defineProperty(e,o,l)}return e}function or(r){console.error(`JQx: "${r}" not allowed, not rendered`)}function ir(r,e,t,n){return r=O(n||r.toLowerCase()),{get(){return(...o)=>e?t.virtual(re(fe[r](...o))):or(r)},enumerable:!1,configurable:!0}}function Le(r,e,t,n){r=r.toLowerCase();let o=ir(r,e,t,n);return n?{[n]:o,[ee(n)]:o}:{[r]:o,[r.toUpperCase()]:o}}function lr(r){return nr(Object.entries(I.tagsRaw).reduce(sr(r),{}),fr(r))}function sr(r){return function(e,[t,n]){return n&&Object.defineProperties(e,Le(t,n,r)),e}}function ar(r){return function(e,t,...n){u(t,Function)&&(n.push(t),t=void 0),r({type:e,selector:t,handlers:n})}}function cr(r){return function(e){let{type:t,origin:n,selector:o,handlers:l,name:c,capture:p,once:b,canRemove:h}=e,S=Me(t),x=c;if(!u(l,Function,Array))return;l=u(l,Function)?[l]:l,h=u(h,Boolean)?h:!1;let m={eventType:S,selector:o||n,capture:p,name:x,once:b,canRemove:h},g=a=>{m.name=x,u(a,Function)&&r({...m,callback:a})};switch(!0){case(u(S,Array)&&S.length>0):for(let a of S){m.eventType=a;for(let y of l)g(y)}return;default:for(let a of l)g(a)}}}function ur(r,e){if(e=$(e)?e:void 0,r=$(r)?r:void 0,e&&r)return[...P[r].values()].find(t=>(t.name||"")===e)}function fr(r){M=r;let{factoryExtensions:e,instanceExtensions:t}=We(r);we=e,ae=t;let n=(p,b)=>Ee(p,b),o=tr(r),l=Ge(r),c=cr(l);return{debugLog:C,log:(...p)=>A("fromStatic",...p),insertPositions:T,get at(){return T},editCssRules:(...p)=>{for(let b of p)Ee(b)},editCssRule:n,get setStyle(){return n},getNamedListener:ur,delegate:ar(c),delegateCaptured:c,handle:c,virtual:rr(r),get fn(){return Yt},allowTag:o.allow,prohibitTag:o.prohibit,get lenient(){return I.allowUnknownHtmlTags},get IS(){return u},get Popup(){return r.activePopup||Object.defineProperty(r,"activePopup",{value:Ve(r),enumerable:!1}),r.activePopup},popup:()=>r.Popup,createStyle:p=>K({createWithId:p||`jqx${W()}`}),editStylesheet:p=>K({createWithId:p||`jqx${W()}`}),removeCssRule:Ze,removeCssRules:Ze,text:(p,b=!1)=>b?r.comment(p):document.createTextNode(p),node:(p,b=document)=>b.querySelector(p,b),nodes:(p,b=document)=>[...b.querySelectorAll(p,b)]}}var pn=rt(dr());function dr(){return function(t,n,o=T.BeforeEnd){if(t?.isJQx)return t;let l=u(n,HTMLBRElement);n=(!l&&n&&n.isJQx?n[0]:n)||document.body,o=o&&Object.values(T).find(g=>o===g)?o:void 0;let c=Ye(t),p=!c&&qe(t),b=p||c,h={collection:et(t)??[],isVirtual:l,isJQx:!0},S=Xe(h.collection),x=`input =&gt; ${p?`"${N(t.join(", "),70)}"`:!b&&S?`element collection [${N(h.collection.map(g=>`${u(g,Comment,Text)?"Comment|Text @":""} ${g?.outerHTML||g?.textContent}`).join(", "),70)}]`:`"${N(t,70)}"`}`;if(h.collection.length&&S)return R(x),l||h.collection.forEach(g=>{n.contains(g)||G([g],n,o)}),Y(h);if(b){if([t].flat().forEach(g=>h.collection.push(D(g))),h.collection.length>0){let g=h.collection.filter(a=>a?.dataset?.jqxcreationerror);h.collection=h.collection.filter(a=>!a?.dataset?.jqxcreationerror),R(`${x}`),R(`*Created ${h.isVirtual?"VIRTUAL ":""}[${N(Ke(h.collection)||"sanitized: no elements remaining",70)}]`),g.length&&console.error(`JQx: illegal html, not rendered: "${g.reduce((a,y)=>a.concat(`${y.textContent}
`),"").trim()}"`),h.isVirtual||G(h.collection,n,o)}return Y(h)}let m=tt(t,n,h);return R(`input => ${m}`),Y(h)}}export{pn as default};

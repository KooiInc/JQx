var st=Object.defineProperty;var o=(t,e)=>st(t,"name",{value:e,configurable:!0});var{IS:c,maybe:te,$Wrap:mr,xProxy:gr,isNothing:pr}=at();function at(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),u();let t=b(),[e,r]=[p(),D()];return r.custom(),{IS:n,maybe:t,$Wrap:e,isNothing:y,xProxy:r};function n(l,...s){if(t({trial:o(m=>"isTypes"in(s?.[0]??{}),"trial")})){let m=s[0];return"defaultValue"in m?x(l,m):"notTypes"in m?g(l,m):n(l,...[m.isTypes].flat())}let f=typeof l=="symbol"?Symbol.isSymbol:l;return s.length>1?A(f,...s):a(l,...s)}o(n,"IS");function i(l){return l?.[Symbol.proxy]??n(l)}o(i,"typeOf");function a(l,...s){let{noInput:f,noShouldbe:m,compareTo:E,inputCTOR:H,isNaN:k,isInfinity:j,shouldBeFirstElementIsNothing:J}=w(l,...s);switch(s=s.length&&s[0],!0){case J:return String(l)===String(E);case(l?.[Symbol.proxy]&&m):return l[Symbol.proxy];case k:return m?"NaN":t({trial:o(Q=>String(E),"trial")})===String(l);case j:return m?"Infinity":t({trial:o(Q=>String(E),"trial")})===String(l);case f:return m?String(l):String(E)===String(l);case H===Boolean:return s?H===s:"Boolean";default:return S(l,s,m,d(l,H))}}o(a,"determineType");function d(l,s){return l===0?Number:l===""?String:l?s:{name:String(l)}}o(d,"getMe");function w(l,...s){let f=s.length<1,m=!f&&s[0],E=!f&&y(s[0]),H=l==null,k=!H&&Object.getPrototypeOf(l)?.constructor,j=t({trial:o(Q=>String(l),"trial")})==="NaN",J=t({trial:o(Q=>String(l),"trial")})==="Infinity";return{noInput:H,noShouldbe:f,compareTo:m,inputCTOR:k,isNaN:j,isInfinity:J,shouldBeFirstElementIsNothing:E}}o(w,"processInput");function S(l,s,f,m){switch(!0){case(!f&&s===l||l?.[Symbol.proxy]&&s===Proxy):return!0;case t({trial:o(E=>String(s),"trial")})==="NaN":return String(l)==="NaN";case(l?.[Symbol.toStringTag]&&n(s,String)):return String(s)===l[Symbol.toStringTag];default:return s?t({trial:o(E=>l instanceof s,"trial")})||s===m||s===Object.getPrototypeOf(m)||`${s?.name}`===m?.name:l?.[Symbol.toStringTag]&&`[object ${l?.[Symbol.toStringTag]}]`||m?.name||String(m)}}o(S,"getResult");function A(l,...s){return s.some(f=>n(l,f))}o(A,"ISOneOf");function y(l,s=!1){let f=l==null;return f=s?f||n(l,1/0)||n(l,NaN):f,f}o(y,"isNothing");function b(){let l=o((s,f)=>s?.constructor===Function?s(f):void 0,"tryFn");return function({trial:s,whenError:f=o(()=>{},"whenError")}={}){try{return l(s)}catch(m){return l(f,m)}}}o(b,"maybeFactory");function p(){return function(l){return Object.freeze({get value(){return l},get[Symbol.type](){return i(l)},get type(){return i(l)},[Symbol.is](...s){return n(l,...s)},is(...s){return n(l,...s)}})}}o(p,"WrapAnyFactory");function x(l,{defaultValue:s,isTypes:f=[void 0],notTypes:m}={}){return f=f?.constructor!==Array?[f]:f,m=m&&m?.constructor!==Array?[m]:[],m.length<1?n(l,...f)?l:s:g(l,{isTypes:f,notTypes:m})?l:s}o(x,"isOrDefault");function g(l,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(l,...s)&&!n(l,...f)}o(g,"isExcept");function u(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return i(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:o(function(...l){return n(this,...l)},"value"),enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(l){return i(l)},enumerable:!1,configurable:!1},[Symbol.is]:{value:o(function(l,...s){return n(l,...s)},"value"),enumerable:!1,configurable:!1}}))}o(u,"addSymbols2Anything");function h(l){let s=String(Object.getPrototypeOf(l)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}o(h,"ctor2String");function v(l){let s=l.set;return l.set=(f,m,E)=>m===Symbol.proxy?f[m]=E:s(f,m,E),l}o(v,"modifySetter");function D(){let l=Proxy;return{native(){Proxy=l},custom(){Proxy=new l(l,{construct(s,f){for(let E of f)E.set&&(E=v(E));let m=new s(...f);return m[Symbol.proxy]=`Proxy (${h(f[0])})`,m}})}}}o(D,"setProxyFactory")}o(at,"TOAFactory");var Re=ft(),W=ct(),V=ut();function ct(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}o(ct,"getAttrs");function ut(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}o(ut,"getPermissions");function ft(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}o(ft,"getPopupStyling");var ke={html:"innerHTML",text:"textContent",class:"className"},re=dt();function dt(){let t={get(e,r){let n=String(r)?.toLowerCase();switch(!0){case n in e:return e[n];case wt(n):return je(e,n,r);default:return je(e,n,r,!0)}},enumerable:!1,configurable:!1};return new Proxy({},t)}o(dt,"tinyDOM");function je(t,e,r,n=!1){return Object.defineProperty(t,e,{get(){return n?i=>St(r):vt(e)}}),t[e]}o(je,"createTagFunctionProperty");function mt(t,e,r){return e=e?.isJQx&&e.first()||e,te({trial:o(n=>xt(e)?t.append(e):Qe(e)?t.insertAdjacentHTML("beforeend",e):t.append(e),"trial"),whenError:o(n=>console.info(`${r} (for root ${t}) not created, reason
`,n),"whenError")})}o(mt,"processNext");function gt(t,e,...r){let n=pt(e,t);return r?.forEach(i=>mt(n,i,t)),n}o(gt,"tagFN");function pt(t,e){switch(t=we(e)?bt(t):t?.isJQx?t.first():t,!0){case c(t,String):return _(e,Qe(t,e)?{html:t}:{text:t});case c(t,Node):return ht(e,t);default:return _(e,t)}}o(pt,"retrieveElementFromInitial");function yt(t){return delete t.data,Object.keys(t).length<1||Object.keys(t).forEach(e=>{let r=e.toLowerCase();r in ke&&(t[ke[r]]=t[e],delete t[e])}),t}o(yt,"cleanupProps");function ht(t,e){let r=_(t);return r.append(e),r}o(ht,"createElementAndAppend");function _(t,e={}){e=Je(e,{});let r=Object.entries(e.data??{}),n=Object.assign(we(t)?new Comment(e?.text):document.createElement(t),yt(e));return r.length&&r.forEach(([i,a])=>n.dataset[i]=String(a)),n}o(_,"createElement");function Je(t,e){return e?c(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):c(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}o(Je,"isObjectCheck");function bt(t){return Je(t)?t?.text??t?.textContent??"":String(t)}o(bt,"cleanupComment");function St(t){return _("b",{style:"color:red",text:`'${t}' is not a valid HTML-tag`})}o(St,"errorElement");function Qe(t,e){return!we(e)&&c(t,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(t)}o(Qe,"containsHTML");function xt(t){return t?.constructor===Comment||t?.constructor===CharacterData}o(xt,"isText");function we(t){return t?.constructor===Comment||/comment/i.test(t)}o(we,"isComment");function wt(t){return!c(_(t),HTMLUnknownElement)}o(wt,"validateTag");function vt(t){return(e,...r)=>gt(t,e,...r)}o(vt,"tag2FN");var{IS:ne,maybe:Er,$Wrap:Fr,xProxy:Cr,isNothing:Lr}=Et();function Et(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),u();let t=b(),[e,r]=[p(),D()];return r.custom(),{IS:n,maybe:t,$Wrap:e,isNothing:y,xProxy:r};function n(l,...s){if(t({trial:o(m=>"isTypes"in(s?.[0]??{}),"trial")})){let m=s[0];return"defaultValue"in m?x(l,m):"notTypes"in m?g(l,m):n(l,...[m.isTypes].flat())}let f=typeof l=="symbol"?Symbol.isSymbol:l;return s.length>1?A(f,...s):a(l,...s)}function i(l){return l?.[Symbol.proxy]??n(l)}function a(l,...s){let{noInput:f,noShouldbe:m,compareTo:E,inputCTOR:H,isNaN:k,isInfinity:j,shouldBeFirstElementIsNothing:J}=w(l,...s);switch(s=s.length&&s[0],!0){case J:return String(l)===String(E);case(l?.[Symbol.proxy]&&m):return l[Symbol.proxy];case k:return m?"NaN":t({trial:o(Q=>String(E),"trial")})===String(l);case j:return m?"Infinity":t({trial:o(Q=>String(E),"trial")})===String(l);case f:return m?String(l):String(E)===String(l);case H===Boolean:return s?H===s:"Boolean";default:return S(l,s,m,d(l,H))}}function d(l,s){return l===0?Number:l===""?String:l?s:{name:String(l)}}function w(l,...s){let f=s.length<1,m=!f&&s[0],E=!f&&y(s[0]),H=l==null,k=!H&&Object.getPrototypeOf(l)?.constructor,j=t({trial:o(Q=>String(l),"trial")})==="NaN",J=t({trial:o(Q=>String(l),"trial")})==="Infinity";return{noInput:H,noShouldbe:f,compareTo:m,inputCTOR:k,isNaN:j,isInfinity:J,shouldBeFirstElementIsNothing:E}}function S(l,s,f,m){switch(!0){case(!f&&s===l||l?.[Symbol.proxy]&&s===Proxy):return!0;case t({trial:o(E=>String(s),"trial")})==="NaN":return String(l)==="NaN";case(l?.[Symbol.toStringTag]&&n(s,String)):return String(s)===l[Symbol.toStringTag];default:return s?t({trial:o(E=>l instanceof s,"trial")})||s===m||s===Object.getPrototypeOf(m)||`${s?.name}`===m?.name:l?.[Symbol.toStringTag]&&`[object ${l?.[Symbol.toStringTag]}]`||m?.name||String(m)}}function A(l,...s){return s.some(f=>n(l,f))}function y(l,s=!1){let f=l==null;return f=s?f||n(l,1/0)||n(l,NaN):f,f}function b(){let l=o((s,f)=>s?.constructor===Function?s(f):void 0,"e");return function({trial:s,whenError:f=o(()=>{},"o")}={}){try{return l(s)}catch(m){return l(f,m)}}}function p(){return function(l){return Object.freeze({get value(){return l},get[Symbol.type](){return i(l)},get type(){return i(l)},[Symbol.is](...s){return n(l,...s)},is(...s){return n(l,...s)}})}}function x(l,{defaultValue:s,isTypes:f=[void 0],notTypes:m}={}){return f=f?.constructor!==Array?[f]:f,m=m&&m?.constructor!==Array?[m]:[],m.length<1?n(l,...f)?l:s:g(l,{isTypes:f,notTypes:m})?l:s}function g(l,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(l,...s)&&!n(l,...f)}function u(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return i(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:o(function(...l){return n(this,...l)},"value"),enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(l){return i(l)},enumerable:!1,configurable:!1},[Symbol.is]:{value:o(function(l,...s){return n(l,...s)},"value"),enumerable:!1,configurable:!1}}))}function h(l){let s=String(Object.getPrototypeOf(l)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function v(l){let s=l.set;return l.set=(f,m,E)=>m===Symbol.proxy?f[m]=E:s(f,m,E),l}function D(){let l=Proxy;return{native(){Proxy=l},custom(){Proxy=new l(l,{construct(s,f){for(let E of f)E.set&&(E=v(E));let m=new s(...f);return m[Symbol.proxy]=`Proxy (${h(f[0])})`,m}})}}}}o(Et,"C");var U=Ft;function Ft({styleSheet:t,createWithId:e}={}){let{tryParseAtOrNestedRules:r,ruleExists:n,checkParams:i,sheet:a,removeRules:d,consider:w,currentSheetID:S}=Ct({styleSheet:t,createWithId:e});function A(g,u){if(g&&u.removeProperties){Object.keys(u.removeProperties).forEach(h=>g.style.removeProperty(Be(h)));return}Object.entries(u).forEach(([h,v])=>{h=Be(h.trim()),v=v.trim();let D;if(/!important/.test(v)&&(v=v.slice(0,v.indexOf("!important")).trim(),D="important"),!CSS.supports(h,v))return console.error(`StylingFactory ${S} error: '${h}' with value '${v}' not supported (yet)`);ze(()=>g.style.setProperty(h,v,D),`StylingFactory ${S} (setRule4Selector) failed`)})}o(A,"P");function y(g,u,h=a){if(g=g?.trim?.(),!ne(g,String)||!g.length||/[;,]$/g.test(g))return console.error(`StylingFactory ${S} (setRules): [${g||"[no selector given]"}] is not a valid selector`);if(u.removeRule)return d(g);let v=n(g,!0),D=v||h.cssRules[h.insertRule(`${g} {}`,h.cssRules.length||0)];return w(()=>A(D,u),g,v)}o(y,"b");function b(g){let u=g.trim().split(/{/,2),h=u.shift().trim();if(!ne(h,String)||!h?.trim()?.length)return console.error(`StylingFactory ${S} (doParse): no (valid) selector could be extracted from rule ${ve(g)}`);let v=Nt(u.shift());return ze(()=>y(h,v),`StylingFactory ${S} (setRules) failed`)}o(b,"h");function p(g){let u=r(g);return u.done?u.existing:b(g)}o(p,"u");function x(g,u){return g.trim().startsWith("@media")?p(Lt(g,u)):y(g,u)}return o(x,"y"),function(g,u={}){return i(g,u)&&(Object.keys(u).length?x(g,u):p(g))}}o(Ft,"k");function Ct({styleSheet:t,createWithId:e}){let r="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;t=e?i(e):t;function i(p){let x=document.querySelector(`#${p}`)?.sheet;if(x)return x;let g=Object.assign(document.createElement("style"),{id:p});return document.head.insertAdjacentElement("beforeend",g),g.sheet}o(i,"S");function a(p){return console.error(`StylingFactory ${n} [rule: ${p}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}o(a,"$");function d(p,x){return[...t.rules].find(g=>x?We(g.selectorText||"",p):$t`${Tt(p)}${[..."gim"]}`.test(g.cssText))}o(d,"x");function w(p){return/^@charset|@import|namespace/i.test(p.trim())?a(p):p.match(/}/g)?.length>1?{existing:y(p,1),done:!0}:{done:!1}}o(w,"O");function S(p){let x=[...t.cssRules].reduce((u,h,v)=>We(h.selectorText||"",p)&&u.concat(v)||u,[]),g=x.length;return x.forEach(u=>t.deleteRule(u)),g>0?console.info(`\u2714 Removed ${g} instance${g>1?"s":""} of selector ${p} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${p} does not exist in ${n.slice(4)}`)}o(S,"d");function A(p,x){return p&&ne(p,String)&&p.trim().length>0&&ne(x,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}o(A,"P");function y(p){p=p.trim();let x=p.slice(0,p.indexOf("{")).trim(),g=!!d(x);try{return t.insertRule(`${p}`,t.cssRules.length),g}catch(u){return console.error(`StylingFactory ${n} (tryParse) ${u.name} Error:
${u.message}
Rule: ${ve(p)}
${r}`),g}}o(y,"b");function b(p,x,g){try{return p(),g}catch(u){return console.error(`StylingFactory ${n} (tryAddOrModify) ${u.name} Error:
${u.message}
Rule: ${ve(x)}
${r}`),g}}return o(b,"h"),{sheet:t,removeRules:S,tryParseAtOrNestedRules:w,ruleExists:d,checkParams:A,tryParse:y,consider:b,currentSheetID:n}}o(Ct,"L");function Lt(t,e){return`${t.trim()} ${Object.entries(e).map(([r,n])=>`${r}: { ${At(n)}`)}`}o(Lt,"T");function ve(t){let e=(t||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return t.length>e.length?`${e.trim()}...truncated`:e}o(ve,"w");function At(t){return Object.entries(t).map(([e,r])=>`${e}: ${r.trim()}`).join(`;
`)}o(At,"q");function Tt(t){return t.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}o(Tt,"z");function $t(t,...e){let r=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&t.raw.reduce((n,i,a)=>n.concat(e[a-1]||"").concat(i),"")||t.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),r)}o($t,"H");function Be(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}o(Be,"I");function ze(t,e){try{return t()}catch(r){console.error(`${e||"an error occured"}: ${r.message}`)}}o(ze,"v");function Dt(t){return t.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,r)=>`${r}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}o(Dt,"U");function Ht(t){return t.reduce((e,r)=>{let[n,i]=[r.slice(0,r.indexOf(":")).trim(),r.slice(r.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&i?{...e,[n]:i}:e},{})}o(Ht,"Z");function Nt(t){return Ht(Dt(t))}o(Nt,"G");function We(t,e){return t?.replace("::",":")===e?.replace("::",":")}o(We,"_");var Ee=!1,Pt={on:o(()=>Ee=!0,"on"),off:o(()=>Ee=!1,"off")},M={tagsRaw:V,allowUnknownHtmlTags:Pt,isAllowed(t){if(Ee)return!0;let e=c(t,String)?t.toLowerCase():t?.nodeName.toLowerCase()||"none";return e==="#text"||!!V[e]},allowTag:o(t=>V[t.toLowerCase()]=!0,"allowTag"),prohibitTag:o(t=>V[t.toLowerCase()]=!1,"prohibitTag")};var Mt=!0,oe={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/^javascript|injected|noreferrer|alert|DataURL/gi};function Ot(t){if(Mt&&Object.keys(t.removed).length){let e=Object.entries(t.removed).reduce((r,[n,i])=>[...r,`${I(n)} => ${i}`],[]).join("\\000A");C.error(`JQx: HTML creation error(s): ${e}`)}}o(Ot,"logContingentErrors");function It(t){let e=t.nodeName.toLowerCase(),r=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!r.find(n=>n===e)||M.isAllowed(e)}o(It,"elementCheck");function B(t){let e={rawHTML:t?.parentElement?.getHTML()??"no html",removed:{}};return c(t,HTMLElement)&&[...t.childNodes].forEach(r=>{if(r?.children?.length&&B(r),r?.attributes){let i=c(r,SVGElement)?W.svg:W.html;[...(r??{attributes:[]}).attributes].forEach(a=>{let d=a.name.trim().toLowerCase(),w=a.value.trim().toLowerCase().replace(oe.whiteSpace,""),S=d==="href"?!oe.validURL.test(w):oe.notAllowedValues.test(w),A=d.startsWith("data")?!oe.data.test(d):!!i[d];if(S||A){let y=ie(a.value||"none",60);y+=y.length===60?"...":"",e.removed[`${a.name}`]=`attribute/property/value not allowed, removed. Value: ${y}`,r.removeAttribute(a.name)}})}if(!(It(r)||r.constructor===CharacterData||r.constructor===Comment)){let i=(r?.outerHTML||r?.textContent).trim(),a=ie(i,60)??"EMPTY";a+=a.length===60?"...":"",e.removed[`<${r.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${a}`,r.remove()}}),Ot(e),t}o(B,"cleanupHtml");function Rt(t){let e=document.createElement("div");return e.insertAdjacentHTML(T.end,t),e.childNodes.length?B(e):void 0}o(Rt,"htmlToVirtualElement");function kt(t,e,r){switch(!0){case c(t,Comment):return e.insertAdjacentHTML(r,`<!--${t.data}-->`);case c(t,Text):return e.insertAdjacentText(r,t.data||t.textContent);default:return}}o(kt,"characterDataElement2DOM");function z(t=[],e=document.body,r=T.BeforeEnd){return r=r||T.BeforeEnd,e=e?.isJQx?e.node:e||document.body,t.reduce((n,i)=>{let a=O(i)&&jt(i,e,r);return a?[...n,a]:n},[])}o(z,"inject2DOMTree");function jt(t,e=document.body,r=T.BeforeEnd){return r=r||T.BeforeEnd,e=e?.isJQx?e?.[0]:e,c(t,Comment,Text)?kt(t,e,r):c(t,HTMLElement)?e.insertAdjacentElement(r,t):void 0}o(jt,"element2DOM");function N(t){if(c(t,Text,Comment))return t;let e=t?.trim(),r=e?.split(/<text>|<\/text>/i)??[];if(r?.length&&(r=r.length>1?r.filter(i=>i.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(t.replace(/<!--|-->$/g,""));if(r||c(e,String)&&!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(r??e);let n=Rt(t);return n.childNodes.length<1?N(`<span data-jqxcreationerror="1">${le(t,60)}</span>`):n.children[0]}o(N,"createElementFromHtmlString");function G(t){if(t.node("#jqxPopup"))return;t.logger.log("JQx: [JQx].Popup first call. Dialog element created."),t.dialog({id:"jqxPopup"},t.div({id:"jqxPopupContent"})).render,t.editCssRules(...Re);let e=[],[r,n]=[t("#jqxPopupContent"),t.node("#jqxPopup")],i={};return t.handle({type:"click, keydown",handlers:p,name:"genericPopupCloseHandler",capture:!0,about:"A generic handler for JQx popups"}),Object.freeze({show:a,remove:d,removeModal:b});function a(u){if(n.open)switch(!0){case w(u):return;default:return d(),setTimeout(()=>a(u),200)}i={...u};let{content:h}=i;return t.IS(h,String,HTMLElement)||h?.isJQx?S():!0}o(a,"initPopup");function d(){return i.modal?g(i.warnMessage):A()}o(d,"initHidePopup");function w(u){for(let[h,v]of Object.entries(i))if(v!==u[h])return!1;return!0}o(w,"isCurrent");function S(){r.clear();let{content:u,modal:h,closeAfter:v}=i;h=t.IS(h,Boolean)?h:!1;let D=h?"":t.div({id:"closeHandleIcon"});r.append(D,t.IS(u,String)?t.div(u):u),n.showModal(),!h&&t.IS(v,Number)&&x(d,v)}o(S,"showPopup");function A(){if(n.close(i.returnValue),y(),t.IS(i.callback,Function))return e.push(setTimeout(()=>i.callback(i.returnValue),200));i={}}o(A,"hidePopup");function y(){e.forEach(u=>clearTimeout(u)),e=[]}o(y,"clearTimers");function b({callback:u,value:h}={}){i.returnValue=h,i.modal=!1,i.callback=u||i.callback,d()}o(b,"removeModal");function p({evt:u}){if(!(Object.keys(i).length<1||!n.open||u.type==="keydown"&&u.key!=="Escape")&&(u.key==="Escape"&&i.modal&&u.preventDefault(),u.target.closest("#closeHandleIcon")||!u.target.closest("#jqxPopupContent")))return i.activeTimer&&clearTimeout(i.activeTimer),d()}o(p,"genericPopupCloseHandler");function x(u,h){t.IS(u,Function)&&t.IS(h,Number)&&h>0&&(y(),e.push(setTimeout(u,h*1e3)))}o(x,"createTimer");function g(u){if(!t.IS(u,String,HTMLElement,Proxy))return;let h=r.find$(".warn");switch(!0){case h.is.empty:h=t.div({class:"warn"},u);default:r.append(h.addClass("active")),x(()=>r.find$(".warn").removeClass("active"),2)}}o(g,"failModalClose")}o(G,"default");function se(t){let e={},r="anonymous_";function n(y){if(y){let{handler:b,capture:p,type:x}=y;document.addEventListener(x,b,{capture:p})}}o(n,"setListener");function i(y){if(y){let{type:b,handler:p,capture:x}=y;document.removeEventListener(b,p,{capture:x})}}o(i,"removeListener");function a(y,b,p,x){return function(g){if(!L(b))return y({evt:g});let u=g.target.closest(b);if(u){let h=t(u);y({self:h,me:h,evt:g}),p&&S(g.type,x)}return!0}}o(a,"wrapFn4Selector");function d(y){return e[y]=e[y]||{},e[y]}o(d,"storedEventType");function w(y,b){return Object.entries(d(y)).find(([p])=>p===b)}o(w,"retrieve");function S(y,b){let p=w(y,b);p&&(i(p[1]),delete e[y][b],delete ae[b],C.warn(`Removed listener [${b}] for event type [${y}].`))}o(S,"remove");function A(y){let{type:b,handler:p,name:x,capture:g,once:u,selector:h,node:v,about:D}=y;e[b]=e[b]||{};let l=Fe(x||p.name),s=p;if(v instanceof HTMLElement){let f=v.dataset.hid||l;v.dataset.hid=f,h=`[data-hid=${f}]`}switch(!0){case!e[b][l]:return C.log(`JQx: created listener for event type ${b}, with handler name ${l}`),e[b][l]={name:l,handler:a(p,h,u,l),capture:Ve(b,g),once:!!u,type:b,initialHandler:s,selector:!!h&&h||!1,about:!!D&&D||!1,unListen(){S(b,l)}},e[b][l];default:return console.warn(`The listener [${l}] for [${b}] exists, it is not re-assigned.`)}}return o(A,"storeHandler"),{remove(...y){return S(...y)},listen:o(function(y){let{type:b,handler:p}=y;if(!L(b)||!c(p,Function))return;let x=A(y);if(x)return n(x),{type:b,name:x.name,unListen(){S(b,x.name)}}},"listen"),get ListenerStore(){return Object.freeze({...e})}}}o(se,"HandlerFactory");var C=Bt(),Jt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],T=Object.freeze(new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(t,e){return t[String(e).toLowerCase()]??t[e]}})),Qt=[...Array(26)].map((t,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((t,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((t,e)=>`${e}`)),Le=Object.freeze({get(t,e){return t[X(e)]||t[e]},enumerable:!1,configurable:!1}),ae={};function Ae(){let t=setTimeout(()=>{});for(;t>=0;)clearTimeout(t--)}o(Ae,"clearAllTimers");function Fe(t){return L(t)&&!/^handler|handlers$/gi.test(t.trim())?t.trim():_e()}o(Fe,"getHandlerName");function _e(t){let e=`anonymous_${Math.random().toString(36).slice(2)}`;return ae[e]?_e():(ae[e]=e,e)}o(_e,"uniqueHandlerID");function Ve(t,e){return!!Jt.find(r=>r===t)||!!e}o(Ve,"getCaptureValue");function fe(t){return t.startsWith("data")||W.html.find(e=>t.toLowerCase()===e)}o(fe,"checkProp");function de(t){return t&&(t.textContent="")}o(de,"emptyElement");function Z(t,e=0,r=!0){return t=t?.parentElement,e+=t?t[r?"scrollTop":"scrollLeft"]:0,t?Z(t,e,r):e}o(Z,"findParentScrollDistance");function L(t,e=1){return e=c(e,Number)&&e||1,c(t,String)&&t.length>=e}o(L,"isNonEmptyString");function ie(t,e=120){return le(t,e).replace(/&lt;/g,"<")}o(ie,"truncate2SingleStr");function le(t,e=120){return`${t}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(t.length>e?" &hellip;":"").trim()}o(le,"truncateHtmlStr");function I(t){switch(!0){case c(t,String):let e=document.createElement("div");return e.append(t),e.innerHTML;default:return t}}o(I,"escHtml");function Ce(t){return c(t,String)&&Object.assign(document.createElement("textarea"),{innerHTML:t}).textContent||t}o(Ce,"decodeForConsole");function Bt(){let t=!1,e=[],r={get on(){return t=!0,r},get off(){return t=!1,r},get backLog(){return e}};function n(...d){return e.unshift(...d.map(w=>`${ue()} \u2A3B ${Ce(w)}`)),console.error(e.slice(0,d.length).join(`
`)),r}o(n,"error");function i(...d){return e.unshift(...d.map(w=>`${ue()} \u26A0 ${Ce(w)}`)),console.warn(e.slice(0,d.length).join(`
`)),r}o(i,"warn");function a(...d){switch(e.unshift(...d.map(w=>`${ue()} \u2714 ${Ce(w)}`)),t){case!0:console.log(e.slice(0,d.length).join(`
`));default:return r}}return o(a,"log"),Object.defineProperties(r,{log:{value:a,enumerable:!1},error:{value:n,enumerable:!1},warn:{value:i,enumerable:!1}}),Object.freeze(r)}o(Bt,"systemLogFactory");function ue(){return(t=>`[${ce(t.getHours())}:${ce(t.getMinutes())}:${ce(t.getSeconds())}.${ce(t.getMilliseconds(),3)}]`)(new Date)}o(ue,"logTime");function Te(t,e){if(t)for(let[r,n]of Object.entries(e)){if(r=P(r),r.startsWith("data"))return me(t,n);c(n,String)&&fe(r)&&t.setAttribute(r,n.split(/[, ]/)?.join(" "))}}o(Te,"assignAttrValues");function me(t,e){if(t&&c(e,Object))for(let[r,n]of Object.entries(e))t.setAttribute(`data-${P(r)}`,n)}o(me,"setData");function ge(t){return t?c(t,Proxy)?[t.EL]:c(t,NodeList)?[...t]:O(t)?[t]:q(t)?t:t.isJQx?t.collection:void 0:[]}o(ge,"input2Collection");function pe(t,e){return t.andThen(e)}o(pe,"after");function ye(t,e){return t.andThen(e,!0)}o(ye,"before");function O(t){return c(t,Text,HTMLElement,Comment)}o(O,"isNode");function Y(t,e){if(c(e,Object))for(let[r,n]of Object.entries(e)){let i;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),i="important"),t.style.setProperty(P(r),n,i)}}o(Y,"applyStyle");function R(t){let e=t.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),t.isConnected?t.remove():t=null,e}o(R,"cloneAndDestroy");function Ue(t){if(!t)return;let e=t.style,r=getComputedStyle(t),n=[e.visibility,r.visibility].includes("hidden"),i=[e.display,r.display].includes("none"),a=t.hidden,d=t.offsetTop<0||t.offsetLeft+t.offsetWidth<0||t.offsetLeft>document.body.offsetWidth,w=+r.opacity==0||+(e.opacity||1)==0;return!(a||d||w||i||n)}o(Ue,"isVisible");function Ge(t){return t?.isConnected?!![...document.querySelectorAll(":is(:read-write)")].find(e=>e===t):!1}o(Ge,"isWritable");function Ze(t){return t?.filter(e=>e).reduce((e,r)=>e.concat(He(r)?`<!--${r.data}-->`:be(r)?r.textContent:r.outerHTML),"")}o(Ze,"ElemArray2HtmlString");function ce(t,e=2){return`${t}`.padStart(e,"0")}o(ce,"pad0");function Ye(t,e=0){return[t,e]=[Math.floor(t),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(t-e+1)+e)}o(Ye,"randomNr");function he(){return`_${zt(Qt).slice(0,8).join("")}`}o(he,"randomString");function $e(t){return t=c(t,String)&&/,/.test(t)?t.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0):t,c(t,Array)?t:c(t,String)&&t?.trim().toLowerCase()||""}o($e,"resolveEventTypeParameter");function Xe(t){return t?.isConnected?!![...document.querySelectorAll(":is(:modal)")].find(e=>e===t):!1}o(Xe,"isModal");function De(t,e){switch(t=String(t).trim(),!0){case/^(0|false|f)$/i.test(t):return!1;case/^(1|true|t)$/i.test(t):return!0;default:return e}}o(De,"convert2Bool");function zt(t){let e=t.length;for(;e--;){let r=Ye(e);[t[e],t[r]]=[t[r],t[e]]}return t}o(zt,"shuffle");function X(t){return c(t,String)?t.toLowerCase().split("-").map((e,r)=>r&&`${Wt(e)}`||e).join(""):t}o(X,"toCamelcase");function P(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}o(P,"toDashedNotation");function Wt([t,...e]){return`${t.toUpperCase()}${e.join("")}`}o(Wt,"ucFirst");function be(t){return c(t,Comment,Text)}o(be,"isCommentOrTextNode");function He(t){c(t,Comment)}o(He,"isComment");function Ke(t){return c(t,Text)}o(Ke,"isText");function K(t){return c(t,String)&&/^<|>$/.test(`${t}`.trim())}o(K,"isHtmlString");function q(t){return c(t,Array)&&!t?.find(e=>!O(e))}o(q,"isArrayOfHtmlElements");function Se(t){return c(t,Array)&&!t?.find(e=>!K(e))}o(Se,"isArrayOfHtmlStrings");function F(t,e){let r=t.collection.filter(n=>!be(n));for(let n=0;n<r.length;n+=1)e(r[n],n);return t}o(F,"loop");function Ne(t,e,r){let n=e!==document.body&&c(t,String)&&t.toLowerCase()!=="body"?e:document,i;try{r.collection=[...n.querySelectorAll(t)]}catch{i=`JQx: Invalid CSS querySelector. [${c(t,String)?t:"Not a string!"}]`}let a=r.collection.length;return a<1?`CSS querySelector "${t}", output: nothing`:i??`CSS querySelector "${t}", output ${a} element${a>1?"s":""}`}o(Ne,"setCollectionFromCssSelector");function qe(){return{isCommentOrTextNode:be,isNode:O,isComment:He,isText:Ke,isHtmlString:K,isArrayOfHtmlElements:q,isArrayOfHtmlStrings:Se,ElemArray2HtmlString:Ze,input2Collection:ge,setCollectionFromCssSelector:Ne,cssRuleEdit:U({createWithId:"JQxStylesheet"})}}o(qe,"selectedFactoryHelpers");function et(){let e=Object.freeze({notInDOM:"n/a",writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"});return r=>{let n=r.node;return c(n,Node)?Object.freeze({get writable(){return Ge(n)},get modal(){return Xe(n)},get inDOM(){return n.isConnected},get open(){return n.open??!1},get visible(){return Ue(n)},get disabled(){return n.hasAttribute("readonly")||n.hasAttribute("disabled")},get empty(){return r.collection.length<1},get virtual(){return r.isVirtual}}):e}}o(et,"ExamineElementFeatureFactory");function tt(t,e,r,n){r&&c(e,String)&&(e={[e]:r==="-"?"":r});let i;e.className&&(i=e.className,delete e.className),i=[...t.classList].find(d=>d.startsWith("JQxClass-")||i&&d===i)||i||`JQxClass-${he().slice(1)}`,n.editCssRule(`.${i}`,e),t.classList.add(i)}o(tt,"css");var Vt=et();function Pe(t){return{factoryExtensions:_t(t),instanceExtensions:Ut(t)}}o(Pe,"default");function _t(t){return{data(e){return{get all(){return new Proxy(e[0]?.dataset??{},Le)},set(r={}){if(!e.is.empty&&c(r,Object))for(let[n,i]of Object.entries(r))e.setData({[n]:i});return e},get(r,n){return e.data.all[r]??n},add(r={}){if(!e.is.empty&&c(r,Object))for(let[n,i]of Object.entries(r))e.setData({[n]:i});return e},remove(r){return e[0]?.removeAttribute(`data-${P(r)}`),e}}},dimensions(e){if(e.is.empty)return C.error("[JQx instance].dimensions called on empty instance"),{error:"[JQx instance].dimensions: NO ELEMENTS"};let{node:r}=e,n=r.getBoundingClientRect().toJSON();return n.scrollTopDistance=Z(r,0),n.scrollLeftDistance=Z(r,0,!1),n},node(e){return e[0]},HTML(e){return{get(r,n){if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let i=r?e.outerHtml:e.html();return n?I(i):i},set(r,n=!1,i=!1){r=r.isJQx?r.HTML.get(1):r;let a=c(r,String);return r=a&&i?I(r):r,a&&(r||"").trim().length&&e.html(r,n),e},replace(r,n=!1){return e.HTML.set(r,!1,n)},append(r,n=!1){return r=c(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r,!0,n)},insert(r,n=!1){return r=c(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r+e.HTML.get(),!1,n)}}},is(e){return Vt(e)},length(e){return e.collection.length},outerHtml(e){return(e.first()||{outerHTML:void 0}).outerHTML},parent(e){let r=t(e[0]?.parentNode);return r.is.empty?e:r},render(e){switch(!0){case!e.is.empty:return e.toDOM();default:return t.logger.warn("[JQx.render]: empty collection"),e}},Style(e){return{get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline(r){return e.style(r)},inSheet(r){return e.css(r)},valueOf(r){return e.is.empty?void 0:getComputedStyle(e[0])[P(r)]},nwRule(r){return e.Style.byRule({rules:r})},byRule({classes2Apply:r=[],rules:n=[]}={}){let a=c(n,String)&&!r.length?n.split("{")[0].trim():"";if(n=n&&c(n,String)?[n]:n,r=r&&c(r,String)?[r]:r,(n?.length||r?.length)&&(n?.length&&t.editCssRules(...n),r))for(let d of r)e.addClass(d);return a?.startsWith(".")&&e.addClass(a.slice(1)),a?.startsWith("#")&&!e.attr("id")&&e.prop({id:a.slice(1)}),e}}}}}o(_t,"factoryExtensionsFactory");function Ut(t){return{addClass(e,...r){return F(e,n=>n&&r.forEach(i=>n.classList.add(i)))},after:pe,afterMe:pe,andThen(e,r,n=!1){if(!r||!c(r,String,Node,Proxy))return C.log("[JQx instance].[before(Me) | after(Me) | andThen]: invalid/-sufficient input."),e;r=r?.isJQx?r:c(r,Node)?t.virtual(r):t.virtual(N(r));let[i,a,d]=n?[0,"before",r.collection.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(r.collection)];return e[i][a](...r.collection),e.collection=d,e},append(e,...r){if(e.is.empty||r.length<1)return e;let n=e.length===1;for(let i of r){if(!i.isJQx&&L(i)){let a=i.trim(),w=!/^<(.+)[^>]+>$/m.test(a)?t.text(i):N(i);F(e,S=>S.append(n?w:R(w)))}O(i)&&F(e,a=>a.append(n?i:R(i))),i.isJQx&&!i.is.empty&&F(e,a=>i.collection.forEach(d=>a.append(n?d:R(d))))}return e},appendTo(e,r){switch(!0){case(!r.isJQx&&!c(r,HTMLElement)):return $.warn("[JQx instance].appendTo: invalid input"),e;default:return(r.isJQx?r:t(r)).append(e),e}},attr(e,r,n){if(!e.node)return e;if(!n&&L(r))return r=P(r),r==="class"?[...e.node.classList].join(" "):e.node.getAttribute(r);if(L(r)&&n)switch(r=P(r),!0){case r.startsWith("data-"):r={data:{[r.replace("data-","")]:n}};break;default:r={[r]:n}}return c(r,Object)&&!e.is.empty&&Te(e.node,r),e},before:ye,beforeMe:ye,clear(e){return F(e,de)},closest(e,r){let n=L(r)?e.node?.closest(r):void 0;return n?t(n):e},computedStyle(e,r){let{node:n}=e;return n&&getComputedStyle(n)[r]},css(e,r,n){return F(e,i=>tt(i,r,n,t))},duplicate(e,r=!1,n=document.body){switch(!0){case e.is.empty:return C.error("Duplicating an empty JQx instance is not possible"),e;default:let i=e.collection[0].cloneNode(!0);return i.childNodes.forEach(a=>{a.removeAttribute&&a?.removeAttribute("id")}),r?t(i).toDOM(n):t.virtual(i)}},each(e,r){return F(e,r)},empty(e){return F(e,de)},find(e,r){return e.collection.length>0?[...e.first()?.querySelectorAll(r)]:[]},find$(e,r){return e.collection.length>0?t(r,e):e},first(e,r=!1){return e.collection.length>0?r?e.single():e.collection[0]:void 0},first$(e,r){return e.single(r)},getData(e,r,n){return e.node?.dataset?.[r]||n},hasClass(e,...r){return e.is.empty||!e.node.classList.length?!1:r.find(n=>e.node.classList.contains(n))&&!0||!1},hide(e){return F(e,r=>Y(r,{display:"none !important"}))},html(e,r,n){switch(!0){case(e.is.empty&&!L(r)):return"";case!L(r):return e.node?.getHTML()??"";default:let i=N(`<div>${r.isJQx?r.HTML.get(!0):r}</div>`);return F(e,o(d=>(d.textContent=n?d.textContent:"",d.insertAdjacentHTML(t.at.end,i.getHTML())),"cb"))}},htmlFor(e,r,n="",i=!1){if(e.is.empty||!L(r)||!L(n))return e;let a=e.find$(r);if(a.length<1)return e;let d=N(`<span>${n}</span>`);return a.each(w=>{i||(w.textContent=""),w.insertAdjacentHTML(t.at.end,d?.getHTML())}),e},isEmpty(e){return!e.node},nth$(e,r){return e.single(r)},on(e,r,...n){switch(!0){case(e.is.empty||!c(r,String,Array)||!L(r)||n.length<1):return e;default:return t.handle({type:r,node:e.node,handler:n}),e}},once(e,r,...n){switch(!0){case(e.is.empty||!c(r,String,Array)||!L(r)||n.length<1):return e;default:return t.handle({type:r,once:!0,node:e.node,handler:n}),e}},prepend(e,...r){if(e.is.empty||!r)return;let n=e.length===1;for(let i of r){if(L(i)){i=i.trim();let d=!/^<(.+)[^>]+>$/m.test(i)?t.text(i):N(i);d=n?d:R(d),F(e,w=>w.prepend(d.cloneNode(!0)))}O(i)&&F(e,a=>a.prepend(n?i:R(i))),i.isJQx&&!i.is.empty&&(i.collection.length>1&&i.collection.reverse(),F(e,a=>F(i,d=>a.prepend(n?d:R(d)))),i.collection.reverse())}return e},prependTo(e,r){return r.isJQx||(r=t.virtual(r)),r.prepend(e),e},prop(e,r,n){if(c(r,String)&&!n)return r.startsWith("data")?e[0]?.dataset[r.slice(r.indexOf("-")+1)]:e[0]?.[r];let i=c(r,Object)?r:{[r]:n};for(let[a,d]of Object.entries(i)){if(a=a.trim(),d&&!fe(a)||!d)return!1;if(a.toLowerCase()==="id")return e[0].id=d;F(e,S=>{if(a.startsWith("data"))return S.dataset[a.slice(a.indexOf("-")+1)]=d;S[a]=d})}return e},remove(e,r){let n=o(a=>a.remove(),"remover"),i=o(()=>e.collection=e.collection.filter(a=>document.documentElement.contains(a)),"removeFromCollection");if(r){let a=e.find$(r);return a.is.empty||(F(a,n),i()),e}return F(e,n),i(),e},rmAttr(e,...r){for(let n of r)e.node.removeAttribute(n);return e},removeClass(e,...r){return F(e,n=>{if(n)for(let i of r)n.classList.remove(i)})},renderTo(e,r,n){return r=c(r,HTMLElement)||r.isJQx?r:document.body,n=c(n,String)&&t.at[n]?n:t.at.end,e.first$().toDOM(r,n),e},replace(e,r,n){let i=e.node;return!r||!c(n,HTMLElement)&&!n?.isJQx?(t.logger.error("JQx replace: invalid replacement value"),e):((n.isJQx||c(n,NodeList))&&(n=n[0]),i&&r&&(r=c(r,String)?i.querySelectorAll(r):r.isJQx?r.collection:r,c(r,HTMLElement,NodeList,Array)&&c(n,HTMLElement)&&(c(r,HTMLElement)?[r]:[...r]).forEach(a=>a.replaceWith(n.cloneNode(!0)))),e)},replaceClass(e,r,...n){return F(e,i=>{i.classList.remove(r);for(let a of n)i.classList.add(a)})},replaceMe(e,r){return e.replaceWith(r)},replaceWith(e,r){return r=c(r,Element)?r:r.isJQx?r[0]:void 0,r&&(e[0].replaceWith(r),e=t.virtual(r)),e},setData(e,r){return F(e,n=>me(n,r))},show(e){return F(e,r=>Y(r,{display:"revert-layer !important"}))},single(e,r){let n=e.collection.length>0;switch(r=r??0,!0){case(n&&c(r,String)):return e.find$(r);case(n&&c(r,Number)):return t(e.collection[r]);case n:return e.collection[0];default:return e}},style(e,r,n){return F(e,o(a=>{n&&c(r,String)&&(r={[r]:n||"none"}),Y(a,r)},"loopCollectionLambda"))},text(e,r,n=!1){switch(!0){case e.isEmpty():return e;case!c(r,String):return e.node.textContent;default:return F(e,i=>i.textContent=n?i.textContent+r:r)}},toDOM(e,r=document.body,n=T.BeforeEnd){return e.isVirtual=!1,z(e.collection,r,n),e},toggleClass(e,r){return F(e,n=>n.classList.toggle(r))},toNodeList(e){return[...e.collection].map(r=>document.importNode(r,!0))},trigger(e,r,n,i){if(n=/Event\]$/.test(c(n))?n:Event,i=c(i,Object)?{...i,bubbles:i.bubbles??!0}:{bubbles:!0},!e.is.empty){let a=new n(r,i);e.each(d=>d.dispatchEvent(a))}return e},val(e,r){switch(!0){case(e.is.empty||!c(e.node,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)):return e;case!c(r,String):return e.node.value;default:return e.node.value=c(r,String)?r:"",e}}}}o(Ut,"instanceExtensionsFactory");var Me,xe,{isComment:gn,isText:pn,isHtmlString:yn,isArrayOfHtmlElements:hn,isArrayOfHtmlStrings:bn,ElemArray2HtmlString:Sn,cssRuleEdit:Oe,addFn:Gt}=Zt();function Zt(){return{...qe(),addFn:Yt}}o(Zt,"selectedUtilitiesFactory");function Yt(t,e){return t=t?.trim(),!L(t)||!c(e,Function)?C.error("JQx.fn: method invalid parameter(s)"):xe[t]=(r,...n)=>e(r,...n)}o(Yt,"addFnMethod");function Xt(t){return function(e,r,n){if(e=e?.trim(),!L(e)||!c(r,Function))return t.error("JQx.staticFn: invalid parameter(s)");let i=n?{get(){return r()}}:{value(...a){return r(...a)}};try{Object.defineProperty(t,e,i)}catch{return t.warn(`JQx.staticFn: extension [${e}] already exists`)}return C.log(`JQx: added static extension function [${e}]`)}}o(Xt,"staticFNMethodFactory");function ee(t){return new Proxy(t,Object.freeze({get:o((e,r)=>Kt(e,r,t),"get")}))}o(ee,"proxify");function rt(t,e){return(...r)=>c(t,Function)&&t(ee(e),...r)}o(rt,"wrap");function Kt(t,e,r){switch(!0){case c(e,Symbol):return t;case c(+e,Number):return t.collection?.[e]||void 0;case e in Me:return rt(Me[e],r)();case e in xe:return rt(xe[e],r);default:return t[e]}}o(Kt,"proxyKeyFactory");function it(t){let e=nr(t);for(let[r,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(t,r,n);return t}o(it,"addJQxStaticMethods");function qt(t){return{allow(e){let r=/-/.test(e),n=r&&e;e=r?X(e):e.toLowerCase(),M.allowTag(e),c(t[e],Function)||Object.defineProperties(t,Ie(e,!0,t,n))},prohibit(e){e=e.toLowerCase(),M.prohibitTag(e),c(t[e],Function)&&Object.defineProperties(t,Ie(e,!1,t))}}}o(qt,"allowances");function nt(...t){if(t.length===1){let e=String(t.shift().trim());t=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(r=>r.trim())}for(let e of t.map(r=>r.startsWith("!")?r.slice(1,-1):r))Oe(e,{removeRule:1})}o(nt,"cssRemove");function er(t){return function(e,r,n){r=r?.isJQx?r?.[0]:r,n=n&&Object.values(T).find(a=>n===a);let i=t(e,document.createElement("br"));if(r&&!c(r,HTMLBRElement))for(let a of i.collection)n?r.insertAdjacentElement(n,a):r.append(a);return i}}o(er,"virtualFactory");function tr(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);for(let[i,a]of Object.entries(n))!(i in e)&&Object.defineProperty(e,i,{...a,enumerable:!1})}return e}o(tr,"combineObjectSources");function rr(t,e,r,n){return t=P(n||t.toLowerCase()),{get(){return(...i)=>(C.log(e?`JQx: created (virtual) instance from [JQx].${t}`:`Could not create instance from [JQx].${t}`),e&&r.virtual(B(re[t](...i))))},enumerable:!1,configurable:!0}}o(rr,"tagGetterFactory");function Ie(t,e,r,n){t=t.toLowerCase();let i=rr(t,e,r,n);return n?{[n]:i,[X(n)]:i}:{[t]:i,[t.toUpperCase()]:i}}o(Ie,"addGetters");function nr(t){return tr(Object.entries(M.tagsRaw).reduce(or(t),{}),ur(t))}o(nr,"defaultStaticMethodsFactory");function or(t){return function(e,[r,n]){return n&&Object.defineProperties(e,Ie(r,n,t)),e}}o(or,"staticTagsLambda");function ir(t){return function(e,r,...n){c(r,Function)&&(n.push(r),r=void 0),t({type:e,selector:r,handlers:n})}}o(ir,"delegateFactory");function lr(t){return function(e){let{type:r,types:n,origin:i,selector:a,handler:d,handlers:w,node:S,name:A,capture:y,once:b,about:p}=e;d=w||d,r=n||r,a=i||a;let x=$e(r),g=A;d=c(d,Function)?[d]:d;let u={type:x,selector:a||i,capture:y,name:g,once:b,node:S,about:p};switch(!0){case(c(x,Array)&&x.length>0):for(let h of x)u.type=h,ot(d,u,t);break;default:return ot(d,u,t)}}}o(lr,"delegateCaptureFactory");function ot(t,e,r){for(let n of t)r.listen({...e,handler:n})}o(ot,"assignListeners");function sr(t){return function(e,r){return r=L(r)&&r,e=L(e)&&e,r&&e&&t.listenerStore[e][r]}}o(sr,"getNamedListenerFactory");function ar(t){return t.activePopup||Object.defineProperty(t,"activePopup",{value:G(t),enumerable:!1}),t.activePopup}o(ar,"popupGetter");function cr(t){let e=o((y,b)=>Oe(y,b),"editCssRule"),r=o(function(y){return U({createWithId:y||`jqx${he()}`})},"createStyle"),n=o(function(...y){for(let b of y)Oe(b)},"editCssRules"),i=qt(t),a=se(t),d=lr(a);return{editCssRule:e,createStyle:r,editCssRules:n,allowProhibit:i,handle:d,capturedHandling:d,log:o((...y)=>C.on.log(...y).off,"log"),warn:o((...y)=>C.on.warn(...y).off,"warn"),error:o((...y)=>C.on.error(...y).off,"error"),handlerWrapper:a}}o(cr,"getSelectedStaticMethods");function ur(t){let{factoryExtensions:e,instanceExtensions:r}=Pe(t);Me=e,xe=r;let{editCssRule:n,createStyle:i,editCssRules:a,allowProhibit:d,handle:w,capturedHandling:S,log:A,warn:y,error:b,handlerWrapper:p}=cr(t),x=sr(t),g=Xt(t);return{log:A,warn:y,error:b,editCssRules:a,createStyle:i,editStylesheet:i,editCssRule:n,escHtml:I,logger:C,text(u,h=!1){return h?t.comment(u):document.createTextNode(u)},node(u,h=document){return h.querySelector(u,h)},nodes(u,h=document){return[...h.querySelectorAll(u,h)]},clearAllTimers:Ae,get staticFn(){return function(u,h,v){return g(u,h,v)}},get toBool(){return De},get getNamedListener(){return x},get virtual(){return er(t)},get allowTag(){return d.allow},get prohibitTag(){return d.prohibit},get removeCssRule(){return nt},get removeCssRules(){return nt},get delegate(){return ir(S)},get delegateCaptured(){return S},get handle(){return S},get listen(){return p.listen},get at(){return T},get setStyle(){return n},get fn(){return Gt},get lenient(){return M.allowUnknownHtmlTags},get IS(){return c},get Popup(){return ar(t)},get listenerStore(){return p.ListenerStore}}}o(ur,"staticMethodsFactory");var lt=it(fr());function fr(){return function(e,r,n=T.BeforeEnd){if(e?.isJQx)return e;let i=c(r,HTMLBRElement);r=(!i&&r&&r.isJQx?r[0]:r)||document.body,n=n&&Object.values(T).find(b=>n===b)?n:void 0;let a=K(e),w=!a&&Se(e)||a,S={collection:ge(e)??[],isVirtual:i,isJQx:!0},A=q(S.collection);if(S.collection.length&&A)return i||S.collection.forEach(b=>{r.contains(b)||z([b],r,n)}),ee(S);if(w){if([e].flat().forEach(b=>S.collection.push(N(b))),S.collection.length>0){let b=S.collection.filter(u=>u?.dataset?.jqxcreationerror);S.collection=S.collection.filter(u=>!u?.dataset?.jqxcreationerror);let p=S.collection.map(u=>`${String(u.constructor).split(/function|\(/)[1].trim()}`),x=p.length>1,g=S.collection.length?p.join(", "):"sanitized: no elements remaining";C.log(`JQx: created ${S.isVirtual?"(virtual)":""} instance from ${x?"array of ":""}HTML string${x?"s":""} (${g})`),S.isVirtual||z(S.collection,r,n)}return ee(S)}let y=Ne(e,r,S);return e!==null&&C.log(`JQx: input => ${y}`),ee(S)}}o(fr,"JQxMainFactory");var An=lt;export{An as default};

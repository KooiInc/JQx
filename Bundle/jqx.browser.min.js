var JQx=(()=>{var xe=Object.defineProperty;var dt=Object.getOwnPropertyDescriptor;var mt=Object.getOwnPropertyNames;var gt=Object.prototype.hasOwnProperty;var pt=(t,e)=>{for(var r in e)xe(t,r,{get:e[r],enumerable:!0})},yt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of mt(e))!gt.call(t,o)&&o!==r&&xe(t,o,{get:()=>e[o],enumerable:!(n=dt(e,o))||n.enumerable});return t};var bt=t=>yt(xe({},"__esModule",{value:!0}),t);var Cr={};pt(Cr,{default:()=>Er});var{IS:l,maybe:z,$Wrap:Tr,isNothing:$r,xProxy:Fr,addSymbolicExtensions:Ar}=ht({useSymbolicExtensions:!1});function ht(t={}){let{useSymbolicExtensions:e}=t,{xProxy:r,addSymbolicExtensions:n}=St(a,p,e),o=L(),[i]=[P()];return r.custom(),e&&n(),{IS:a,maybe:o,$Wrap:i,isNothing:b,xProxy:r,addSymbolicExtensions:n};function a(s,...d){let w=typeof s=="symbol"?Symbol.isSymbol:s;switch(!0){case!!o({trial:T=>"isTypes"in(d?.[0]??{})}):return S(s,d[0]);default:return d.length>1?c(w,...d):C(s,...d)}}function S(s,d){switch(!0){case"defaultValue"in d:return u(s,d);case"notTypes"in d:return g(s,d);default:return a(s,...[d.isTypes].flat())}}function p(s){return s?.[Symbol.proxy]??a(s)}function C(s,...d){let{noInput:w,noShouldbe:T,compareTo:M,inputCTOR:Q,isNaN:ut,isInfinity:ct,shouldBeFirstElementIsNothing:ft}=f(s,...d);switch(d=d.length&&d[0],!0){case ft:return String(s)===String(M);case(s?.[Symbol.proxy]&&T):return s[Symbol.proxy];case ut:return T?"NaN":String(M)===String(s);case ct:return T?"Infinity":String(M)===String(s);case w:return T?String(s):String(M)===String(s);case Q===Boolean:return d?Q===d:"Boolean";default:return y(s,d,T,h(s,Q))}}function f(s,...d){let w=d.length<1,T=s==null;return{noInput:T,noShouldbe:w,compareTo:!w&&d[0],inputCTOR:!T&&Object.getPrototypeOf(s)?.constructor,isNaN:Number.isNaN(s)||o({trial:M=>String(s)==="NaN"}),isInfinity:o({trial:M=>String(s)})==="Infinity",shouldBeFirstElementIsNothing:!w&&b(d[0])}}function h(s,d){switch(!0){case s===0:return Number;case s==="":return String;case!s:return{name:String(s)};default:return d}}function y(s,d,w,T){switch(!0){case(!w&&d===s||s?.[Symbol.proxy]&&d===Proxy):return!0;case String(d)==="NaN":return String(s)==="NaN";case(s?.[Symbol.toStringTag]&&a(d,String)):return String(d)===s[Symbol.toStringTag];default:return d?m(s,d,T):x(s,T)}}function x(s,d){return s?.[Symbol.toStringTag]&&`[object ${s?.[Symbol.toStringTag]}]`||d?.name||String(d)}function m(s,d,w){return o({trial:T=>s instanceof d})||d===w||d===Object.getPrototypeOf(w)||`${d?.name}`===w?.name}function c(s,...d){return d.some(w=>a(s,w))}function b(s,d=!1){let w=s==null;return w=d?w||a(s,1/0)||a(s,NaN):w,w}function L(){let s=d=>{};return function({trial:d,whenError:w=s}={}){try{return d()}catch(T){return w(T)}}}function P(){return function(s){return Object.freeze({get value(){return s},get[Symbol.type](){return p(s)},get type(){return p(s)},[Symbol.is](...d){return a(s,...d)},is(...d){return a(s,...d)}})}}function u(s,{defaultValue:d,isTypes:w=[void 0],notTypes:T}={}){return w=w?.constructor!==Array?[w]:w,T=T&&T?.constructor!==Array?[T]:[],T.length<1?a(s,...w)?s:d:g(s,{isTypes:w,notTypes:T})?s:d}function g(s,{isTypes:d=[void 0],notTypes:w=[void 0]}={}){return d=d?.constructor!==Array?[d]:d,w=w?.constructor!==Array?[w]:w,a(s,...d)&&!a(s,...w)}function v(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return p(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...s){return a(this,...s)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(s){return p(s)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(s,...d){return a(s,...d)},enumerable:!1,configurable:!1}}))}function E(s){let d=s.set;return s.set=(w,T,M)=>T===Symbol.proxy?w[T]=M:d(w,T,M),s}}function St(t,e,r){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for("toa.isASymbol")),{xProxy:a(),addSymbolicExtensions:n};function n(){Symbol.is||(Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type")),Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return e(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...S){return t(this,...S)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(S){return e(S)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(S,...p){return t(S,...p)},enumerable:!1,configurable:!1}}))}function o(S){return Object.getPrototypeOf(S)?.constructor?.name||"Object"}function i(S){return function(){Proxy=new S(S,{construct(p,C){for(let h of C)h.set&&(h=modifySetter(h));let f=new p(...C);return f[Symbol.proxy]=`Proxy (${o(C[0])})`,f}})}}function a(){Symbol.proxy||(Symbol.proxy=Symbol.for("toa.proxy"));let S=Proxy;return{native(){Proxy=S},custom:i(S)}}}var je=wt(),B=xt(),V=vt();function xt(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function vt(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function wt(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var Re={html:"innerHTML",text:"textContent",class:"className"},ee=Et();function Et(){let t={get(e,r){let n=String(r)?.toLowerCase();switch(!0){case n in e:return e[n];case Pt(n):return Je(e,n,r);default:return Je(e,n,r,!0)}},enumerable:!1,configurable:!1};return new Proxy({},t)}function Je(t,e,r,n=!1){return Object.defineProperty(t,e,{get(){return n?o=>Ht(r):Mt(e)}}),t[e]}function Ct(t,e,r){return e=e?.isJQx&&e.first()||e,z({trial:n=>Nt(e)?t.append(e):ke(e)?t.insertAdjacentHTML("beforeend",e):t.append(e),whenError:n=>console.info(`${r} (for root ${t}) not created, reason
`,n)})}function Lt(t,e,...r){let n=Tt(e,t);return r?.forEach(o=>Ct(n,o,t)),n}function Tt(t,e){switch(t=ve(e)?At(t):t?.isJQx?t.first():t,!0){case l(t,String):return U(e,ke(t,e)?{html:t}:{text:t});case l(t,Node):return Ft(e,t);default:return U(e,t)}}function $t(t){return delete t.data,Object.keys(t).length<1||Object.keys(t).forEach(e=>{let r=e.toLowerCase();r in Re&&(t[Re[r]]=t[e],delete t[e])}),t}function Ft(t,e){let r=U(t);return r.append(e),r}function U(t,e={}){e=Qe(e,{});let r=Object.entries(e.data??{}),n=Object.assign(ve(t)?new Comment(e?.text):document.createElement(t),$t(e));return r.length&&r.forEach(([o,i])=>n.dataset[o]=String(i)),n}function Qe(t,e){return e?l(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):l(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function At(t){return Qe(t)?t?.text??t?.textContent??"":String(t)}function Ht(t){return U("b",{style:"color:red",text:`'${t}' is not a valid HTML-tag`})}function ke(t,e){return!ve(e)&&l(t,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(t)}function Nt(t){return t?.constructor===Comment||t?.constructor===CharacterData}function ve(t){return t?.constructor===Comment||/comment/i.test(t)}function Pt(t){return!l(U(t),HTMLUnknownElement)}function Mt(t){return(e,...r)=>Lt(t,e,...r)}var{IS:te,maybe:Or,$Wrap:Dr,xProxy:Ir,isNothing:jr}=Ot();function Ot(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),c();let t=h(),[e,r]=[y(),P()];return r.custom(),{IS:n,maybe:t,$Wrap:e,isNothing:f,xProxy:r};function n(u,...g){if(t({trial:E=>"isTypes"in(g?.[0]??{})})){let E=g[0];return"defaultValue"in E?x(u,E):"notTypes"in E?m(u,E):n(u,...[E.isTypes].flat())}let v=typeof u=="symbol"?Symbol.isSymbol:u;return g.length>1?C(v,...g):i(u,...g)}function o(u){return u?.[Symbol.proxy]??n(u)}function i(u,...g){let{noInput:v,noShouldbe:E,compareTo:s,inputCTOR:d,isNaN:w,isInfinity:T,shouldBeFirstElementIsNothing:M}=S(u,...g);switch(g=g.length&&g[0],!0){case M:return String(u)===String(s);case(u?.[Symbol.proxy]&&E):return u[Symbol.proxy];case w:return E?"NaN":t({trial:Q=>String(s)})===String(u);case T:return E?"Infinity":t({trial:Q=>String(s)})===String(u);case v:return E?String(u):String(s)===String(u);case d===Boolean:return g?d===g:"Boolean";default:return p(u,g,E,a(u,d))}}function a(u,g){return u===0?Number:u===""?String:u?g:{name:String(u)}}function S(u,...g){let v=g.length<1,E=!v&&g[0],s=!v&&f(g[0]),d=u==null,w=!d&&Object.getPrototypeOf(u)?.constructor,T=t({trial:Q=>String(u)})==="NaN",M=t({trial:Q=>String(u)})==="Infinity";return{noInput:d,noShouldbe:v,compareTo:E,inputCTOR:w,isNaN:T,isInfinity:M,shouldBeFirstElementIsNothing:s}}function p(u,g,v,E){switch(!0){case(!v&&g===u||u?.[Symbol.proxy]&&g===Proxy):return!0;case t({trial:s=>String(g)})==="NaN":return String(u)==="NaN";case(u?.[Symbol.toStringTag]&&n(g,String)):return String(g)===u[Symbol.toStringTag];default:return g?t({trial:s=>u instanceof g})||g===E||g===Object.getPrototypeOf(E)||`${g?.name}`===E?.name:u?.[Symbol.toStringTag]&&`[object ${u?.[Symbol.toStringTag]}]`||E?.name||String(E)}}function C(u,...g){return g.some(v=>n(u,v))}function f(u,g=!1){let v=u==null;return v=g?v||n(u,1/0)||n(u,NaN):v,v}function h(){let u=(g,v)=>g?.constructor===Function?g(v):void 0;return function({trial:g,whenError:v=()=>{}}={}){try{return u(g)}catch(E){return u(v,E)}}}function y(){return function(u){return Object.freeze({get value(){return u},get[Symbol.type](){return o(u)},get type(){return o(u)},[Symbol.is](...g){return n(u,...g)},is(...g){return n(u,...g)}})}}function x(u,{defaultValue:g,isTypes:v=[void 0],notTypes:E}={}){return v=v?.constructor!==Array?[v]:v,E=E&&E?.constructor!==Array?[E]:[],E.length<1?n(u,...v)?u:g:m(u,{isTypes:v,notTypes:E})?u:g}function m(u,{isTypes:g=[void 0],notTypes:v=[void 0]}={}){return g=g?.constructor!==Array?[g]:g,v=v?.constructor!==Array?[v]:v,n(u,...g)&&!n(u,...v)}function c(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...u){return n(this,...u)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(u){return o(u)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(u,...g){return n(u,...g)},enumerable:!1,configurable:!1}}))}function b(u){let g=String(Object.getPrototypeOf(u)?.constructor);return g.slice(g.indexOf("ion")+3,g.indexOf("(")).trim()}function L(u){let g=u.set;return u.set=(v,E,s)=>E===Symbol.proxy?v[E]=s:g(v,E,s),u}function P(){let u=Proxy;return{native(){Proxy=u},custom(){Proxy=new u(u,{construct(g,v){for(let s of v)s.set&&(s=L(s));let E=new g(...v);return E[Symbol.proxy]=`Proxy (${b(v[0])})`,E}})}}}}var _=Dt;function Dt({styleSheet:t,createWithId:e}={}){let{tryParseAtOrNestedRules:r,ruleExists:n,checkParams:o,sheet:i,removeRules:a,consider:S,currentSheetID:p}=It({styleSheet:t,createWithId:e});function C(m,c){if(m&&c.removeProperties){Object.keys(c.removeProperties).forEach(b=>m.style.removeProperty(We(b)));return}Object.entries(c).forEach(([b,L])=>{b=We(b.trim()),L=L.trim();let P;if(/!important/.test(L)&&(L=L.slice(0,L.indexOf("!important")).trim(),P="important"),!CSS.supports(b,L))return console.error(`StylingFactory ${p} error: '${b}' with value '${L}' not supported (yet)`);ze(()=>m.style.setProperty(b,L,P),`StylingFactory ${p} (setRule4Selector) failed`)})}function f(m,c,b=i){if(m=m?.trim?.(),!te(m,String)||!m.length||/[;,]$/g.test(m))return console.error(`StylingFactory ${p} (setRules): [${m||"[no selector given]"}] is not a valid selector`);if(c.removeRule)return a(m);let L=n(m,!0),P=L||b.cssRules[b.insertRule(`${m} {}`,b.cssRules.length||0)];return S(()=>C(P,c),m,L)}function h(m){let c=m.trim().split(/{/,2),b=c.shift().trim();if(!te(b,String)||!b?.trim()?.length)return console.error(`StylingFactory ${p} (doParse): no (valid) selector could be extracted from rule ${we(m)}`);let L=zt(c.shift());return ze(()=>f(b,L),`StylingFactory ${p} (setRules) failed`)}function y(m){let c=r(m);return c.done?c.existing:h(m)}function x(m,c){return m.trim().startsWith("@media")?y(jt(m,c)):f(m,c)}return function(m,c={}){return o(m,c)&&(Object.keys(c).length?x(m,c):y(m))}}function It({styleSheet:t,createWithId:e}){let r="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;t=e?o(e):t;function o(y){let x=document.querySelector(`#${y}`)?.sheet;if(x)return x;let m=Object.assign(document.createElement("style"),{id:y});return document.head.insertAdjacentElement("beforeend",m),m.sheet}function i(y){return console.error(`StylingFactory ${n} [rule: ${y}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function a(y,x){return[...t.rules].find(m=>x?Be(m.selectorText||"",y):Qt`${Jt(y)}${[..."gim"]}`.test(m.cssText))}function S(y){return/^@charset|@import|namespace/i.test(y.trim())?i(y):y.match(/}/g)?.length>1?{existing:f(y,1),done:!0}:{done:!1}}function p(y){let x=[...t.cssRules].reduce((c,b,L)=>Be(b.selectorText||"",y)&&c.concat(L)||c,[]),m=x.length;return x.forEach(c=>t.deleteRule(c)),m>0?console.info(`\u2714 Removed ${m} instance${m>1?"s":""} of selector ${y} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${y} does not exist in ${n.slice(4)}`)}function C(y,x){return y&&te(y,String)&&y.trim().length>0&&te(x,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}function f(y){y=y.trim();let x=y.slice(0,y.indexOf("{")).trim(),m=!!a(x);try{return t.insertRule(`${y}`,t.cssRules.length),m}catch(c){return console.error(`StylingFactory ${n} (tryParse) ${c.name} Error:
${c.message}
Rule: ${we(y)}
${r}`),m}}function h(y,x,m){try{return y(),m}catch(c){return console.error(`StylingFactory ${n} (tryAddOrModify) ${c.name} Error:
${c.message}
Rule: ${we(x)}
${r}`),m}}return{sheet:t,removeRules:p,tryParseAtOrNestedRules:S,ruleExists:a,checkParams:C,tryParse:f,consider:h,currentSheetID:n}}function jt(t,e){return`${t.trim()} ${Object.entries(e).map(([r,n])=>`${r}: { ${Rt(n)}`)}`}function we(t){let e=(t||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return t.length>e.length?`${e.trim()}...truncated`:e}function Rt(t){return Object.entries(t).map(([e,r])=>`${e}: ${r.trim()}`).join(`;
`)}function Jt(t){return t.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}function Qt(t,...e){let r=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&t.raw.reduce((n,o,i)=>n.concat(e[i-1]||"").concat(o),"")||t.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),r)}function We(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function ze(t,e){try{return t()}catch(r){console.error(`${e||"an error occured"}: ${r.message}`)}}function kt(t){return t.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,r)=>`${r}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function Wt(t){return t.reduce((e,r)=>{let[n,o]=[r.slice(0,r.indexOf(":")).trim(),r.slice(r.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&o?{...e,[n]:o}:e},{})}function zt(t){return Wt(kt(t))}function Be(t,e){return t?.replace("::",":")===e?.replace("::",":")}var Ee=!1,Bt={on:()=>Ee=!0,off:()=>Ee=!1},I={tagsRaw:V,allowUnknownHtmlTags:Bt,isAllowed(t){if(Ee)return!0;let e=l(t,String)?t.toLowerCase():t?.nodeName.toLowerCase()||"none";return e==="#text"||!!V[e]},allowTag:t=>V[t.toLowerCase()]=!0,prohibitTag:t=>V[t.toLowerCase()]=!1};var Vt=!0,re={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/^javascript|injected|noreferrer|alert|DataURL/gi};function Ut(t){if(Vt&&Object.keys(t.removed).length){let e=Object.entries(t.removed).reduce((r,[n,o])=>[...r,`${R(n)} => ${o}`],[]).join("\\000A");A.error(`JQx: HTML creation error(s): ${e}`)}}function _t(t){let e=t.nodeName.toLowerCase(),r=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!r.find(n=>n===e)||I.isAllowed(e)}function k(t){let e={rawHTML:t?.parentElement?.getHTML()??"no html",removed:{}};return l(t,HTMLElement)&&[...t.childNodes].forEach(r=>{if(r?.children?.length&&k(r),r?.attributes){let o=l(r,SVGElement)?B.svg:B.html;[...(r??{attributes:[]}).attributes].forEach(i=>{let a=i.name.trim().toLowerCase(),S=i.value.trim().toLowerCase().replace(re.whiteSpace,""),p=a==="href"?!re.validURL.test(S):re.notAllowedValues.test(S),C=a.startsWith("data")?!re.data.test(a):!!o[a];if(p||C){let f=ne(i.value||"none",60);f+=f.length===60?"...":"",e.removed[`${i.name}`]=`attribute/property/value not allowed, removed. Value: ${f}`,r.removeAttribute(i.name)}})}if(!(_t(r)||r.constructor===CharacterData||r.constructor===Comment)){let o=(r?.outerHTML||r?.textContent).trim(),i=ne(o,60)??"EMPTY";i+=i.length===60?"...":"",e.removed[`<${r.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${i}`,r.remove()}}),Ut(e),t}function Gt(t){let e=document.createElement("div");return e.insertAdjacentHTML(N.end,t),e.childNodes.length?k(e):void 0}function Zt(t,e,r){switch(!0){case l(t,Comment):return e.insertAdjacentHTML(r,`<!--${t.data}-->`);case l(t,Text):return e.insertAdjacentText(r,t.data||t.textContent);default:return}}function W(t=[],e=document.body,r=N.BeforeEnd){return r=r||N.BeforeEnd,e=e?.isJQx?e.node:e||document.body,t.reduce((n,o)=>{let i=j(o)&&Yt(o,e,r);return i?[...n,i]:n},[])}function Yt(t,e=document.body,r=N.BeforeEnd){return r=r||N.BeforeEnd,e=e?.isJQx?e?.[0]:e,l(t,Comment,Text)?Zt(t,e,r):l(t,HTMLElement)?e.insertAdjacentElement(r,t):void 0}function O(t){if(l(t,Text,Comment))return t;let e=t?.trim(),r=e?.split(/<text>|<\/text>/i)??[];if(r?.length&&(r=r.length>1?r.filter(o=>o.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(t.replace(/<!--|-->$/g,""));if(r||l(e,String)&&!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(r??e);let n=Gt(t);return n.childNodes.length<1?O(`<span data-jqxcreationerror="1">${oe(t,60)}</span>`):n.children[0]}function ie(t){if(t.node("#jqxPopup"))return;t.logger.log("JQx: [JQx].Popup first call. Dialog element created."),t.dialog({id:"jqxPopup"},t.div({id:"jqxPopupContent"})).render,t.editCssRules(...je);let e=[],[r,n]=[t("#jqxPopupContent"),t.node("#jqxPopup")],o={};return t.handle({type:"click, cancel",handlers:y,name:"genericPopupCloseHandler",capture:!0,about:"A generic handler for JQx popups"}),Object.freeze({show:i,remove:a,removeModal:h});function i(c){if(n.open)switch(!0){case S(c):return;default:return a(),setTimeout(()=>i(c),200)}o={...c};let{content:b}=o;return t.IS(b,String,HTMLElement)||b?.isJQx?p():!0}function a(){return o.modal?m(o.warnMessage):C()}function S(c){for(let[b,L]of Object.entries(o))if(L!==c[b])return!1;return!0}function p(){r.clear();let{content:c,modal:b,closeAfter:L}=o;b=t.IS(b,Boolean)?b:!1;let P=b?"":t.div({id:"closeHandleIcon"});r.append(P,t.IS(c,String)?t.div(c):c),n.showModal(),!b&&t.IS(L,Number)&&x(a,L)}function C(){if(n.close(o.returnValue),f(),t.IS(o.callback,Function))return e.push(setTimeout(()=>o.callback(o.returnValue),200));o={}}function f(){e.forEach(c=>clearTimeout(c)),e=[]}function h({callback:c,value:b}={}){o.returnValue=b,o.modal=!1,o.callback=c||o.callback,a()}function y({evt:c}){if(!(Object.keys(o).length<1||!n.open)&&(c.type==="cancel"&&o.modal&&c.preventDefault(),c.target.closest("#closeHandleIcon")||!c.target.closest("#jqxPopupContent")))return o.activeTimer&&clearTimeout(o.activeTimer),a()}function x(c,b){t.IS(c,Function)&&t.IS(b,Number)&&b>0&&(f(),e.push(setTimeout(c,b*1e3)))}function m(c){if(!t.IS(c,String,HTMLElement,Proxy))return;let b=r.find$(".warn");switch(!0){case b.is.empty:b=t.div({class:"warn"},c);default:r.append(b.addClass("active")),x(()=>r.find$(".warn").removeClass("active"),2)}}}function le(t){let e={},r="anonymous_";function n(f){if(f){let{handler:h,capture:y,type:x}=f;document.addEventListener(x,h,{capture:y})}}function o(f){if(f){let{type:h,handler:y,capture:x}=f;document.removeEventListener(h,y,{capture:x})}}function i(f,h,y,x){return function(m){if(!H(h))return f({evt:m});let c=m.target.closest(h);if(c){let b=t(c);f({self:b,me:b,evt:m}),y&&p(m.type,x)}return!0}}function a(f){return e[f]=e[f]||{},e[f]}function S(f,h){return Object.entries(a(f)).find(([y])=>y===h)}function p(f,h){let y=S(f,h);y&&(o(y[1]),delete e[f][h],delete se[h],A.warn(`Removed listener [${h}] for event type [${f}].`))}function C(f){let{type:h,handler:y,name:x,capture:m,once:c,selector:b,node:L,about:P}=f;e[h]=e[h]||{};let u=Ce(x||y.name),g=y;if(L instanceof HTMLElement){let v=L.dataset.hid||u;L.dataset.hid=v,b=`[data-hid=${v}]`}switch(!0){case!e[h][u]:return A.log(`JQx: created listener for event type ${h}, with handler name ${u}`),e[h][u]={name:u,handler:i(y,b,c,u),capture:Ve(h,m),once:!!c,type:h,initialHandler:g,selector:!!b&&b||!1,about:!!P&&P||!1,unListen(){p(h,u)}},e[h][u];default:return console.warn(`The listener [${u}] for [${h}] exists, it is not re-assigned.`)}}return{remove(...f){return p(...f)},listen:function(f){let{type:h,handler:y}=f;if(!H(h)||!l(y,Function))return;let x=C(f);if(x)return n(x),{type:h,name:x.name,unListen(){p(h,x.name)}}},get ListenerStore(){return Object.freeze({...e})}}}var A=qt(),Xt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],N=Object.freeze(new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(t,e){return t[String(e).toLowerCase()]??t[e]}})),Kt=[...Array(26)].map((t,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((t,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((t,e)=>`${e}`)),Te=Object.freeze({get(t,e){return t[Y(e)]||t[e]},enumerable:!1,configurable:!1}),se={};function $e(){let t=setTimeout(()=>{});for(;t>=0;)clearTimeout(t--)}function Ce(t){return H(t)&&!/^handler|handlers$/gi.test(t.trim())?t.trim():Ue()}function Fe(t){let e=!!t.node&&!l(t,Text,Comment);switch(!0){case e:let r=t.node.dataset?Object.keys(t.node.dataset).map(i=>`[data-${i}]`):[],o=[t.attr("id")&&`#${t?.attr("id")}`||void 0,t.attr("class")&&t?.attr("class").split(" ").map(i=>`.${i}`).join(", ")||void 0,r.length>0&&r.join(", ")||void 0].filter(i=>!!i).join(", ")||[];return o.length?`(${o})`:"";default:return""}}function Ue(t){let e=`anonymous_${Math.random().toString(36).slice(2)}`;return se[e]?Ue():(se[e]=e,e)}function Ve(t,e){return!!Xt.find(r=>r===t)||!!e}function ce(t){return t.startsWith("data")||B.html.find(e=>t.toLowerCase()===e)}function fe(t){return t&&(t.textContent="")}function G(t,e=0,r=!0){return t=t?.parentElement,e+=t?t[r?"scrollTop":"scrollLeft"]:0,t?G(t,e,r):e}function H(t,e=1){return e=l(e,Number)&&e||1,l(t,String)&&t.length>=e}function ne(t,e=120){return oe(t,e).replace(/&lt;/g,"<")}function oe(t,e=120){return`${t}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(t.length>e?" &hellip;":"").trim()}function R(t){switch(!0){case l(t,String):let e=document.createElement("div");return e.append(t),e.innerHTML;default:return t}}function Le(t){return l(t,String)&&Object.assign(document.createElement("textarea"),{innerHTML:t}).textContent||t}function qt(){let[t,e]=[!1,!0],r=[],n={get on(){return t=!0,n},get off(){return t=!1,n},get disable(){return e=!0,n},get enable(){return e=!1,n},get backLog(){return r}};function o(){e=!0}function i(){e=!1}function a(...C){return r.unshift(...C.map(f=>`${ue()} \u2A3B ${Le(f)}`)),console.error(r.slice(0,C.length).join(`
`)),n}function S(...C){return r.unshift(...C.map(f=>`${ue()} \u26A0 ${Le(f)}`)),console.warn(r.slice(0,C.length).join(`
`)),n}function p(...C){let f=C.map(h=>`${ue()} \u2714 ${Le(h)}`);switch(!e&&r.unshift(...f),t){case!0:console.log(f.join(`
`));default:return n}}return Object.defineProperties(n,{log:{value:p,enumerable:!1},error:{value:a,enumerable:!1},warn:{value:S,enumerable:!1}}),Object.freeze(n)}function ue(){return(t=>`[${ae(t.getHours())}:${ae(t.getMinutes())}:${ae(t.getSeconds())}.${ae(t.getMilliseconds(),3)}]`)(new Date)}function Ae(t,e){if(t)for(let[r,n]of Object.entries(e)){if(r=D(r),r.startsWith("data"))return de(t,n);l(n,String)&&ce(r)&&t.setAttribute(r,n.split(/[, ]/)?.join(" "))}}function de(t,e){if(t&&l(e,Object))for(let[r,n]of Object.entries(e))t.setAttribute(`data-${D(r)}`,n)}function me(t){return t?l(t,Proxy)?[t.EL]:l(t,NodeList)?[...t]:j(t)?[t]:K(t)?t:t.isJQx?t.collection:void 0:[]}function ge(t,e){return t.andThen(e)}function pe(t,e){return t.andThen(e,!0)}function j(t){return l(t,Text,HTMLElement,Comment)}function Z(t,e){if(l(e,Object))for(let[r,n]of Object.entries(e)){let o;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),o="important"),t.style.setProperty(D(r),n,o)}}function J(t){let e=t.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),t.isConnected?t.remove():t=null,e}function _e(t){if(!l(t,HTMLElement))return;let e=t.style,r=getComputedStyle(t),n=!![e.visibility,r.visibility].includes("hidden"),o=!![e.display,r.display].includes("none"),i=!!t.hidden,a=parseInt(r.height)<1||parseInt(r.width)<1,S=t.offsetTop<0||t.offsetLeft+t.offsetWidth<0||t.offsetLeft>document.body.offsetWidth,p=+r.opacity==0||+(e.opacity||1)==0;return!(i||S||p||o||n||a)}function Ge(t){return t?.isConnected?!![...document.querySelectorAll(":is(:read-write)")].find(e=>e===t):!1}function Ze(t){return t?.filter(e=>e).reduce((e,r)=>e.concat(Pe(r)?`<!--${r.data}-->`:be(r)?r.textContent:r.outerHTML),"")}function ae(t,e=2){return`${t}`.padStart(e,"0")}function Ye(t,e=0){return[t,e]=[Math.floor(t),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(t-e+1)+e)}function ye(){return`_${er(Kt).slice(0,8).join("")}`}function He(t){return t=l(t,String)&&/,/.test(t)?t.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0):t,l(t,Array)?t:l(t,String)&&t?.trim().toLowerCase()||""}function Xe(t){return t?.isConnected?!![...document.querySelectorAll(":is(:modal)")].find(e=>e===t):!1}function Ne(t,e){switch(t=String(t).trim(),!0){case/^(0|false|f)$/i.test(t):return!1;case/^(1|true|t)$/i.test(t):return!0;default:return e}}function er(t){let e=t.length;for(;e--;){let r=Ye(e);[t[e],t[r]]=[t[r],t[e]]}return t}function Y(t){return l(t,String)?t.toLowerCase().split("-").map((e,r)=>r&&`${tr(e)}`||e).join(""):t}function D(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function tr([t,...e]){return`${t.toUpperCase()}${e.join("")}`}function be(t){return l(t,Comment,Text)}function Pe(t){l(t,Comment)}function Ke(t){return l(t,Text)}function X(t){return l(t,String)&&/^<|>$/.test(`${t}`.trim())}function K(t){return l(t,Array)&&!t?.find(e=>!j(e))}function he(t){return l(t,Array)&&!t?.find(e=>!X(e))}function F(t,e){let r=t.collection.filter(n=>!be(n));for(let n=0;n<r.length;n+=1)e(r[n],n);return t}function qe(t){return t.node?l(t.node,Comment)?`<!--${t.node.textContent}-->`:t.HTML.get(1).split(">")[0]+">...":""}function Me(t,e,r){let n=e!==document.body&&l(t,String)&&t.toLowerCase()!=="body"?e:document;try{r.collection=[...n.querySelectorAll(t)]}catch{A.warn(`JQx: Invalid CSS querySelector. [${l(t,String)?t:"Not a string!"}]`)}}function et(){return{isCommentOrTextNode:be,isNode:j,isComment:Pe,isText:Ke,isHtmlString:X,isArrayOfHtmlElements:K,isArrayOfHtmlStrings:he,ElemArray2HtmlString:Ze,input2Collection:me,setCollectionFromCssSelector:Me,cssRuleEdit:_({createWithId:"JQxStylesheet"})}}function tt(){let e=Object.freeze({notInDOM:"n/a",writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"});return r=>{let n=r.node;return l(n,Node)?Object.freeze({get writable(){return Ge(n)},get modal(){return Xe(n)},get inDOM(){return n.isConnected},get open(){return n.open??!1},get visible(){return _e(n)},get disabled(){return n.hasAttribute("readonly")||n.hasAttribute("disabled")},get empty(){return r.collection.length<1},get virtual(){return r.isVirtual}}):e}}function rt(t,e,r,n){r&&l(e,String)&&(e={[e]:r==="-"?"":r});let o;e.className&&(o=e.className,delete e.className),o=[...t.classList].find(a=>a.startsWith("JQxClass-")||o&&a===o)||o||`JQxClass-${ye().slice(1)}`,n.editCssRule(`.${o}`,e),t.classList.add(o)}var rr=tt();function nt(t){return{factoryExtensions:nr(t),instanceExtensions:or(t)}}function nr(t){return{data(e){return{get all(){return new Proxy(e[0]?.dataset??{},Te)},set(r={}){if(!e.is.empty&&l(r,Object))for(let[n,o]of Object.entries(r))e.setData({[n]:o});return e},get(r,n){return e.data.all[r]??n},add(r={}){if(!e.is.empty&&l(r,Object))for(let[n,o]of Object.entries(r))e.setData({[n]:o});return e},remove(r){return e[0]?.removeAttribute(`data-${D(r)}`),e}}},dimensions(e){if(e.is.empty)return A.error("[JQx instance].dimensions called on empty instance"),{error:"[JQx instance].dimensions: NO ELEMENTS"};let{node:r}=e,n=r.getBoundingClientRect().toJSON();return n.scrollTopDistance=G(r,0),n.scrollLeftDistance=G(r,0,!1),n},node(e){return e[0]},HTML(e){return{get(r,n){if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let o=r?e.outerHtml:e.html();return n?R(o):o},set(r,n=!1,o=!1){r=r.isJQx?r.HTML.get(1):r;let i=l(r,String);return r=i&&o?R(r):r,i&&(r||"").trim().length&&e.html(r,n),e},replace(r,n=!1){return e.HTML.set(r,!1,n)},append(r,n=!1){return r=l(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r,!0,n)},insert(r,n=!1){return r=l(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r+e.HTML.get(),!1,n)}}},is(e){return rr(e)},length(e){return e.collection.length},outerHtml(e){return(e.first()||{outerHTML:void 0}).outerHTML},parent(e){let r=t(e[0]?.parentNode);return r.is.empty?e:r},render(e){switch(!0){case!e.is.empty:return e.toDOM();default:return t.logger.warn("[JQx.render]: empty collection"),e}},Style(e){return{get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline(r){return e.style(r)},inSheet(r){return e.css(r)},valueOf(r){return e.is.empty?void 0:getComputedStyle(e[0])[D(r)]},nwRule(r){return e.Style.byRule({rules:r})},byRule({classes2Apply:r=[],rules:n=[]}={}){let i=l(n,String)&&!r.length?n.split("{")[0].trim():"";if(n=n&&l(n,String)?[n]:n,r=r&&l(r,String)?[r]:r,(n?.length||r?.length)&&(n?.length&&t.editCssRules(...n),r))for(let a of r)e.addClass(a);return i?.startsWith(".")&&e.addClass(i.slice(1)),i?.startsWith("#")&&!e.attr("id")&&e.prop({id:i.slice(1)}),e}}}}}function or(t){return{addClass(e,...r){return F(e,n=>n&&r.forEach(o=>n.classList.add(o)))},after:ge,afterMe:ge,andThen(e,r,n=!1){if(!r||!l(r,String,Node,Proxy))return A.log("[JQx instance].[before(Me) | after(Me) | andThen]: invalid/-sufficient input."),e;r=r?.isJQx?r:l(r,Node)?t.virtual(r):t.virtual(O(r));let[o,i,a]=n?[0,"before",r.collection.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(r.collection)];return e[o][i](...r.collection),e.collection=a,e},append(e,...r){if(e.is.empty||r.length<1)return e;let n=e.length===1;for(let o of r){if(!o.isJQx&&H(o)){let i=o.trim(),S=!/^<(.+)[^>]+>$/m.test(i)?t.text(o):O(o);F(e,p=>p.append(n?S:J(S)))}j(o)&&F(e,i=>i.append(n?o:J(o))),o.isJQx&&!o.is.empty&&F(e,i=>o.collection.forEach(a=>i.append(n?a:J(a))))}return e},appendTo(e,r){switch(!0){case(!r.isJQx&&!l(r,HTMLElement)):return $.warn("[JQx instance].appendTo: invalid input"),e;default:return(r.isJQx?r:t(r)).append(e),e}},attr(e,r,n){if(!e.node||l(e.node,Text,Comment))return e;if(!n&&H(r))return r=D(r),r==="class"?[...e.node.classList].join(" "):e.node.getAttribute(r);if(H(r)&&n)switch(r=D(r),!0){case r.startsWith("data-"):r={data:{[r.replace("data-","")]:n}};break;default:r={[r]:n}}return l(r,Object)&&!e.is.empty&&Ae(e.node,r),e},before:pe,beforeMe:pe,clear(e){return F(e,fe)},closest(e,r){let n=H(r)?e.node?.closest(r):void 0;return n?t(n):e},computedStyle(e,r){let{node:n}=e;return n&&getComputedStyle(n)[r]},css(e,r,n){return F(e,o=>rt(o,r,n,t))},duplicate(e,r=!1,n=document.body){switch(!0){case e.is.empty:return A.error("Duplicating an empty JQx instance is not possible"),e;default:let o=e.collection[0].cloneNode(!0);return o.childNodes.forEach(i=>{i.removeAttribute&&i?.removeAttribute("id")}),r?t(o).toDOM(n):t.virtual(o)}},each(e,r){return F(e,r)},empty(e){return F(e,fe)},find(e,r){return e.collection.length>0?[...e.first()?.querySelectorAll(r)]:[]},find$(e,r){return e.collection.length>0?t(r,e):e},first(e,r=!1){return e.collection.length>0?r?e.single():e.collection[0]:void 0},first$(e,r){return e.single(r)},getData(e,r,n){return e.node?.dataset?.[r]||n},hasClass(e,...r){return e.is.empty||!e.node.classList.length?!1:r.find(n=>e.node.classList.contains(n))&&!0||!1},hide(e){return F(e,r=>Z(r,{display:"none !important"}))},html(e,r,n){switch(!0){case(e.is.empty&&!H(r)):return"";case!H(r):return e.node?.getHTML()??"";default:let o=O(`<div>${r.isJQx?r.HTML.get(!0):r}</div>`);return F(e,a=>(a.textContent=n?a.textContent:"",a.insertAdjacentHTML(t.at.end,o.getHTML())))}},htmlFor(e,r,n="",o=!1){if(e.is.empty||!H(r)||!H(n))return e;let i=e.find$(r);if(i.length<1)return e;let a=O(`<span>${n}</span>`);return i.each(S=>{o||(S.textContent=""),S.insertAdjacentHTML(t.at.end,a?.getHTML())}),e},isEmpty(e){return!e.node},nth$(e,r){return e.single(r)},on(e,r,...n){switch(!0){case(e.is.empty||!l(r,String,Array)||!H(r)||n.length<1):return e;default:return t.handle({type:r,node:e.node,handler:n}),e}},once(e,r,...n){switch(!0){case(e.is.empty||!l(r,String,Array)||!H(r)||n.length<1):return e;default:return t.handle({type:r,once:!0,node:e.node,handler:n}),e}},prepend(e,...r){if(e.is.empty||!r)return;let n=e.length===1;for(let o of r){if(H(o)){o=o.trim();let a=!/^<(.+)[^>]+>$/m.test(o)?t.text(o):O(o);a=n?a:J(a),F(e,S=>S.prepend(a.cloneNode(!0)))}j(o)&&F(e,i=>i.prepend(n?o:J(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),F(e,i=>F(o,a=>i.prepend(n?a:J(a)))),o.collection.reverse())}return e},prependTo(e,r){return r.isJQx||(r=t.virtual(r)),r.prepend(e),e},prop(e,r,n){if(l(r,String)&&!n)return r.startsWith("data")?e[0]?.dataset[r.slice(r.indexOf("-")+1)]:e[0]?.[r];let o=l(r,Object)?r:{[r]:n};for(let[i,a]of Object.entries(o)){if(i=i.trim(),a&&!ce(i)||!a)return!1;if(i.toLowerCase()==="id")return e[0].id=a;F(e,p=>{if(i.startsWith("data"))return p.dataset[i.slice(i.indexOf("-")+1)]=a;p[i]=a})}return e},remove(e,r){let n=i=>i.remove(),o=()=>e.collection=e.collection.filter(i=>document.documentElement.contains(i));if(r){let i=e.find$(r);return i.is.empty||(F(i,n),o()),e}return F(e,n),o(),e},rmAttr(e,...r){for(let n of r)e.node.removeAttribute(n);return e},removeClass(e,...r){return F(e,n=>{if(n)for(let o of r)n.classList.remove(o)})},renderTo(e,r,n){return r=l(r,HTMLElement)||r.isJQx?r:document.body,n=l(n,String)&&t.at[n]?n:t.at.end,e.first$().toDOM(r,n),e},replace(e,r,n){let o=e.node;return!r||!l(n,HTMLElement)&&!n?.isJQx?(t.logger.error("JQx replace: invalid replacement value"),e):((n.isJQx||l(n,NodeList))&&(n=n[0]),o&&r&&(r=l(r,String)?o.querySelectorAll(r):r.isJQx?r.collection:r,l(r,HTMLElement,NodeList,Array)&&l(n,HTMLElement)&&(l(r,HTMLElement)?[r]:[...r]).forEach(i=>i.replaceWith(n.cloneNode(!0)))),e)},replaceClass(e,r,...n){return F(e,o=>{o.classList.remove(r);for(let i of n)o.classList.add(i)})},replaceMe(e,r){return e.replaceWith(r)},replaceWith(e,r){return r=l(r,Element)?r:r.isJQx?r[0]:void 0,r&&(e[0].replaceWith(r),e=t.virtual(r)),e},setData(e,r){return F(e,n=>de(n,r))},show(e){return F(e,r=>Z(r,{display:"revert-layer !important"}))},single(e,r){let n=e.collection.length>0;switch(r=r??0,!0){case(n&&l(r,String)):return e.find$(r);case(n&&l(r,Number)):return t(e.collection[r]);case n:return e.collection[0];default:return e}},style(e,r,n){return F(e,i=>{n&&l(r,String)&&(r={[r]:n||"none"}),Z(i,r)})},text(e,r,n=!1){switch(!0){case e.isEmpty():return e;case!l(r,String):return e.node.textContent;default:return F(e,o=>o.textContent=n?o.textContent+r:r)}},toDOM(e,r=document.body,n=N.BeforeEnd){return e.isVirtual=!1,W(e.collection,r,n),e},toggleClass(e,r){return F(e,n=>n.classList.toggle(r))},toNodeList(e){return[...e.collection].map(r=>document.importNode(r,!0))},trigger(e,r,n,o){n=l(n,Function)?n:Event,o=l(o,Object)?{...o,bubbles:o.bubbles??!0}:{bubbles:!0};let i=new n(r,o);return e.is.empty||e.each(a=>a.dispatchEvent(i)),e},val(e,r){switch(!0){case(e.is.empty||!l(e.node,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)):return e;case!l(r,String):return e.node.value;default:return e.node.value=l(r,String)?r:"",e}}}}var Oe,Se,{isComment:pn,isText:yn,isHtmlString:bn,isArrayOfHtmlElements:hn,isArrayOfHtmlStrings:Sn,ElemArray2HtmlString:xn,cssRuleEdit:De,addFn:ir}=lr();function lr(){return{...et(),addFn:sr}}function sr(t,e){return t=t?.trim(),!H(t)||!l(e,Function)?A.error("JQx.fn: method invalid parameter(s)"):Se[t]=(r,...n)=>e(r,...n)}function ar(t){return function(e,r,n){if(e=e?.trim(),!H(e)||!l(r,Function))return t.error("JQx.staticFn: invalid parameter(s)");let o=n?{get(){return r()}}:{value(...i){return r(...i)}};try{Object.defineProperty(t,e,o)}catch{return t.warn(`JQx.staticFn: extension [${e}] already exists`)}return A.log(`JQx: added static extension function [${e}]`)}}function q(t){return new Proxy(t,Object.freeze({get:(e,r)=>ur(e,r,t)}))}function ot(t,e){return(...r)=>l(t,Function)&&t(q(e),...r)}function ur(t,e,r){switch(!0){case l(e,Symbol):return z({trial:()=>t[e],whenError:()=>t});case l(+e,Number):return t.collection?.[e]||void 0;case e in Oe:return ot(Oe[e],r)();case e in Se:return ot(Se[e],r);default:return t[e]}}function st(t){let e=gr(t);for(let[r,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(t,r,n);return t}function cr(t){return{allow(e){let r=/-/.test(e),n=r&&e;e=r?Y(e):e.toLowerCase(),I.allowTag(e),Object.defineProperties(t,Ie(e,!0,t,n))},prohibit(e){e=e.toLowerCase(),I.prohibitTag(e),Object.defineProperties(t,Ie(e,!1,t))}}}function it(...t){if(t.length===1){let e=String(t.shift().trim());t=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(r=>r.trim())}for(let e of t.map(r=>r.startsWith("!")?r.slice(1,-1):r))De(e,{removeRule:1})}function fr(t){return function(e,r,n){r=r?.isJQx?r?.[0]:r,n=n&&Object.values(N).find(i=>n===i);let o=t(e,document.createElement("br"));if(r&&!l(r,HTMLBRElement))for(let i of o.collection)n?r.insertAdjacentElement(n,i):r.append(i);return o}}function dr(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);for(let[o,i]of Object.entries(n))!(o in e)&&Object.defineProperty(e,o,{...i,enumerable:!1})}return e}function mr(t,e,r,n){return t=D(n||t.toLowerCase()),{get(){return(...o)=>{let i=e&&r.virtual(k(ee[t](...o)))||void 0,S=!l(i?.node,Comment,Text,void 0)?Fe(i):"";return A.log(e?`JQx: created (virtual) instance from [JQx].${t} ${S}`:`JQx: ${t.toUpperCase()} is prohibited. Use [JQx].allowTag if necessary.`),i}},enumerable:!1,configurable:!0}}function Ie(t,e,r,n){t=t.toLowerCase();let o=mr(t,e,r,n);return n?{[n]:o,[Y(n)]:o}:{[t]:o,[t.toUpperCase()]:o}}function gr(t){return dr(Object.entries(I.tagsRaw).reduce(pr(t),{}),vr(t))}function pr(t){return function(e,[r,n]){return Object.defineProperties(e,Ie(r,n,t)),e}}function yr(t){return function(e,r,...n){l(r,Function)&&(n.push(r),r=void 0),t({type:e,selector:r,handlers:n})}}function br(t){return function(e){let{type:r,types:n,origin:o,selector:i,handler:a,handlers:S,node:p,name:C,capture:f,once:h,about:y}=e;a=S||a,r=n||r,i=o||i;let x=He(r),m=C;a=l(a,Function)?[a]:a;let c={type:x,selector:i||o,capture:f,name:m,once:h,node:p,about:y};switch(!0){case(l(x,Array)&&x.length>0):for(let b of x)c.type=b,lt(a,c,t);break;default:return lt(a,c,t)}}}function lt(t,e,r){for(let n of t)r.listen({...e,handler:n})}function hr(t){return function(e,r){return r=H(r)&&r,e=H(e)&&e,r&&e&&t.listenerStore[e][r]}}function Sr(t){return t.activePopup||Object.defineProperty(t,"activePopup",{value:ie(t),enumerable:!1}),t.activePopup}function xr(t){let e=(f,h)=>De(f,h),r=function(f){return _({createWithId:f||`jqx${ye()}`})},n=function(...f){for(let h of f)De(h)},o=cr(t),i=le(t),a=br(i);return{editCssRule:e,createStyle:r,editCssRules:n,allowProhibit:o,handle:a,capturedHandling:a,log:(...f)=>A.on.log(...f).off,warn:(...f)=>A.on.warn(...f).off,error:(...f)=>A.on.error(...f).off,handlerWrapper:i}}function vr(t){let{factoryExtensions:e,instanceExtensions:r}=nt(t);Oe=e,Se=r;let{editCssRule:n,createStyle:o,editCssRules:i,allowProhibit:a,handle:S,capturedHandling:p,log:C,warn:f,error:h,handlerWrapper:y}=xr(t),x=hr(t),m=ar(t);return{log:C,warn:f,error:h,editCssRules:i,createStyle:o,editStylesheet:o,editCssRule:n,escHtml:R,logger:A,text(c,b=!1){return b?t.comment(c):document.createTextNode(c)},node(c,b=document){return b.querySelector(c,b)},nodes(c,b=document){return[...b.querySelectorAll(c,b)]},clearAllTimers:$e,get staticFn(){return function(c,b,L){return m(c,b,L)}},get toBool(){return Ne},get getNamedListener(){return x},get virtual(){return fr(t)},get allowTag(){return a.allow},get prohibitTag(){return a.prohibit},get removeCssRule(){return it},get removeCssRules(){return it},get delegate(){return yr(p)},get delegateCaptured(){return p},get handle(){return p},get listen(){return y.listen},get at(){return N},get setStyle(){return n},get fn(){return ir},get lenient(){return I.allowUnknownHtmlTags},get IS(){return l},get Popup(){return Sr(t)},get listenerStore(){return y.ListenerStore}}}var at=st(wr());function wr(){return function(e,r,n=N.BeforeEnd){if(e?.isJQx)return e;let o=l(r,HTMLBRElement);r=(!o&&r&&r.isJQx?r[0]:r)||document.body,n=n&&Object.values(N).find(f=>n===f)?n:void 0;let i=X(e),S=!i&&he(e)||i,p={collection:me(e)??[],isVirtual:o,isJQx:!0},C=K(p.collection);if(p.collection.length&&C)return o||p.collection.forEach(f=>{r.contains(f)||W([f],r,n)}),q(p);if(S){if([e].flat().forEach(f=>p.collection.push(O(f))),p.collection.length>0){let f=p.collection.filter(m=>m?.dataset?.jqxcreationerror);p.collection=p.collection.filter(m=>!m?.dataset?.jqxcreationerror);let y=p.collection.map(m=>`${String(m.constructor).split(/function|\(/)[1].trim()}`).length>1;p=q(p);let x=p.collection.length>0?qe(p):"sanitized: no elements remaining";A.log(`JQx: created ${p.isVirtual?"(virtual)":""} instance from ${y?"array of ":""}HTML string${y?"s":""} ${x}`),p.isVirtual||W(p.collection,r,n)}return p}return Me(e,r,p),q(p)}}var Er=at;return bt(Cr);})();

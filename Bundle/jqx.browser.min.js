var JQx=(()=>{var re=Object.defineProperty;var Ve=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var Ue=Object.prototype.hasOwnProperty;var Ge=(r,e)=>{for(var t in e)re(r,t,{get:e[t],enumerable:!0})},Ze=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _e(e))!Ue.call(r,o)&&o!==t&&re(r,o,{get:()=>e[o],enumerable:!(n=Ve(e,o))||n.enumerable});return r};var Ye=r=>Ze(re({},"__esModule",{value:!0}),r);var cr={};Ge(cr,{default:()=>sr});var me=qe(),B=Xe(),z=Ke();function Xe(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function Ke(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function qe(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var ne=!1,et={on:()=>ne=!0,off:()=>ne=!1},k={tagsRaw:z,allowUnknownHtmlTags:et,isAllowed(r){if(ne)return!0;let e=c(r,String)?r.toLowerCase():r?.nodeName.toLowerCase()||"none";return e==="#text"||!!z[e]},allowTag:r=>z[r.toLowerCase()]=!0,prohibitTag:r=>z[r.toLowerCase()]=!1};var tt=rt(),ge={html:"innerHTML",text:"textContent",class:"className"},oe=tt;function rt(){let r={get(e,t){let n=String(t)?.toLowerCase();switch(!0){case n in e:return e[n];case ft(n):return pe(e,n,t);default:return pe(e,n,t,!0)}},enumerable:!1,configurable:!1};return new Proxy({},r)}function pe(r,e,t,n=!1){return Object.defineProperty(r,e,{get(){return n?o=>ct(t):dt(e)}}),r[e]}function nt(r,e,t){return e=e?.isJQx&&e.first()||e,le({trial:n=>ut(e)?r.append(e):be(e)?r.insertAdjacentHTML("beforeend",e):r.append(e),whenError:n=>console.info(`${t} (for root ${r}) not created, reason
`,n)})}function ot(r,e,...t){let n=it(e,r);return t?.forEach(o=>nt(n,o,r)),n}function it(r,e){switch(r=ie(e)?at(r):r?.isJQx?r.first():r,!0){case c(r,String):return V(e,be(r,e)?{html:r}:{text:r});case c(r,Node):return st(e,r);default:return V(e,r)}}function lt(r){return delete r.data,Object.keys(r).length<1||Object.keys(r).forEach(e=>{let t=e.toLowerCase();t in ge&&(r[ge[t]]=r[e],delete r[e])}),r}function st(r,e){let t=V(r);return t.append(e),t}function V(r,e={}){e=ye(e,{});let t=Object.entries(e.data??{}),n=Object.assign(ie(r)?new Comment(e?.text):document.createElement(r),lt(e));return t.length&&t.forEach(([o,l])=>n.dataset[o]=String(l)),n}function ye(r,e){return e?c(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):c(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function at(r){return ye(r)?r?.text??r?.textContent??"":String(r)}function ct(r){return V("b",{style:"color:red",text:`'${r}' is not a valid HTML-tag`})}function be(r,e){return!ie(e)&&c(r,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(r)}function ut(r){return r?.constructor===Comment||r?.constructor===CharacterData}function ie(r){return r?.constructor===Comment||/comment/i.test(r)}function ft(r){return!c(V(r),HTMLUnknownElement)}function dt(r){return(e,...t)=>ot(r,e,...t)}var{IS:c,maybe:le,$Wrap:br,xProxy:hr,isNothing:Sr}=mt();function mt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),x();let r=u(),[e,t]=[f(),M()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:S,xProxy:t};function n(i,...s){if(r({trial:p=>"isTypes"in(s?.[0]??{})})){let p=s[0];return"defaultValue"in p?m(i,p):"notTypes"in p?g(i,p):n(i,...[p.isTypes].flat())}let d=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?y(d,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:d,noShouldbe:p,compareTo:v,inputCTOR:F,isNaN:O,isInfinity:P,shouldBeFirstElementIsNothing:I}=h(i,...s);switch(s=s.length&&s[0],!0){case I:return String(i)===String(v);case(i?.[Symbol.proxy]&&p):return i[Symbol.proxy];case O:return p?"NaN":r({trial:R=>String(v)})===String(i);case P:return p?"Infinity":r({trial:R=>String(v)})===String(i);case d:return p?String(i):String(v)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return b(i,s,p,a(i,F))}}function a(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function h(i,...s){let d=s.length<1,p=!d&&s[0],v=!d&&S(s[0]),F=i==null,O=!F&&Object.getPrototypeOf(i)?.constructor,P=r({trial:R=>String(i)})==="NaN",I=r({trial:R=>String(i)})==="Infinity";return{noInput:F,noShouldbe:d,compareTo:p,inputCTOR:O,isNaN:P,isInfinity:I,shouldBeFirstElementIsNothing:v}}function b(i,s,d,p){switch(!0){case(!d&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:v=>i instanceof s})||s===p||s===Object.getPrototypeOf(p)||`${s?.name}`===p?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||p?.name||String(p)}}function y(i,...s){return s.some(d=>n(i,d))}function S(i,s=!1){let d=i==null;return d=s?d||n(i,1/0)||n(i,NaN):d,d}function u(){let i=(s,d)=>s?.constructor===Function?s(d):void 0;return function({trial:s,whenError:d=()=>{}}={}){try{return i(s)}catch(p){return i(d,p)}}}function f(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function m(i,{defaultValue:s,isTypes:d=[void 0],notTypes:p}={}){return d=d?.constructor!==Array?[d]:d,p=p&&p?.constructor!==Array?[p]:[],p.length<1?n(i,...d)?i:s:g(i,{isTypes:d,notTypes:p})?i:s}function g(i,{isTypes:s=[void 0],notTypes:d=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,d=d?.constructor!==Array?[d]:d,n(i,...s)&&!n(i,...d)}function x(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function w(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function C(i){let s=i.set;return i.set=(d,p,v)=>p===Symbol.proxy?d[p]=v:s(d,p,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,d){for(let v of d)v.set&&(v=C(v));let p=new s(...d);return p[Symbol.proxy]=`Proxy (${w(d[0])})`,p}})}}}}var{IS:Y,maybe:vr,$Wrap:Er,xProxy:wr,isNothing:Cr}=gt();function gt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),x();let r=u(),[e,t]=[f(),M()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:S,xProxy:t};function n(i,...s){if(r({trial:p=>"isTypes"in(s?.[0]??{})})){let p=s[0];return"defaultValue"in p?m(i,p):"notTypes"in p?g(i,p):n(i,...[p.isTypes].flat())}let d=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?y(d,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:d,noShouldbe:p,compareTo:v,inputCTOR:F,isNaN:O,isInfinity:P,shouldBeFirstElementIsNothing:I}=h(i,...s);switch(s=s.length&&s[0],!0){case I:return String(i)===String(v);case(i?.[Symbol.proxy]&&p):return i[Symbol.proxy];case O:return p?"NaN":r({trial:R=>String(v)})===String(i);case P:return p?"Infinity":r({trial:R=>String(v)})===String(i);case d:return p?String(i):String(v)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return b(i,s,p,a(i,F))}}function a(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function h(i,...s){let d=s.length<1,p=!d&&s[0],v=!d&&S(s[0]),F=i==null,O=!F&&Object.getPrototypeOf(i)?.constructor,P=r({trial:R=>String(i)})==="NaN",I=r({trial:R=>String(i)})==="Infinity";return{noInput:F,noShouldbe:d,compareTo:p,inputCTOR:O,isNaN:P,isInfinity:I,shouldBeFirstElementIsNothing:v}}function b(i,s,d,p){switch(!0){case(!d&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:v=>i instanceof s})||s===p||s===Object.getPrototypeOf(p)||`${s?.name}`===p?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||p?.name||String(p)}}function y(i,...s){return s.some(d=>n(i,d))}function S(i,s=!1){let d=i==null;return d=s?d||n(i,1/0)||n(i,NaN):d,d}function u(){let i=(s,d)=>s?.constructor===Function?s(d):void 0;return function({trial:s,whenError:d=()=>{}}={}){try{return i(s)}catch(p){return i(d,p)}}}function f(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function m(i,{defaultValue:s,isTypes:d=[void 0],notTypes:p}={}){return d=d?.constructor!==Array?[d]:d,p=p&&p?.constructor!==Array?[p]:[],p.length<1?n(i,...d)?i:s:g(i,{isTypes:d,notTypes:p})?i:s}function g(i,{isTypes:s=[void 0],notTypes:d=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,d=d?.constructor!==Array?[d]:d,n(i,...s)&&!n(i,...d)}function x(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function w(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function C(i){let s=i.set;return i.set=(d,p,v)=>p===Symbol.proxy?d[p]=v:s(d,p,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,d){for(let v of d)v.set&&(v=C(v));let p=new s(...d);return p[Symbol.proxy]=`Proxy (${w(d[0])})`,p}})}}}}var X=pt;function pt({styleSheet:r,createWithId:e}={}){let{tryParseAtOrNestedRules:t,ruleExists:n,checkParams:o,sheet:l,removeRules:a,consider:h,currentSheetID:b}=yt({styleSheet:r,createWithId:e});function y(g,x){if(g&&x.removeProperties){Object.keys(x.removeProperties).forEach(w=>g.style.removeProperty(he(w)));return}Object.entries(x).forEach(([w,C])=>{w=he(w.trim()),C=C.trim();let M;if(/!important/.test(C)&&(C=C.slice(0,C.indexOf("!important")).trim(),M="important"),!CSS.supports(w,C))return console.error(`StylingFactory ${b} error: '${w}' with value '${C}' not supported (yet)`);Se(()=>g.style.setProperty(w,C,M),`StylingFactory ${b} (setRule4Selector) failed`)})}function S(g,x,w=l){if(g=g?.trim?.(),!Y(g,String)||!g.length||/[;,]$/g.test(g))return console.error(`StylingFactory ${b} (setRules): [${g||"[no selector given]"}] is not a valid selector`);if(x.removeRule)return a(g);let C=n(g,!0),M=C||w.cssRules[w.insertRule(`${g} {}`,w.cssRules.length||0)];return h(()=>y(M,x),g,C)}function u(g){let x=g.trim().split(/{/,2),w=x.shift().trim();if(!Y(w,String)||!w?.trim()?.length)return console.error(`StylingFactory ${b} (doParse): no (valid) selector could be extracted from rule ${se(g)}`);let C=wt(x.shift());return Se(()=>S(w,C),`StylingFactory ${b} (setRules) failed`)}function f(g){let x=t(g);return x.done?x.existing:u(g)}function m(g,x){return g.trim().startsWith("@media")?f(bt(g,x)):S(g,x)}return function(g,x={}){return o(g,x)&&(Object.keys(x).length?m(g,x):f(g))}}function yt({styleSheet:r,createWithId:e}){let t="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;r=e?o(e):r;function o(f){let m=document.querySelector(`#${f}`)?.sheet;if(m)return m;let g=Object.assign(document.createElement("style"),{id:f});return document.head.insertAdjacentElement("beforeend",g),g.sheet}function l(f){return console.error(`StylingFactory ${n} [rule: ${f}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function a(f,m){return[...r.rules].find(g=>m?xe(g.selectorText||"",f):xt`${St(f)}${[..."gim"]}`.test(g.cssText))}function h(f){return/^@charset|@import|namespace/i.test(f.trim())?l(f):f.match(/}/g)?.length>1?{existing:S(f,1),done:!0}:{done:!1}}function b(f){let m=[...r.cssRules].reduce((x,w,C)=>xe(w.selectorText||"",f)&&x.concat(C)||x,[]),g=m.length;return m.forEach(x=>r.deleteRule(x)),g>0?console.info(`\u2714 Removed ${g} instance${g>1?"s":""} of selector ${f} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${f} does not exist in ${n.slice(4)}`)}function y(f,m){return f&&Y(f,String)&&f.trim().length>0&&Y(m,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}function S(f){f=f.trim();let m=f.slice(0,f.indexOf("{")).trim(),g=!!a(m);try{return r.insertRule(`${f}`,r.cssRules.length),g}catch(x){return console.error(`StylingFactory ${n} (tryParse) ${x.name} Error:
${x.message}
Rule: ${se(f)}
${t}`),g}}function u(f,m,g){try{return f(),g}catch(x){return console.error(`StylingFactory ${n} (tryAddOrModify) ${x.name} Error:
${x.message}
Rule: ${se(m)}
${t}`),g}}return{sheet:r,removeRules:b,tryParseAtOrNestedRules:h,ruleExists:a,checkParams:y,tryParse:S,consider:u,currentSheetID:n}}function bt(r,e){return`${r.trim()} ${Object.entries(e).map(([t,n])=>`${t}: { ${ht(n)}`)}`}function se(r){let e=(r||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return r.length>e.length?`${e.trim()}...truncated`:e}function ht(r){return Object.entries(r).map(([e,t])=>`${e}: ${t.trim()}`).join(`;
`)}function St(r){return r.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}function xt(r,...e){let t=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&r.raw.reduce((n,o,l)=>n.concat(e[l-1]||"").concat(o),"")||r.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),t)}function he(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function Se(r,e){try{return r()}catch(t){console.error(`${e||"an error occured"}: ${t.message}`)}}function vt(r){return r.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,t)=>`${t}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function Et(r){return r.reduce((e,t)=>{let[n,o]=[t.slice(0,t.indexOf(":")).trim(),t.slice(t.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&o?{...e,[n]:o}:e},{})}function wt(r){return Et(vt(r))}function xe(r,e){return r?.replace("::",":")===e?.replace("::",":")}var Ct=[...Array(26)].map((r,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((r,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((r,e)=>`${e}`)),T=$t();function K(r,e=2){return`${r}`.padStart(e,"0")}function Lt(r,e=0){return[r,e]=[Math.floor(r),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(r-e+1)+e)}function L(r,e=1){return e=c(e,Number)&&e||1,c(r,String)&&r.length>=e}function we(r){return r=c(r,String)&&/,/.test(r)?r.split(","):r,c(r,Array)?r.filter(e=>L(e)).map(e=>e.trim().toLowerCase()):c(r,String)&&r?.trim().toLowerCase()||""}function Ft(r){let e=r.length;for(;e--;){let t=Lt(e);[r[e],r[t]]=[r[t],r[e]]}return r}function $(r,e=120){return`${r}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(r.length>e?" &hellip;":"").trim()}function H(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function Tt([r,...e]){return`${r.toUpperCase()}${e.join("")}`}function _(r){return c(r,String)?r.toLowerCase().split("-").map((e,t)=>t&&`${Tt(e)}`||e).join(""):r}function U(){return`_${Ft(Ct).slice(0,8).join("")}`}function q(r,e=120){return $(r,e).replace(/&lt;/g,"<")}function ve(){return(r=>`[${K(r.getHours())}:${K(r.getMinutes())}:${K(r.getSeconds())}.${K(r.getMilliseconds(),3)}]`)(new Date)}function j(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ce(){let r=u=>c(u,Comment,Text),e=u=>c(u,Text,HTMLElement,Comment),t=u=>c(u,Comment),n=u=>c(u,Text),o=u=>c(u,String)&&/^<|>$/.test(`${u}`.trim()),l=u=>c(u,Array)&&!u?.find(f=>!o(f)),a=u=>c(u,Array)&&!u?.find(f=>!e(f));return{isCommentOrTextNode:r,isNode:e,isComment:t,isText:n,isHtmlString:o,isArrayOfHtmlElements:a,isArrayOfHtmlStrings:l,ElemArray2HtmlString:u=>u?.filter(f=>f).reduce((f,m)=>f.concat(t(m)?`<!--${m.data}-->`:r(m)?m.textContent:m.outerHTML),""),input2Collection:u=>u?c(u,Proxy)?[u.EL]:c(u,NodeList)?[...u]:e(u)?[u]:a(u)?u:u.isJQx?u.collection:void 0:[],setCollectionFromCssSelector:(u,f,m)=>{let g=f!==document.body&&c(u,String)&&u.toLowerCase()!=="body"?f:document,x;try{m.collection=[...g.querySelectorAll(u)]}catch{x=`Invalid CSS querySelector. [${c(u,String)?u:"Nothing valid given!"}]`}return x??`CSS querySelector "${u}", output ${m.collection.length} element(s)`},addHandlerId:u=>{let f=u.data.get("hid")||`HID${U()}`;return u.data.add({hid:f}),`[data-hid="${f}"]`}}}function Le(){let r=function(l){if(!l)return;let a=l.style,h=getComputedStyle(l),b=[a.visibility,h.visibility].includes("hidden"),y=[a.display,h.display].includes("none"),S=l.offsetTop<0||l.offsetLeft+l.offsetWidth<0||l.offsetLeft>document.body.offsetWidth,u=+h.opacity==0||+(a.opacity||1)==0;return!(S||u||y||b)},t=function(l){return[...l.parentNode.querySelectorAll(":is(:read-write)")].find(a=>a===l)??!1},n=function(l){return[...l.parentNode.querySelectorAll(":is(:modal)")].find(a=>a===l)??!1},o={notInDOM:!0,writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"};return l=>{let a=l.node;return c(a,Node)?{get writable(){return t(a)},get modal(){return n(a)},get inDOM(){return a.isConnected},get open(){return a.open??!1},get visible(){return r(a)},get disabled(){return a.hasAttribute("readonly")||a.hasAttribute("disabled")},get empty(){return l.collection.length<1},get virtual(){return l.isVirtual}}:o}}function Ee(r){return c(r,String)&&Object.assign(document.createElement("textarea"),{innerHTML:r}).textContent||r}function $t(){let r=!1,e=[],t={get on(){return r=!0,t},get off(){return r=!1,t},get backLog(){return e}};function n(...l){return e.unshift(...l.map(a=>`${ve()} \u2A3B ${Ee(a)}`)),console.error(e.slice(0,l.length).join(`
`)),t}function o(...l){return e.unshift(...l.map(a=>`${ve()} \u2714 ${Ee(a)}`)),r&&console.log(e.slice(0,l.length).join(`
`)),t}return Object.defineProperties(t,{log:{value:o,enumerable:!1},error:{value:n,enumerable:!1}}),Object.freeze(t)}var At=!0,ee={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/javascript|injected|noreferrer|alert|DataURL/gi},Ht=r=>{if(At&&Object.keys(r.removed).length){let e=Object.entries(r.removed).reduce((t,[n,o])=>[...t,`${j(n)} => ${o}`],[]).join("\\000A");T.error(`JQx HTML creation errors: ${e}`)}},Dt=function(r){let e=r.nodeName.toLowerCase(),t=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!t.find(n=>n===e)||k.isAllowed(e)},G=r=>{let e={rawHTML:r?.parentElement?.getHTML()??"no html",removed:{}};return c(r,HTMLElement)&&[...r.childNodes].forEach(t=>{if(t?.children?.length&&G(t),t?.attributes){let o=c(t,SVGElement)?B.svg:B.html;[...(t??{attributes:[]}).attributes].forEach(l=>{let a=l.name.trim().toLowerCase(),h=l.value.trim().toLowerCase().replace(ee.whiteSpace,""),b=a==="href"?!ee.validURL.test(h):ee.notAllowedValues.test(h),y=a.startsWith("data")?!ee.data.test(a):!!o[a];if(b||y){let S=q(l.value||"none",60);S+=S.length===60?"...":"",e.removed[`${l.name}`]=`attribute/property (-value) not allowed, removed. Value: ${S}`,t.removeAttribute(l.name)}})}if(!(Dt(t)||t.constructor===CharacterData||t.constructor===Comment)){let o=(t?.outerHTML||t?.textContent).trim(),l=q(o,60)??"EMPTY";l+=l.length===60?"...":"",e.removed[`<${t.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${l}`,t.remove()}}),Ht(e),r};var A=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(r,e){return r[String(e).toLowerCase()]??r[e]}}),Nt=r=>{let e=document.createElement("div");return e.insertAdjacentHTML(A.end,r),e.childNodes.length?G(e):void 0},Mt=(r,e,t)=>c(r,Comment)?e.insertAdjacentHTML(t,`<!--${r.data}-->`):e.insertAdjacentText(t,r.data),J=(r=[],e=document.body,t=A.BeforeEnd)=>r.reduce((n,o)=>{let l=Z(o)&&Ot(o,e,t);return l?[...n,l]:n},[]),Ot=(r,e=document.body,t=A.BeforeEnd)=>(e=e?.isJQx?e?.[0]:e,c(r,Comment,Text)?Mt(r,e,t):e.insertAdjacentElement(t,r)),D=r=>{if(c(r,Text,Comment))return r;let e=r?.trim(),t=e?.split(/<text>|<\/text>/i)??[];if(t?.length&&(t=t.length>1?t.filter(o=>o.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(r.replace(/<!--|-->$/g,""));if(t||!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(t);let n=Nt(r);return n.childNodes.length<1?D(`<span data-jqxcreationerror="1">${$(r,60)}</span>`):n.children[0]};var E=(r,e)=>{let t=r.collection.filter(n=>!Ne(n));for(let n=0;n<t.length;n+=1)e(t[n],n);return r},Pt=Le(),It={get(r,e){return r[_(e)]||r[e]},enumerable:!1,configurable:!1};function Fe(r){return r&&(r.textContent="")}function Q(r){let e=r.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),r.isConnected?r.remove():r=null,e}function Ae(r,e){if(r&&c(e,Object))for(let[t,n]of Object.entries(e))r.setAttribute(`data-${H(t)}`,n)}function Te(r,e){return r.andThen(e,!0)}function $e(r,e){return r.andThen(e)}function He(r){return r.startsWith("data")||B.html.find(e=>r.toLowerCase()===e)}function Rt(r,e,t,n){t&&c(e,String)&&(e={[e]:t==="-"?"":t});let o;e.className&&(o=e.className,delete e.className),o=[...r.classList].find(a=>a.startsWith("JQxClass-")||o&&a===o)||o||`JQxClass-${U().slice(1)}`,n.editCssRule(`.${o}`,e),r.classList.add(o)}function kt(r,e){if(r)for(let[t,n]of Object.entries(e)){if(t=H(t),t.startsWith("data"))return Ae(r,n);c(n,String)&&He(t)&&r.setAttribute(t,n.split(/[, ]/)?.join(" "))}}function ae(r,e){if(c(e,Object))for(let[t,n]of Object.entries(e)){let o;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),o="important"),r.style.setProperty(H(t),n,o)}}function jt(...r){debugLog.log("\u2757"+r.map(e=>String(e)).join(", "))}function ce(r,e=0,t=!0){return r=r?.parentElement,e+=r?r[t?"scrollTop":"scrollLeft"]:0,r?ce(r,e,t):e}function Bt(r){return{data:e=>({get all(){return new Proxy(e[0]?.dataset??{},It)},set:(t={})=>{if(!e.is.empty&&c(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},get:(t,n)=>e.data.all[t]??n,add:(t={})=>{if(!e.is.empty&&c(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},remove:t=>(e[0]?.removeAttribute(`data-${H(t)}`),e)}),dimensions:e=>{if(e.is.empty)return{error:"[instance].dimensions: NO ELEMENTS"};let t=e[0],n=e.first()?.getBoundingClientRect().toJSON();return n.scrollTopDistance=ce(t,0),n.scrollLeftDistance=ce(t,0,!1),n},node:e=>e[0],HTML:e=>({get:(t,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let o=t?e.outerHtml:e.html();return n?j(o):o},set:(t,n=!1,o=!1)=>{t=t.isJQx?t.HTML.get(1):t;let l=c(t,String);return t=l&&o?j(t):t,l&&(t||"").trim().length&&e.html(t,n),e},replace:(t,n=!1)=>e.HTML.set(t,!1,n),append:(t,n=!1)=>(t=c(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t,!0,n)),insert:(t,n=!1)=>(t=c(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t+e.HTML.get(),!1,n))}),is:e=>Pt(e),length:e=>e.collection.length,outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,parent:e=>{let t=r(e[0]?.parentNode);return t.is.empty?e:t},render:e=>(!e.is.empty&&e.toDOM()||r.log("[JQx.render]: empty collection"),e),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:t=>e.style(t),inSheet:t=>e.css(t),valueOf:t=>e.is.empty?void 0:getComputedStyle(e[0])[H(t)],nwRule:t=>e.Style.byRule({rules:t}),byRule:({classes2Apply:t=[],rules:n=[]}={})=>{let l=c(n,String)&&!t.length?n.split("{")[0].trim():"";if(n=n&&c(n,String)?[n]:n,t=t&&c(t,String)?[t]:t,(n?.length||t?.length)&&(n?.length&&r.editCssRules(...n),t))for(let a of t)e.addClass(a);return l?.startsWith(".")&&e.addClass(l.slice(1)),l?.startsWith("#")&&!e.attr("id")&&e.prop({id:l.slice(1)}),e}})}}function Jt(r){return{addClass:(e,...t)=>E(e,n=>n&&t.forEach(o=>n.classList.add(o))),after:$e,afterMe:$e,andThen:(e,t,n=!1)=>{if(!t||!c(t,String,Node,Proxy))return jt(`[JQx instance].[beforeMe | afterMe | andThen]: insufficient input [${t}]`),e;t=t?.isJQx?t.collection:c(t,Node)?r.virtual(t).collection:r.virtual(D(t)).collection;let[o,l,a]=n?[0,"before",t.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(t)];return e[o][l](...t),e.collection=a,e},append:(e,...t)=>{if(!e.is.empty&&t.length){let n=e.length===1;for(let o of t){if(!o.isJQx&&L(o)){let l=o.trim(),h=!/^<(.+)[^>]+>$/m.test(l)?r.text(o):D(o);E(e,b=>b.append(n?h:Q(h)))}Z(o)&&E(e,l=>l.append(n?o:Q(o))),o.isJQx&&!o.is.empty&&E(e,l=>o.collection.forEach(a=>l.append(n?a:Q(a))))}}return e},appendTo:(e,t)=>(t.isJQx||(t=r(t)),t.append(e),e),attr:(e,t,n)=>{let o=e[0];if(!o)return e;if(!n&&L(t))return t=H(t),t==="class"?[...o?.classList].join(" "):o?.getAttribute(t);if(L(t)&&n)switch(t=H(t),!0){case t.startsWith("data-"):t={data:{[t.replace("data-","")]:n}};break;default:t={[t]:n}}return c(t,Object)&&!e.is.empty&&kt(o,t),e},before:Te,beforeMe:Te,clear:e=>E(e,Fe),closest:(e,t)=>{let n=L(t)?e[0].closest(t):null;return n?r(n):e},computedStyle:(e,t)=>e.first()&&getComputedStyle(e.first())[t],css:(e,t,n)=>E(e,o=>Rt(o,t,n,r)),duplicate:(e,t=!1,n=document.body)=>{let o=e.toNodeList().map(a=>a.removeAttribute&&a.removeAttribute("id")||a),l=r.virtual(o);return t?l.toDOM(n):l},each:(e,t)=>E(e,t),empty:e=>E(e,Fe),find:(e,t)=>e.collection.length>0?[...e.first()?.querySelectorAll(t)]:[],find$:(e,t)=>e.collection.length>0?r(t,e):e,first:(e,t=!1)=>{if(e.collection.length>0)return t?e.single():e.collection[0]},first$:(e,t)=>e.single(t),getData:(e,t,n)=>e.first()&&e.first().dataset?.[t]||n,hasClass:(e,...t)=>{let n=e[0];return!n||!n.classList.length?!1:t.find(o=>n.classList.contains(o))&&!0||!1},hide:e=>E(e,t=>ae(t,{display:"none !important"})),html:(e,t,n)=>{if(t===void 0){let o=e.node;return o?.getHTML&&o.getHTML()||""}if(!e.isEmpty()){let o=D(`<div>${t.isJQx?t.HTML.get(!0):t}</div>`);if(!c(o,Comment))return E(e,a=>(n||(a.textContent=""),a.insertAdjacentHTML(r.at.end,o.getHTML())))}return e},htmlFor:(e,t,n="",o=!1)=>{if(t&&e.collection.length){if(!t||!L(n))return e;let l=e.find$(t);if(l.length<1)return e;let a=D(`<span>${n}</span>`);l.each(h=>{o||(h.textContent=""),h.insertAdjacentHTML(r.at.end,a?.getHTML())})}return e},isEmpty:e=>e.collection.length<1,nth$:(e,t)=>e.single(t),on:(e,t,...n)=>{if(e.collection.length&&c(t,String,Array)){if(t?.length<1||n.length<1)return e;let o=Me(e);r.handle({type:t,selector:o,handlers:n})}return e},prepend:(e,...t)=>{if(!e.is.empty&&t){let n=e.length===1;for(let o of t){if(L(o)){o=o.trim();let a=!/^<(.+)[^>]+>$/m.test(o)?r.text(o):D(o);a=n?a:Q(a),E(e,h=>h.prepend(a.cloneNode(!0)))}Z(o)&&E(e,l=>l.prepend(n?o:Q(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),E(e,l=>E(o,a=>l.prepend(n?a:Q(a)))),o.collection.reverse())}}return e},prependTo:(e,t)=>(t.isJQx||(t=r.virtual(t)),t.prepend(e),e),prop:(e,t,n)=>{if(c(t,String)&&!n)return t.startsWith("data")?e[0]?.dataset[t.slice(t.indexOf("-")+1)]:e[0]?.[t];let o=c(t,Object)?t:{[t]:n};for(let[l,a]of Object.entries(o)){if(l=l.trim(),a&&!He(l)||!a)return!1;if(l.toLowerCase()==="id")return e[0].id=a;E(e,b=>{if(l.startsWith("data"))return b.dataset[l.slice(l.indexOf("-")+1)]=a;b[l]=a})}return e},remove:(e,t)=>{systemLog(`remove ${$(e.HTML.get(1),40)}${t?` /w selector ${t}`:""}`);let n=l=>l.remove(),o=()=>e.collection=e.collection.filter(l=>document.documentElement.contains(l));if(t){let l=e.find$(t);return l.is.empty||(E(l,n),o()),e}return E(e,n),o(),e},rmAttr:(e,...t)=>{for(let n of t)e.node.removeAttribute(n);return e},removeClass:(e,...t)=>E(e,n=>{if(n)for(let o of t)n.classList.remove(o)}),renderTo:(e,t=document.body,n=r.at.end)=>(e.toDOM(t,n),e),replace:(e,t,n)=>{let o=e[0];return!t||!n||!c(n,HTMLElement)&&!n.isJQx?(console.error("JQx replace: invalid replacement value"),e):(n.isJQx&&(n=n[0]),c(n,NodeList)&&(n=n[0]),o&&t&&(t=c(t,String)?o.querySelectorAll(t):t.isJQx?t.collection:t,c(t,HTMLElement,NodeList,Array)&&c(n,HTMLElement)&&(c(t,HTMLElement)?[t]:[...t]).forEach(l=>l.replaceWith(n.cloneNode(!0)))),e)},replaceClass:(e,t,...n)=>E(e,o=>{o.classList.remove(t);for(let l of n)o.classList.add(l)}),replaceMe:(e,t)=>e.replaceWith(t),replaceWith:(e,t)=>(t=c(t,Element)?t:t.isJQx?t[0]:void 0,t&&(e[0].replaceWith(t),e=r.virtual(t)),e),setData:(e,t)=>E(e,n=>Ae(n,t)),show:e=>E(e,t=>ae(t,{display:"revert-layer !important"})),single:(e,t)=>e.collection.length>0?c(t,String)?e.find$(t):c(t,Number)?r(e.collection[t]):r(e.collection[0]):e,style:(e,t,n)=>E(e,l=>{n&&c(t,String)&&(t={[t]:n||"none"}),ae(l,t)}),text:(e,t,n=!1)=>e.isEmpty()?e:c(t,String)?E(e,l=>l.textContent=n?l.textContent+t:t):e.first().textContent,toDOM:(e,t=document.body,n=A.BeforeEnd)=>(e.isVirtual&&(e.isVirtual=!1),e.collection=J(e.collection,t,n),e),toggleClass:(e,t)=>E(e,n=>n.classList.toggle(t)),toNodeList:e=>[...e.collection].map(t=>document.importNode(t,!0)),trigger:(e,t,n=Event,o={})=>{if(e.collection.length){let l=new n(t,{...o,bubbles:o.bubbles??!0});for(let a of e.collection)a.dispatchEvent(l)}return e},val:(e,t)=>{let n=e[0];return!n||!c(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:t===void 0?n.value:(n.value=c(t,String)?t:"",e)}}}function De(r){return{factoryExtensions:Bt(r),instanceExtensions:Jt(r)}}function Oe(r){if(!r("#jqxPopup").isEmpty())return;r.dialog({id:"jqxPopup"},r.div({id:"jqxPopupContent"})).render,r.editCssRules(...me);let[e,t]=[r("#jqxPopupContent"),r.node("#jqxPopup")],n={};return r.handle({type:"click, keydown",handlers:y,capture:!0}),Object.freeze({show:o,removeModal:b});function o(f){if(t.open)return;n={...f};let{content:m}=n;return r.IS(m,String,HTMLElement)||m?.isJQx?a():!0}function l(){return n.modal?u(n.warnMessage):h()}function a(){e.clear();let{content:f,modal:m,closeAfter:g}=n;m=r.IS(m,Boolean)?m:!1;let x=m?"":r.div({id:"closeHandleIcon"});e.append(x,r.IS(f,String)?r.div(f):f),t.showModal(),!m&&r.IS(g,Number)&&S(l,g)}function h(){if(t.close(n.returnValue),r.IS(n.callback,Function))return n.callback(n.returnValue);n={}}function b({callback:f,value:m}={}){n.returnValue=m,n.modal=!1,n.callback=f||n.callback,l()}function y(f){if(!(Object.keys(n).length<1||!t.open))return f.key==="Escape"&&f.preventDefault(),n.activeTimer&&clearTimeout(n.activeTimer),(f.target.closest("#closeHandleIcon")||!f.target.closest("#jqxPopupContent"))&&l(),document.activeElement.blur()}function S(f,m){r.IS(f,Function)&&r.IS(m,Number)&&m>0&&(n.activeTimer=setTimeout(f,m*1e3))}function u(f){if(!r.IS(f,String,HTMLElement,Proxy))return;let m=e.find$(".warn");switch(!0){case m.is.empty:m=r.div({class:"warn"},f);default:e.append(m.addClass("active")),S(()=>e.find$(".warn").removeClass("active"),2)}}}var N={},Qt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],Pe=r=>!!Qt.find(e=>e===r);function Ie(r){return function(o){let{eventType:l,selector:a,callback:h,name:b,capture:y,once:S,canRemove:u}=o;switch(!0){case(!L(l)||!r.IS(h,Function)):default:b=b||!/handlers$/.test(h.name)&&h.name||void 0,y=r.IS(y,Boolean)?y:!1,S=r.IS(S,Boolean)?S:!1,u=L(b,4)&&r.IS(u,Boolean)?u:!1;let{handler:f,signal:m,remove:g}=e({selector:a,callback:h,canRemove:u,name:b,eventType:l});return n({eventType:l,handler:f,capture:y,once:S,signal:m,remove:g,name:b})}};function e(o){let{selector:l,callback:a,canRemove:h,name:b,eventType:y}=o,S=h&&new AbortController,u=t({abortcontroller:S,name:b,eventType:y}),f=l?{handler:m=>{let g=m.target?.closest?.(l);return g&&a(m,r(g),u)},remove:u}:{handler:m=>a(m,m.target,u),remove:u};return S&&(f.signal=S.signal),f}function t(o){let{abortcontroller:l,name:a,eventType:h}=o;return a?l?function(){l.abort();let y=[...N[h].entries()].find(([S,u])=>u.name===a);N[h].delete(y[0]),setTimeout(()=>console.warn(`Listener for event type [${h}] with name [${a}] was removed`),100)}:function(b){console.error(`Listener for event type [${h}] with name [${a}] is not marked as removable`)}:function(){console.error("An anonymous listener can not be removed")}}function n(o){let{eventType:l,handler:a,capture:h,once:b,signal:y,remove:S,name:u}=o;if(b)return addEventListener(l,a,{once:b});if(N[l]||(N[l]=new Map),!(N[l].has(a)||[...N[l].values()].find(m=>(m.name||"")===u))){let m={capture:h||Pe(l),once:b||!1};y&&(m.signal=y),document.addEventListener(l,a,m);let g={name:u,remove:S,capture:h||Pe(l)};N[l].set(a,g)}}}var ue,te,{isCommentOrTextNode:Ne,isNode:Z,isComment:en,isText:tn,isHtmlString:ke,isArrayOfHtmlElements:je,isArrayOfHtmlStrings:Be,ElemArray2HtmlString:Je,input2Collection:Qe,setCollectionFromCssSelector:We,addHandlerId:Me,cssRuleEdit:fe,addFn:Wt}=zt();function zt(){let r=X({createWithId:"JQxStylesheet"}),e=(t,n)=>te[t]=(o,...l)=>n(o,...l);return{...Ce(),cssRuleEdit:r,addFn:e}}function W(r){return new Proxy(r,{get:(e,t)=>Ut(e,t,r)})}function Vt(r,e){return(...t)=>c(r,Function)&&r(W(e),...t)}function _t(r,e){return(...t)=>c(r,Function)&&r(W(e),...t)}function Ut(r,e,t){switch(!0){case c(e,Symbol):return r;case c(+e,Number):return r.collection?.[e]||void 0;case e in ue:return _t(ue[e],t)();case e in te:return Vt(te[e],t);default:return r[e]}}function ze(r){let e=qt(r);for(let[t,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(r,t,n);return r}function Gt(r){return{allow:e=>{let t=/-/.test(e),n=t&&e;e=t?_(e):e.toLowerCase(),k.allowTag(e),c(r[e],Function)||Object.defineProperties(r,de(e,!0,r,n))},prohibit:e=>{e=e.toLowerCase(),k.prohibitTag(e),c(r[e],Function)&&Object.defineProperties(r,de(e,!1,r))}}}function Re(...r){if(r.length===1){let e=String(r.shift().trim());r=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(t=>t.trim())}for(let e of r.map(t=>t.startsWith("!")?t.slice(1,-1):t))fe(e,{removeRule:1})}function Zt(r){return function(e,t,n){t=t?.isJQx?t?.[0]:t,n=n&&Object.values(A).find(l=>n===l)?n:void 0;let o=r(e,document.createElement("br"));if(t&&!c(t,HTMLBRElement))for(let l of o.collection)n?t.insertAdjacentElement(n,l):t.append(l);return o}}function Yt(...r){let e={};for(let t of r){let n=Object.getOwnPropertyDescriptors(t);for(let[o,l]of Object.entries(n))!(o in e)&&Object.defineProperty(e,o,l)}return e}function Xt(r){console.error(`JQx: "${r}" not allowed, not rendered`)}function Kt(r,e,t,n){return r=H(n||r.toLowerCase()),{get(){return(...o)=>e?t.virtual(G(oe[r](...o))):Xt(r)},enumerable:!1,configurable:!0}}function de(r,e,t,n){r=r.toLowerCase();let o=Kt(r,e,t,n);return n?{[n]:o,[_(n)]:o}:{[r]:o,[r.toUpperCase()]:o}}function qt(r){return Yt(Object.entries(k.tagsRaw).reduce(er(r),{}),lr(r))}function er(r){return function(e,[t,n]){return n&&Object.defineProperties(e,de(t,n,r)),e}}function tr(r){return function(e,t,...n){c(t,Function)&&(n.push(t),t=void 0),r({type:e,selector:t,handlers:n})}}function rr(r){return function(e){let{type:t,origin:n,selector:o,handlers:l,name:a,capture:h,once:b,canRemove:y}=e,S=we(t),u=a;if(!c(l,Function,Array))return;l=c(l,Function)?[l]:l,y=c(y,Boolean)?y:!1;let f={eventType:S,selector:o||n,capture:h,name:u,once:b,canRemove:y};switch(!0){case(c(S,Array)&&S.length>0):for(let g of S){f.eventType=g;for(let x of l)m(x)}return;default:for(let g of l)m(g)}function m(g){f.name=u,c(g,Function)&&r({...f,callback:g})}}}function nr(r,e){if(e=L(e)?e:void 0,r=L(r)?r:void 0,e&&r)return[...N[r].values()].find(t=>(t.name||"")===e)}function or(r){return r.activePopup||Object.defineProperty(r,"activePopup",{value:Oe(r),enumerable:!1}),r.activePopup}function ir(r){let e=(b,y)=>fe(b,y),t=b=>X({createWithId:b||`jqx${U()}`}),n=(...b)=>{for(let y of b)fe(y)},o=Gt(r),l=Ie(r),a=rr(l);return{editCssRule:e,createStyle:t,editCssRules:n,allowProhibit:o,handle:l,capturedHandling:a,log:(...b)=>T.on.log(...b).off}}function lr(r){let{factoryExtensions:e,instanceExtensions:t}=De(r);ue=e,te=t;let{editCssRule:n,createStyle:o,editCssRules:l,allowProhibit:a,handle:h,capturedHandling:b,log:y}=ir(r);return{log:y,editCssRules:l,createStyle:o,editStylesheet:o,editCssRule:n,escHtml:j,logger:T,text:(S,u=!1)=>u?r.comment(S):document.createTextNode(S),node:(S,u=document)=>u.querySelector(S,u),nodes:(S,u=document)=>[...u.querySelectorAll(S,u)],get getNamedListener(){return nr},get virtual(){return Zt(r)},get allowTag(){return a.allow},get prohibitTag(){return a.prohibit},get removeCssRule(){return Re},get removeCssRules(){return Re},get delegate(){return tr(b)},get delegateCaptured(){return b},get handle(){return b},get at(){return A},get setStyle(){return n},get fn(){return Wt},get lenient(){return k.allowUnknownHtmlTags},get IS(){return c},get Popup(){return or(r)}}}var sr=ze(ar());function ar(){return function(t,n,o=A.BeforeEnd){if(t?.isJQx)return t;let l=c(n,HTMLBRElement);n=(!l&&n&&n.isJQx?n[0]:n)||document.body,o=o&&Object.values(A).find(m=>o===m)?o:void 0;let a=ke(t),h=!a&&Be(t),b=h||a,y={collection:Qe(t)??[],isVirtual:l,isJQx:!0},S=je(y.collection),u=`input =&gt; ${h?`"${$(t.join(", "),70)}"`:!b&&S?`element collection [${$(y.collection.map(m=>`${c(m,Comment,Text)?"Comment|Text @":""} ${m?.outerHTML||m?.textContent}`).join(", "),70)}]`:`"${$(t,70)}"`}`;if(y.collection.length&&S)return T.log(u),l||y.collection.forEach(m=>{n.contains(m)||J([m],n,o)}),W(y);if(b){if([t].flat().forEach(m=>y.collection.push(D(m))),y.collection.length>0){let m=y.collection.filter(g=>g?.dataset?.jqxcreationerror);y.collection=y.collection.filter(g=>!g?.dataset?.jqxcreationerror),T.log(`${u}`),T.log(`*Created ${y.isVirtual?"VIRTUAL ":""}[${$(Je(y.collection)||"sanitized: no elements remaining",70)}]`),m.length&&T.error(`JQx: illegal html, not rendered: "${m.reduce((g,x)=>g.concat(`${x.textContent}
`),"").trim()}"`),y.isVirtual||J(y.collection,n,o)}return W(y)}let f=We(t,n,y);return T.log(`input => ${f}`),W(y)}}return Ye(cr);})();

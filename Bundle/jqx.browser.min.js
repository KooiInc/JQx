var JQx=(()=>{var re=Object.defineProperty;var Ve=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var Ue=Object.prototype.hasOwnProperty;var Ge=(r,e)=>{for(var t in e)re(r,t,{get:e[t],enumerable:!0})},Ze=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of _e(e))!Ue.call(r,o)&&o!==t&&re(r,o,{get:()=>e[o],enumerable:!(n=Ve(e,o))||n.enumerable});return r};var Ye=r=>Ze(re({},"__esModule",{value:!0}),r);var ar={};Ge(ar,{default:()=>lr});var me=qe(),B=Xe(),z=Ke();function Xe(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function Ke(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function qe(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var ne=!1,et={on:()=>ne=!0,off:()=>ne=!1},k={tagsRaw:z,allowUnknownHtmlTags:et,isAllowed(r){if(ne)return!0;let e=c(r,String)?r.toLowerCase():r?.nodeName.toLowerCase()||"none";return e==="#text"||!!z[e]},allowTag:r=>z[r.toLowerCase()]=!0,prohibitTag:r=>z[r.toLowerCase()]=!1};var tt=rt(),ge={html:"innerHTML",text:"textContent",class:"className"},oe=tt;function rt(){let r={get(e,t){let n=String(t)?.toLowerCase();switch(!0){case n in e:return e[n];case ft(n):return pe(e,n,t);default:return pe(e,n,t,!0)}},enumerable:!1,configurable:!1};return new Proxy({},r)}function pe(r,e,t,n=!1){return Object.defineProperty(r,e,{get(){return n?o=>ct(t):dt(e)}}),r[e]}function nt(r,e,t){return e=e?.isJQx&&e.first()||e,le({trial:n=>ut(e)?r.append(e):be(e)?r.insertAdjacentHTML("beforeend",e):r.append(e),whenError:n=>console.info(`${t} (for root ${r}) not created, reason
`,n)})}function ot(r,e,...t){let n=it(e,r);return t?.forEach(o=>nt(n,o,r)),n}function it(r,e){switch(r=ie(e)?at(r):r?.isJQx?r.first():r,!0){case c(r,String):return V(e,be(r,e)?{html:r}:{text:r});case c(r,Node):return st(e,r);default:return V(e,r)}}function lt(r){return delete r.data,Object.keys(r).length<1||Object.keys(r).forEach(e=>{let t=e.toLowerCase();t in ge&&(r[ge[t]]=r[e],delete r[e])}),r}function st(r,e){let t=V(r);return t.append(e),t}function V(r,e={}){e=ye(e,{});let t=Object.entries(e.data??{}),n=Object.assign(ie(r)?new Comment(e?.text):document.createElement(r),lt(e));return t.length&&t.forEach(([o,l])=>n.dataset[o]=String(l)),n}function ye(r,e){return e?c(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):c(r,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function at(r){return ye(r)?r?.text??r?.textContent??"":String(r)}function ct(r){return V("b",{style:"color:red",text:`'${r}' is not a valid HTML-tag`})}function be(r,e){return!ie(e)&&c(r,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(r)}function ut(r){return r?.constructor===Comment||r?.constructor===CharacterData}function ie(r){return r?.constructor===Comment||/comment/i.test(r)}function ft(r){return!c(V(r),HTMLUnknownElement)}function dt(r){return(e,...t)=>ot(r,e,...t)}var{IS:c,maybe:le,$Wrap:yr,xProxy:br,isNothing:hr}=mt();function mt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),x();let r=d(),[e,t]=[u(),M()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:h,xProxy:t};function n(i,...s){if(r({trial:p=>"isTypes"in(s?.[0]??{})})){let p=s[0];return"defaultValue"in p?g(i,p):"notTypes"in p?m(i,p):n(i,...[p.isTypes].flat())}let f=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?b(f,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:f,noShouldbe:p,compareTo:v,inputCTOR:F,isNaN:O,isInfinity:P,shouldBeFirstElementIsNothing:I}=S(i,...s);switch(s=s.length&&s[0],!0){case I:return String(i)===String(v);case(i?.[Symbol.proxy]&&p):return i[Symbol.proxy];case O:return p?"NaN":r({trial:R=>String(v)})===String(i);case P:return p?"Infinity":r({trial:R=>String(v)})===String(i);case f:return p?String(i):String(v)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return y(i,s,p,a(i,F))}}function a(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function S(i,...s){let f=s.length<1,p=!f&&s[0],v=!f&&h(s[0]),F=i==null,O=!F&&Object.getPrototypeOf(i)?.constructor,P=r({trial:R=>String(i)})==="NaN",I=r({trial:R=>String(i)})==="Infinity";return{noInput:F,noShouldbe:f,compareTo:p,inputCTOR:O,isNaN:P,isInfinity:I,shouldBeFirstElementIsNothing:v}}function y(i,s,f,p){switch(!0){case(!f&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:v=>i instanceof s})||s===p||s===Object.getPrototypeOf(p)||`${s?.name}`===p?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||p?.name||String(p)}}function b(i,...s){return s.some(f=>n(i,f))}function h(i,s=!1){let f=i==null;return f=s?f||n(i,1/0)||n(i,NaN):f,f}function d(){let i=(s,f)=>s?.constructor===Function?s(f):void 0;return function({trial:s,whenError:f=()=>{}}={}){try{return i(s)}catch(p){return i(f,p)}}}function u(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:f=[void 0],notTypes:p}={}){return f=f?.constructor!==Array?[f]:f,p=p&&p?.constructor!==Array?[p]:[],p.length<1?n(i,...f)?i:s:m(i,{isTypes:f,notTypes:p})?i:s}function m(i,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(i,...s)&&!n(i,...f)}function x(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function E(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function C(i){let s=i.set;return i.set=(f,p,v)=>p===Symbol.proxy?f[p]=v:s(f,p,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,f){for(let v of f)v.set&&(v=C(v));let p=new s(...f);return p[Symbol.proxy]=`Proxy (${E(f[0])})`,p}})}}}}var{IS:Y,maybe:xr,$Wrap:vr,xProxy:Er,isNothing:wr}=gt();function gt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),x();let r=d(),[e,t]=[u(),M()];return t.custom(),{IS:n,maybe:r,$Wrap:e,isNothing:h,xProxy:t};function n(i,...s){if(r({trial:p=>"isTypes"in(s?.[0]??{})})){let p=s[0];return"defaultValue"in p?g(i,p):"notTypes"in p?m(i,p):n(i,...[p.isTypes].flat())}let f=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?b(f,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:f,noShouldbe:p,compareTo:v,inputCTOR:F,isNaN:O,isInfinity:P,shouldBeFirstElementIsNothing:I}=S(i,...s);switch(s=s.length&&s[0],!0){case I:return String(i)===String(v);case(i?.[Symbol.proxy]&&p):return i[Symbol.proxy];case O:return p?"NaN":r({trial:R=>String(v)})===String(i);case P:return p?"Infinity":r({trial:R=>String(v)})===String(i);case f:return p?String(i):String(v)===String(i);case F===Boolean:return s?F===s:"Boolean";default:return y(i,s,p,a(i,F))}}function a(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function S(i,...s){let f=s.length<1,p=!f&&s[0],v=!f&&h(s[0]),F=i==null,O=!F&&Object.getPrototypeOf(i)?.constructor,P=r({trial:R=>String(i)})==="NaN",I=r({trial:R=>String(i)})==="Infinity";return{noInput:F,noShouldbe:f,compareTo:p,inputCTOR:O,isNaN:P,isInfinity:I,shouldBeFirstElementIsNothing:v}}function y(i,s,f,p){switch(!0){case(!f&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case r({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?r({trial:v=>i instanceof s})||s===p||s===Object.getPrototypeOf(p)||`${s?.name}`===p?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||p?.name||String(p)}}function b(i,...s){return s.some(f=>n(i,f))}function h(i,s=!1){let f=i==null;return f=s?f||n(i,1/0)||n(i,NaN):f,f}function d(){let i=(s,f)=>s?.constructor===Function?s(f):void 0;return function({trial:s,whenError:f=()=>{}}={}){try{return i(s)}catch(p){return i(f,p)}}}function u(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:f=[void 0],notTypes:p}={}){return f=f?.constructor!==Array?[f]:f,p=p&&p?.constructor!==Array?[p]:[],p.length<1?n(i,...f)?i:s:m(i,{isTypes:f,notTypes:p})?i:s}function m(i,{isTypes:s=[void 0],notTypes:f=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,f=f?.constructor!==Array?[f]:f,n(i,...s)&&!n(i,...f)}function x(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function E(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function C(i){let s=i.set;return i.set=(f,p,v)=>p===Symbol.proxy?f[p]=v:s(f,p,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,f){for(let v of f)v.set&&(v=C(v));let p=new s(...f);return p[Symbol.proxy]=`Proxy (${E(f[0])})`,p}})}}}}var X=pt;function pt({styleSheet:r,createWithId:e}={}){let{tryParseAtOrNestedRules:t,ruleExists:n,checkParams:o,sheet:l,removeRules:a,consider:S,currentSheetID:y}=yt({styleSheet:r,createWithId:e});function b(m,x){if(m&&x.removeProperties){Object.keys(x.removeProperties).forEach(E=>m.style.removeProperty(he(E)));return}Object.entries(x).forEach(([E,C])=>{E=he(E.trim()),C=C.trim();let M;if(/!important/.test(C)&&(C=C.slice(0,C.indexOf("!important")).trim(),M="important"),!CSS.supports(E,C))return console.error(`StylingFactory ${y} error: '${E}' with value '${C}' not supported (yet)`);Se(()=>m.style.setProperty(E,C,M),`StylingFactory ${y} (setRule4Selector) failed`)})}function h(m,x,E=l){if(m=m?.trim?.(),!Y(m,String)||!m.length||/[;,]$/g.test(m))return console.error(`StylingFactory ${y} (setRules): [${m||"[no selector given]"}] is not a valid selector`);if(x.removeRule)return a(m);let C=n(m,!0),M=C||E.cssRules[E.insertRule(`${m} {}`,E.cssRules.length||0)];return S(()=>b(M,x),m,C)}function d(m){let x=m.trim().split(/{/,2),E=x.shift().trim();if(!Y(E,String)||!E?.trim()?.length)return console.error(`StylingFactory ${y} (doParse): no (valid) selector could be extracted from rule ${se(m)}`);let C=wt(x.shift());return Se(()=>h(E,C),`StylingFactory ${y} (setRules) failed`)}function u(m){let x=t(m);return x.done?x.existing:d(m)}function g(m,x){return m.trim().startsWith("@media")?u(bt(m,x)):h(m,x)}return function(m,x={}){return o(m,x)&&(Object.keys(x).length?g(m,x):u(m))}}function yt({styleSheet:r,createWithId:e}){let t="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;r=e?o(e):r;function o(u){let g=document.querySelector(`#${u}`)?.sheet;if(g)return g;let m=Object.assign(document.createElement("style"),{id:u});return document.head.insertAdjacentElement("beforeend",m),m.sheet}function l(u){return console.error(`StylingFactory ${n} [rule: ${u}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function a(u,g){return[...r.rules].find(m=>g?xe(m.selectorText||"",u):xt`${St(u)}${[..."gim"]}`.test(m.cssText))}function S(u){return/^@charset|@import|namespace/i.test(u.trim())?l(u):u.match(/}/g)?.length>1?{existing:h(u,1),done:!0}:{done:!1}}function y(u){let g=[...r.cssRules].reduce((x,E,C)=>xe(E.selectorText||"",u)&&x.concat(C)||x,[]),m=g.length;return g.forEach(x=>r.deleteRule(x)),m>0?console.info(`\u2714 Removed ${m} instance${m>1?"s":""} of selector ${u} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${u} does not exist in ${n.slice(4)}`)}function b(u,g){return u&&Y(u,String)&&u.trim().length>0&&Y(g,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}function h(u){u=u.trim();let g=u.slice(0,u.indexOf("{")).trim(),m=!!a(g);try{return r.insertRule(`${u}`,r.cssRules.length),m}catch(x){return console.error(`StylingFactory ${n} (tryParse) ${x.name} Error:
${x.message}
Rule: ${se(u)}
${t}`),m}}function d(u,g,m){try{return u(),m}catch(x){return console.error(`StylingFactory ${n} (tryAddOrModify) ${x.name} Error:
${x.message}
Rule: ${se(g)}
${t}`),m}}return{sheet:r,removeRules:y,tryParseAtOrNestedRules:S,ruleExists:a,checkParams:b,tryParse:h,consider:d,currentSheetID:n}}function bt(r,e){return`${r.trim()} ${Object.entries(e).map(([t,n])=>`${t}: { ${ht(n)}`)}`}function se(r){let e=(r||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return r.length>e.length?`${e.trim()}...truncated`:e}function ht(r){return Object.entries(r).map(([e,t])=>`${e}: ${t.trim()}`).join(`;
`)}function St(r){return r.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}function xt(r,...e){let t=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&r.raw.reduce((n,o,l)=>n.concat(e[l-1]||"").concat(o),"")||r.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),t)}function he(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function Se(r,e){try{return r()}catch(t){console.error(`${e||"an error occured"}: ${t.message}`)}}function vt(r){return r.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,t)=>`${t}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function Et(r){return r.reduce((e,t)=>{let[n,o]=[t.slice(0,t.indexOf(":")).trim(),t.slice(t.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&o?{...e,[n]:o}:e},{})}function wt(r){return Et(vt(r))}function xe(r,e){return r?.replace("::",":")===e?.replace("::",":")}var Ct=[...Array(26)].map((r,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((r,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((r,e)=>`${e}`)),T=$t();function K(r,e=2){return`${r}`.padStart(e,"0")}function Lt(r,e=0){return[r,e]=[Math.floor(r),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(r-e+1)+e)}function L(r,e=1){return e=c(e,Number)&&e||1,c(r,String)&&r.length>=e}function we(r){return r=c(r,String)&&/,/.test(r)?r.split(","):r,c(r,Array)?r.filter(e=>L(e)).map(e=>e.trim().toLowerCase()):c(r,String)&&r?.trim().toLowerCase()||""}function Ft(r){let e=r.length;for(;e--;){let t=Lt(e);[r[e],r[t]]=[r[t],r[e]]}return r}function $(r,e=120){return`${r}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(r.length>e?" &hellip;":"").trim()}function D(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function Tt([r,...e]){return`${r.toUpperCase()}${e.join("")}`}function _(r){return c(r,String)?r.toLowerCase().split("-").map((e,t)=>t&&`${Tt(e)}`||e).join(""):r}function U(){return`_${Ft(Ct).slice(0,8).join("")}`}function q(r,e=120){return $(r,e).replace(/&lt;/g,"<")}function ve(){return(r=>`[${K(r.getHours())}:${K(r.getMinutes())}:${K(r.getSeconds())}.${K(r.getMilliseconds(),3)}]`)(new Date)}function j(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ce(){let r=d=>c(d,Comment,Text),e=d=>c(d,Text,HTMLElement,Comment),t=d=>c(d,Comment),n=d=>c(d,Text),o=d=>c(d,String)&&/^<|>$/.test(`${d}`.trim()),l=d=>c(d,Array)&&!d?.find(u=>!o(u)),a=d=>c(d,Array)&&!d?.find(u=>!e(u));return{isCommentOrTextNode:r,isNode:e,isComment:t,isText:n,isHtmlString:o,isArrayOfHtmlElements:a,isArrayOfHtmlStrings:l,ElemArray2HtmlString:d=>d?.filter(u=>u).reduce((u,g)=>u.concat(t(g)?`<!--${g.data}-->`:r(g)?g.textContent:g.outerHTML),""),input2Collection:d=>d?c(d,Proxy)?[d.EL]:c(d,NodeList)?[...d]:e(d)?[d]:a(d)?d:d.isJQx?d.collection:void 0:[],setCollectionFromCssSelector:(d,u,g)=>{let m=u!==document.body&&c(d,String)&&d.toLowerCase()!=="body"?u:document,x;try{g.collection=[...m.querySelectorAll(d)]}catch{x=`Invalid CSS querySelector. [${c(d,String)?d:"Nothing valid given!"}]`}let E=g.collection.length;return E<1?`CSS querySelector "${d}", output: nothing`:x??`CSS querySelector "${d}", output ${E} element${E>1?"s":""}`},addHandlerId:d=>{let u=d.data.get("hid")||`HID${U()}`;return d.data.add({hid:u}),`[data-hid="${u}"]`}}}function Le(){let r=function(l){if(!l)return;let a=l.style,S=getComputedStyle(l),y=[a.visibility,S.visibility].includes("hidden"),b=[a.display,S.display].includes("none"),h=l.offsetTop<0||l.offsetLeft+l.offsetWidth<0||l.offsetLeft>document.body.offsetWidth,d=+S.opacity==0||+(a.opacity||1)==0;return!(h||d||b||y)},t=function(l){return[...l.parentNode.querySelectorAll(":is(:read-write)")].find(a=>a===l)??!1},n=function(l){return[...l.parentNode.querySelectorAll(":is(:modal)")].find(a=>a===l)??!1},o={notInDOM:!0,writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"};return l=>{let a=l.node;return c(a,Node)?{get writable(){return t(a)},get modal(){return n(a)},get inDOM(){return a.isConnected},get open(){return a.open??!1},get visible(){return r(a)},get disabled(){return a.hasAttribute("readonly")||a.hasAttribute("disabled")},get empty(){return l.collection.length<1},get virtual(){return l.isVirtual}}:o}}function Ee(r){return c(r,String)&&Object.assign(document.createElement("textarea"),{innerHTML:r}).textContent||r}function $t(){let r=!1,e=[],t={get on(){return r=!0,t},get off(){return r=!1,t},get backLog(){return e}};function n(...l){return e.unshift(...l.map(a=>`${ve()} \u2A3B ${Ee(a)}`)),console.error(e.slice(0,l.length).join(`
`)),t}function o(...l){return e.unshift(...l.map(a=>`${ve()} \u2714 ${Ee(a)}`)),r&&console.log(e.slice(0,l.length).join(`
`)),t}return Object.defineProperties(t,{log:{value:o,enumerable:!1},error:{value:n,enumerable:!1}}),Object.freeze(t)}var At=!0,ee={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/^javascript|injected|noreferrer|alert|DataURL/gi},Dt=r=>{if(At&&Object.keys(r.removed).length){let e=Object.entries(r.removed).reduce((t,[n,o])=>[...t,`${j(n)} => ${o}`],[]).join("\\000A");T.error(`JQx: HTML creation error(s): ${e}`)}},Ht=function(r){let e=r.nodeName.toLowerCase(),t=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!t.find(n=>n===e)||k.isAllowed(e)},G=r=>{let e={rawHTML:r?.parentElement?.getHTML()??"no html",removed:{}};return c(r,HTMLElement)&&[...r.childNodes].forEach(t=>{if(t?.children?.length&&G(t),t?.attributes){let o=c(t,SVGElement)?B.svg:B.html;[...(t??{attributes:[]}).attributes].forEach(l=>{let a=l.name.trim().toLowerCase(),S=l.value.trim().toLowerCase().replace(ee.whiteSpace,""),y=a==="href"?!ee.validURL.test(S):ee.notAllowedValues.test(S),b=a.startsWith("data")?!ee.data.test(a):!!o[a];if(y||b){let h=q(l.value||"none",60);h+=h.length===60?"...":"",e.removed[`${l.name}`]=`attribute/property/value not allowed, removed. Value: ${h}`,t.removeAttribute(l.name)}})}if(!(Ht(t)||t.constructor===CharacterData||t.constructor===Comment)){let o=(t?.outerHTML||t?.textContent).trim(),l=q(o,60)??"EMPTY";l+=l.length===60?"...":"",e.removed[`<${t.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${l}`,t.remove()}}),Dt(e),r};var A=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(r,e){return r[String(e).toLowerCase()]??r[e]}}),Nt=r=>{let e=document.createElement("div");return e.insertAdjacentHTML(A.end,r),e.childNodes.length?G(e):void 0},Mt=(r,e,t)=>c(r,Comment)?e.insertAdjacentHTML(t,`<!--${r.data}-->`):e.insertAdjacentText(t,r.data),J=(r=[],e=document.body,t=A.BeforeEnd)=>r.reduce((n,o)=>{let l=Z(o)&&Ot(o,e,t);return l?[...n,l]:n},[]),Ot=(r,e=document.body,t=A.BeforeEnd)=>(e=e?.isJQx?e?.[0]:e,c(r,Comment,Text)?Mt(r,e,t):e.insertAdjacentElement(t,r)),H=r=>{if(c(r,Text,Comment))return r;let e=r?.trim(),t=e?.split(/<text>|<\/text>/i)??[];if(t?.length&&(t=t.length>1?t.filter(o=>o.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(r.replace(/<!--|-->$/g,""));if(t||!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(t);let n=Nt(r);return n.childNodes.length<1?H(`<span data-jqxcreationerror="1">${$(r,60)}</span>`):n.children[0]};var w=(r,e)=>{let t=r.collection.filter(n=>!Ne(n));for(let n=0;n<t.length;n+=1)e(t[n],n);return r},Pt=Le(),It={get(r,e){return r[_(e)]||r[e]},enumerable:!1,configurable:!1};function Fe(r){return r&&(r.textContent="")}function Q(r){let e=r.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),r.isConnected?r.remove():r=null,e}function Ae(r,e){if(r&&c(e,Object))for(let[t,n]of Object.entries(e))r.setAttribute(`data-${D(t)}`,n)}function Te(r,e){return r.andThen(e,!0)}function $e(r,e){return r.andThen(e)}function De(r){return r.startsWith("data")||B.html.find(e=>r.toLowerCase()===e)}function Rt(r,e,t,n){t&&c(e,String)&&(e={[e]:t==="-"?"":t});let o;e.className&&(o=e.className,delete e.className),o=[...r.classList].find(a=>a.startsWith("JQxClass-")||o&&a===o)||o||`JQxClass-${U().slice(1)}`,n.editCssRule(`.${o}`,e),r.classList.add(o)}function kt(r,e){if(r)for(let[t,n]of Object.entries(e)){if(t=D(t),t.startsWith("data"))return Ae(r,n);c(n,String)&&De(t)&&r.setAttribute(t,n.split(/[, ]/)?.join(" "))}}function ae(r,e){if(c(e,Object))for(let[t,n]of Object.entries(e)){let o;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),o="important"),r.style.setProperty(D(t),n,o)}}function jt(...r){debugLog.log("\u2757"+r.map(e=>String(e)).join(", "))}function ce(r,e=0,t=!0){return r=r?.parentElement,e+=r?r[t?"scrollTop":"scrollLeft"]:0,r?ce(r,e,t):e}function Bt(r){return{data:e=>({get all(){return new Proxy(e[0]?.dataset??{},It)},set:(t={})=>{if(!e.is.empty&&c(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},get:(t,n)=>e.data.all[t]??n,add:(t={})=>{if(!e.is.empty&&c(t,Object))for(let[n,o]of Object.entries(t))e.setData({[n]:o});return e},remove:t=>(e[0]?.removeAttribute(`data-${D(t)}`),e)}),dimensions:e=>{if(e.is.empty)return{error:"[instance].dimensions: NO ELEMENTS"};let t=e[0],n=e.first()?.getBoundingClientRect().toJSON();return n.scrollTopDistance=ce(t,0),n.scrollLeftDistance=ce(t,0,!1),n},node:e=>e[0],HTML:e=>({get:(t,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let o=t?e.outerHtml:e.html();return n?j(o):o},set:(t,n=!1,o=!1)=>{t=t.isJQx?t.HTML.get(1):t;let l=c(t,String);return t=l&&o?j(t):t,l&&(t||"").trim().length&&e.html(t,n),e},replace:(t,n=!1)=>e.HTML.set(t,!1,n),append:(t,n=!1)=>(t=c(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t,!0,n)),insert:(t,n=!1)=>(t=c(t,HTMLElement)?r(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t+e.HTML.get(),!1,n))}),is:e=>Pt(e),length:e=>e.collection.length,outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,parent:e=>{let t=r(e[0]?.parentNode);return t.is.empty?e:t},render:e=>(!e.is.empty&&e.toDOM()||r.log("[JQx.render]: empty collection"),e),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:t=>e.style(t),inSheet:t=>e.css(t),valueOf:t=>e.is.empty?void 0:getComputedStyle(e[0])[D(t)],nwRule:t=>e.Style.byRule({rules:t}),byRule:({classes2Apply:t=[],rules:n=[]}={})=>{let l=c(n,String)&&!t.length?n.split("{")[0].trim():"";if(n=n&&c(n,String)?[n]:n,t=t&&c(t,String)?[t]:t,(n?.length||t?.length)&&(n?.length&&r.editCssRules(...n),t))for(let a of t)e.addClass(a);return l?.startsWith(".")&&e.addClass(l.slice(1)),l?.startsWith("#")&&!e.attr("id")&&e.prop({id:l.slice(1)}),e}})}}function Jt(r){return{addClass:(e,...t)=>w(e,n=>n&&t.forEach(o=>n.classList.add(o))),after:$e,afterMe:$e,andThen:(e,t,n=!1)=>{if(!t||!c(t,String,Node,Proxy))return jt(`[JQx instance].[beforeMe | afterMe | andThen]: insufficient input [${t}]`),e;t=t?.isJQx?t.collection:c(t,Node)?r.virtual(t).collection:r.virtual(H(t)).collection;let[o,l,a]=n?[0,"before",t.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(t)];return e[o][l](...t),e.collection=a,e},append:(e,...t)=>{if(!e.is.empty&&t.length){let n=e.length===1;for(let o of t){if(!o.isJQx&&L(o)){let l=o.trim(),S=!/^<(.+)[^>]+>$/m.test(l)?r.text(o):H(o);w(e,y=>y.append(n?S:Q(S)))}Z(o)&&w(e,l=>l.append(n?o:Q(o))),o.isJQx&&!o.is.empty&&w(e,l=>o.collection.forEach(a=>l.append(n?a:Q(a))))}}return e},appendTo:(e,t)=>(t.isJQx||(t=r(t)),t.append(e),e),attr:(e,t,n)=>{let o=e[0];if(!o)return e;if(!n&&L(t))return t=D(t),t==="class"?[...o?.classList].join(" "):o?.getAttribute(t);if(L(t)&&n)switch(t=D(t),!0){case t.startsWith("data-"):t={data:{[t.replace("data-","")]:n}};break;default:t={[t]:n}}return c(t,Object)&&!e.is.empty&&kt(o,t),e},before:Te,beforeMe:Te,clear:e=>w(e,Fe),closest:(e,t)=>{let n=L(t)?e[0].closest(t):null;return n?r(n):e},computedStyle:(e,t)=>e.first()&&getComputedStyle(e.first())[t],css:(e,t,n)=>w(e,o=>Rt(o,t,n,r)),duplicate:(e,t=!1,n=document.body)=>{let o=e.toNodeList().map(a=>a.removeAttribute&&a.removeAttribute("id")||a),l=r.virtual(o);return t?l.toDOM(n):l},each:(e,t)=>w(e,t),empty:e=>w(e,Fe),find:(e,t)=>e.collection.length>0?[...e.first()?.querySelectorAll(t)]:[],find$:(e,t)=>e.collection.length>0?r(t,e):e,first:(e,t=!1)=>{if(e.collection.length>0)return t?e.single():e.collection[0]},first$:(e,t)=>e.single(t),getData:(e,t,n)=>e.first()&&e.first().dataset?.[t]||n,hasClass:(e,...t)=>{let n=e[0];return!n||!n.classList.length?!1:t.find(o=>n.classList.contains(o))&&!0||!1},hide:e=>w(e,t=>ae(t,{display:"none !important"})),html:(e,t,n)=>{if(t===void 0){let o=e.node;return o?.getHTML&&o.getHTML()||""}if(!e.isEmpty()){let o=H(`<div>${t.isJQx?t.HTML.get(!0):t}</div>`);if(!c(o,Comment))return w(e,a=>(n||(a.textContent=""),a.insertAdjacentHTML(r.at.end,o.getHTML())))}return e},htmlFor:(e,t,n="",o=!1)=>{if(t&&e.collection.length){if(!t||!L(n))return e;let l=e.find$(t);if(l.length<1)return e;let a=H(`<span>${n}</span>`);l.each(S=>{o||(S.textContent=""),S.insertAdjacentHTML(r.at.end,a?.getHTML())})}return e},isEmpty:e=>e.collection.length<1,nth$:(e,t)=>e.single(t),on:(e,t,...n)=>{if(e.collection.length&&c(t,String,Array)){if(t?.length<1||n.length<1)return e;let o=Me(e);r.handle({type:t,selector:o,handlers:n})}return e},prepend:(e,...t)=>{if(!e.is.empty&&t){let n=e.length===1;for(let o of t){if(L(o)){o=o.trim();let a=!/^<(.+)[^>]+>$/m.test(o)?r.text(o):H(o);a=n?a:Q(a),w(e,S=>S.prepend(a.cloneNode(!0)))}Z(o)&&w(e,l=>l.prepend(n?o:Q(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),w(e,l=>w(o,a=>l.prepend(n?a:Q(a)))),o.collection.reverse())}}return e},prependTo:(e,t)=>(t.isJQx||(t=r.virtual(t)),t.prepend(e),e),prop:(e,t,n)=>{if(c(t,String)&&!n)return t.startsWith("data")?e[0]?.dataset[t.slice(t.indexOf("-")+1)]:e[0]?.[t];let o=c(t,Object)?t:{[t]:n};for(let[l,a]of Object.entries(o)){if(l=l.trim(),a&&!De(l)||!a)return!1;if(l.toLowerCase()==="id")return e[0].id=a;w(e,y=>{if(l.startsWith("data"))return y.dataset[l.slice(l.indexOf("-")+1)]=a;y[l]=a})}return e},remove:(e,t)=>{T.log(`remove ${$(e.HTML.get(1),40)}${t?` /w selector ${t}`:""}`);let n=l=>l.remove(),o=()=>e.collection=e.collection.filter(l=>document.documentElement.contains(l));if(t){let l=e.find$(t);return l.is.empty||(w(l,n),o()),e}return w(e,n),o(),e},rmAttr:(e,...t)=>{for(let n of t)e.node.removeAttribute(n);return e},removeClass:(e,...t)=>w(e,n=>{if(n)for(let o of t)n.classList.remove(o)}),renderTo:(e,t=document.body,n=r.at.end)=>(e.toDOM(t,n),e),replace:(e,t,n)=>{let o=e[0];return!t||!n||!c(n,HTMLElement)&&!n.isJQx?(console.error("JQx replace: invalid replacement value"),e):(n.isJQx&&(n=n[0]),c(n,NodeList)&&(n=n[0]),o&&t&&(t=c(t,String)?o.querySelectorAll(t):t.isJQx?t.collection:t,c(t,HTMLElement,NodeList,Array)&&c(n,HTMLElement)&&(c(t,HTMLElement)?[t]:[...t]).forEach(l=>l.replaceWith(n.cloneNode(!0)))),e)},replaceClass:(e,t,...n)=>w(e,o=>{o.classList.remove(t);for(let l of n)o.classList.add(l)}),replaceMe:(e,t)=>e.replaceWith(t),replaceWith:(e,t)=>(t=c(t,Element)?t:t.isJQx?t[0]:void 0,t&&(e[0].replaceWith(t),e=r.virtual(t)),e),setData:(e,t)=>w(e,n=>Ae(n,t)),show:e=>w(e,t=>ae(t,{display:"revert-layer !important"})),single:(e,t)=>e.collection.length>0?c(t,String)?e.find$(t):c(t,Number)?r(e.collection[t]):r(e.collection[0]):e,style:(e,t,n)=>w(e,l=>{n&&c(t,String)&&(t={[t]:n||"none"}),ae(l,t)}),text:(e,t,n=!1)=>e.isEmpty()?e:c(t,String)?w(e,l=>l.textContent=n?l.textContent+t:t):e.first().textContent,toDOM:(e,t=document.body,n=A.BeforeEnd)=>(e.isVirtual&&(e.isVirtual=!1),e.collection=J(e.collection,t,n),e),toggleClass:(e,t)=>w(e,n=>n.classList.toggle(t)),toNodeList:e=>[...e.collection].map(t=>document.importNode(t,!0)),trigger:(e,t,n=Event,o={})=>{if(e.collection.length){let l=new n(t,{...o,bubbles:o.bubbles??!0});for(let a of e.collection)a.dispatchEvent(l)}return e},val:(e,t)=>{let n=e[0];return!n||!c(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:t===void 0?n.value:(n.value=c(t,String)?t:"",e)}}}function He(r){return{factoryExtensions:Bt(r),instanceExtensions:Jt(r)}}function Oe(r){if(r.node("#jqxPopup"))return;r.logger.log("JQx: [JQx].Popup first call. Dialog element created."),r.dialog({id:"jqxPopup"},r.div({id:"jqxPopupContent"})).render,r.editCssRules(...me);let[e,t]=[r("#jqxPopupContent"),r.node("#jqxPopup")],n={};return r.handle({type:"click, keydown",handlers:b,capture:!0}),Object.freeze({show:o,removeModal:y});function o(u){if(t.open)return;n={...u};let{content:g}=n;return r.IS(g,String,HTMLElement)||g?.isJQx?a():!0}function l(){return n.modal?d(n.warnMessage):S()}function a(){e.clear();let{content:u,modal:g,closeAfter:m}=n;g=r.IS(g,Boolean)?g:!1;let x=g?"":r.div({id:"closeHandleIcon"});e.append(x,r.IS(u,String)?r.div(u):u),t.showModal(),!g&&r.IS(m,Number)&&h(l,m)}function S(){if(t.close(n.returnValue),r.IS(n.callback,Function))return n.callback(n.returnValue);n={}}function y({callback:u,value:g}={}){n.returnValue=g,n.modal=!1,n.callback=u||n.callback,l()}function b(u){if(!(Object.keys(n).length<1||!t.open))return u.key==="Escape"&&u.preventDefault(),n.activeTimer&&clearTimeout(n.activeTimer),(u.target.closest("#closeHandleIcon")||!u.target.closest("#jqxPopupContent"))&&l(),document.activeElement.blur()}function h(u,g){r.IS(u,Function)&&r.IS(g,Number)&&g>0&&(n.activeTimer=setTimeout(u,g*1e3))}function d(u){if(!r.IS(u,String,HTMLElement,Proxy))return;let g=e.find$(".warn");switch(!0){case g.is.empty:g=r.div({class:"warn"},u);default:e.append(g.addClass("active")),h(()=>e.find$(".warn").removeClass("active"),2)}}}var N={},Qt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],Pe=r=>!!Qt.find(e=>e===r);function Ie(r){return function(o){let{eventType:l,selector:a,callback:S,name:y,capture:b,once:h,canRemove:d}=o;switch(!0){case(!L(l)||!r.IS(S,Function)):default:y=y||!/handlers$/.test(S.name)&&S.name||void 0,b=r.IS(b,Boolean)?b:!1,h=r.IS(h,Boolean)?h:!1,d=L(y,4)&&r.IS(d,Boolean)?d:h;let{handler:u,signal:g,remove:m}=e({selector:a,callback:S,canRemove:d,once:h,name:y,eventType:l});return n({eventType:l,handler:u,capture:b,once:h,signal:g,remove:m,name:y})}};function e(o){let{selector:l,callback:a,canRemove:S,name:y,eventType:b,once:h}=o,d=(S||h)&&new AbortController,u=t({once:h,abortcontroller:d,name:y,eventType:b}),g=l?{handler:m=>{let x=m.target?.closest?.(l);return x&&a(m,r(x),u)},remove:u}:{handler:m=>a(m,m.target,u),remove:u};return d&&(g.signal=d.signal,h)?{handler:(m,x)=>{g.handler(m,x),u()}}:g}function t(o){let{once:l,abortcontroller:a,name:S,eventType:y}=o;return S?a?function(){a.abort();let h=[...N[y].entries()].find(([d,u])=>u.name===S);N[y].delete(h[0]),setTimeout(()=>r.logger.log(`Listener for event type [${y}] with name [${S}] was removed${l?" (once active, so handled once).":""}`),100)}:function(b){r.logger.error(`Listener for event type [${y}] with name [${S}] is not marked as removable`)}:function(){r.logger.error("An anonymous listener can not be removed")}}function n(o){let{eventType:l,handler:a,capture:S,once:y,signal:b,remove:h,name:d}=o;if(N[l]||(N[l]=new Map),!(N[l].has(a)||[...N[l].values()].find(g=>(g.name||"")===d))){let g={capture:S||Pe(l),once:y||!1};b&&(g.signal=b),document.addEventListener(l,a,g);let m={name:d,remove:h,capture:S||Pe(l)};N[l].set(a,m)}}}var ue,te,{isCommentOrTextNode:Ne,isNode:Z,isComment:qr,isText:en,isHtmlString:ke,isArrayOfHtmlElements:je,isArrayOfHtmlStrings:Be,ElemArray2HtmlString:Je,input2Collection:Qe,setCollectionFromCssSelector:We,addHandlerId:Me,cssRuleEdit:fe,addFn:Wt}=zt();function zt(){let r=X({createWithId:"JQxStylesheet"}),e=(t,n)=>te[t]=(o,...l)=>n(o,...l);return{...Ce(),cssRuleEdit:r,addFn:e}}function W(r){return new Proxy(r,{get:(e,t)=>Ut(e,t,r)})}function Vt(r,e){return(...t)=>c(r,Function)&&r(W(e),...t)}function _t(r,e){return(...t)=>c(r,Function)&&r(W(e),...t)}function Ut(r,e,t){switch(!0){case c(e,Symbol):return r;case c(+e,Number):return r.collection?.[e]||void 0;case e in ue:return _t(ue[e],t)();case e in te:return Vt(te[e],t);default:return r[e]}}function ze(r){let e=Kt(r);for(let[t,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(r,t,n);return r}function Gt(r){return{allow:e=>{let t=/-/.test(e),n=t&&e;e=t?_(e):e.toLowerCase(),k.allowTag(e),c(r[e],Function)||Object.defineProperties(r,de(e,!0,r,n))},prohibit:e=>{e=e.toLowerCase(),k.prohibitTag(e),c(r[e],Function)&&Object.defineProperties(r,de(e,!1,r))}}}function Re(...r){if(r.length===1){let e=String(r.shift().trim());r=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(t=>t.trim())}for(let e of r.map(t=>t.startsWith("!")?t.slice(1,-1):t))fe(e,{removeRule:1})}function Zt(r){return function(e,t,n){t=t?.isJQx?t?.[0]:t,n=n&&Object.values(A).find(l=>n===l)?n:void 0;let o=r(e,document.createElement("br"));if(t&&!c(t,HTMLBRElement))for(let l of o.collection)n?t.insertAdjacentElement(n,l):t.append(l);return o}}function Yt(...r){let e={};for(let t of r){let n=Object.getOwnPropertyDescriptors(t);for(let[o,l]of Object.entries(n))!(o in e)&&Object.defineProperty(e,o,l)}return e}function Xt(r,e,t,n){return r=D(n||r.toLowerCase()),{get(){return(...o)=>e?t.virtual(G(oe[r](...o))):void 0},enumerable:!1,configurable:!0}}function de(r,e,t,n){r=r.toLowerCase();let o=Xt(r,e,t,n);return n?{[n]:o,[_(n)]:o}:{[r]:o,[r.toUpperCase()]:o}}function Kt(r){return Yt(Object.entries(k.tagsRaw).reduce(qt(r),{}),ir(r))}function qt(r){return function(e,[t,n]){return n&&Object.defineProperties(e,de(t,n,r)),e}}function er(r){return function(e,t,...n){c(t,Function)&&(n.push(t),t=void 0),r({type:e,selector:t,handlers:n})}}function tr(r){return function(e){let{type:t,origin:n,selector:o,handlers:l,name:a,capture:S,once:y,canRemove:b}=e,h=we(t),d=a;if(!c(l,Function,Array))return;l=c(l,Function)?[l]:l,b=c(b,Boolean)?b:!1;let u={eventType:h,selector:o||n,capture:S,name:d,once:y,canRemove:b};switch(!0){case(c(h,Array)&&h.length>0):for(let m of h){u.eventType=m;for(let x of l)g(x)}return;default:for(let m of l)g(m)}function g(m){u.name=d,c(m,Function)&&r({...u,callback:m})}}}function rr(r,e){if(e=L(e)?e:void 0,r=L(r)?r:void 0,e&&r)return[...N[r].values()].find(t=>(t.name||"")===e)}function nr(r){return r.activePopup||Object.defineProperty(r,"activePopup",{value:Oe(r),enumerable:!1}),r.activePopup}function or(r){let e=(y,b)=>fe(y,b),t=y=>X({createWithId:y||`jqx${U()}`}),n=(...y)=>{for(let b of y)fe(b)},o=Gt(r),l=Ie(r),a=tr(l);return{editCssRule:e,createStyle:t,editCssRules:n,allowProhibit:o,handle:l,capturedHandling:a,log:(...y)=>T.on.log(...y).off}}function ir(r){let{factoryExtensions:e,instanceExtensions:t}=He(r);ue=e,te=t;let{editCssRule:n,createStyle:o,editCssRules:l,allowProhibit:a,handle:S,capturedHandling:y,log:b}=or(r);return{log:b,editCssRules:l,createStyle:o,editStylesheet:o,editCssRule:n,escHtml:j,logger:T,text:(h,d=!1)=>d?r.comment(h):document.createTextNode(h),node:(h,d=document)=>d.querySelector(h,d),nodes:(h,d=document)=>[...d.querySelectorAll(h,d)],get getNamedListener(){return rr},get virtual(){return Zt(r)},get allowTag(){return a.allow},get prohibitTag(){return a.prohibit},get removeCssRule(){return Re},get removeCssRules(){return Re},get delegate(){return er(y)},get delegateCaptured(){return y},get handle(){return y},get at(){return A},get setStyle(){return n},get fn(){return Wt},get lenient(){return k.allowUnknownHtmlTags},get IS(){return c},get Popup(){return nr(r)}}}var lr=ze(sr());function sr(){return function(t,n,o=A.BeforeEnd){if(t?.isJQx)return t;let l=c(n,HTMLBRElement);n=(!l&&n&&n.isJQx?n[0]:n)||document.body,o=o&&Object.values(A).find(g=>o===g)?o:void 0;let a=ke(t),S=!a&&Be(t),y=S||a,b={collection:Qe(t)??[],isVirtual:l,isJQx:!0},h=je(b.collection),d=`input =&gt; ${S?`"${$(t.join(", "),70)}"`:!y&&h?`element collection [${$(b.collection.map(g=>`${c(g,Comment,Text)?"Comment|Text @":""} ${g?.outerHTML||g?.textContent}`).join(", "),70)}]`:`"${$(t,70)}"`}`;if(b.collection.length&&h)return T.log(d),l||b.collection.forEach(g=>{n.contains(g)||J([g],n,o)}),W(b);if(y){if([t].flat().forEach(g=>b.collection.push(H(g))),b.collection.length>0){let g=b.collection.filter(m=>m?.dataset?.jqxcreationerror);b.collection=b.collection.filter(m=>!m?.dataset?.jqxcreationerror),T.log(`${d}`),T.log(`*Created ${b.isVirtual?"VIRTUAL ":""}[${$(Je(b.collection).trim()||"sanitized: no elements remaining",70)}]`),b.isVirtual||J(b.collection,n,o)}return W(b)}let u=We(t,n,b);return T.log(`input => ${u}`),W(b)}}return Ye(ar);})();

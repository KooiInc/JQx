var JQx=(()=>{var oe=Object.defineProperty;var Ge=Object.getOwnPropertyDescriptor;var Ze=Object.getOwnPropertyNames;var Ye=Object.prototype.hasOwnProperty;var Xe=(t,e)=>{for(var r in e)oe(t,r,{get:e[r],enumerable:!0})},Ke=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ze(e))!Ye.call(t,o)&&o!==r&&oe(t,o,{get:()=>e[o],enumerable:!(n=Ge(e,o))||n.enumerable});return t};var qe=t=>Ke(oe({},"__esModule",{value:!0}),t);var dr={};Xe(dr,{default:()=>ur});var ve=rt(),J=et(),W=tt();function et(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function tt(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function rt(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var nt=ot(),Ee={html:"innerHTML",text:"textContent",class:"className"},ie=nt;function ot(){let t={get(e,r){let n=String(r)?.toLowerCase();switch(!0){case n in e:return e[n];case mt(n):return we(e,n,r);default:return we(e,n,r,!0)}},enumerable:!1,configurable:!1};return new Proxy({},t)}function we(t,e,r,n=!1){return Object.defineProperty(t,e,{get(){return n?o=>ft(r):gt(e)}}),t[e]}function it(t,e,r){return e=e?.isJQx&&e.first()||e,se({trial:n=>dt(e)?t.append(e):Ce(e)?t.insertAdjacentHTML("beforeend",e):t.append(e),whenError:n=>console.info(`${r} (for root ${t}) not created, reason
`,n)})}function lt(t,e,...r){let n=st(e,t);return r?.forEach(o=>it(n,o,t)),n}function st(t,e){switch(t=le(e)?ut(t):t?.isJQx?t.first():t,!0){case a(t,String):return z(e,Ce(t,e)?{html:t}:{text:t});case a(t,Node):return ct(e,t);default:return z(e,t)}}function at(t){return delete t.data,Object.keys(t).length<1||Object.keys(t).forEach(e=>{let r=e.toLowerCase();r in Ee&&(t[Ee[r]]=t[e],delete t[e])}),t}function ct(t,e){let r=z(t);return r.append(e),r}function z(t,e={}){e=Le(e,{});let r=Object.entries(e.data??{}),n=Object.assign(le(t)?new Comment(e?.text):document.createElement(t),at(e));return r.length&&r.forEach(([o,l])=>n.dataset[o]=String(l)),n}function Le(t,e){return e?a(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:e}):a(t,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function ut(t){return Le(t)?t?.text??t?.textContent??"":String(t)}function ft(t){return z("b",{style:"color:red",text:`'${t}' is not a valid HTML-tag`})}function Ce(t,e){return!le(e)&&a(t,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(t)}function dt(t){return t?.constructor===Comment||t?.constructor===CharacterData}function le(t){return t?.constructor===Comment||/comment/i.test(t)}function mt(t){return!a(z(t),HTMLUnknownElement)}function gt(t){return(e,...r)=>lt(t,e,...r)}var{IS:a,maybe:se,$Wrap:br,xProxy:hr,isNothing:Sr}=pt();function pt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),S();let t=x(),[e,r]=[m(),M()];return r.custom(),{IS:n,maybe:t,$Wrap:e,isNothing:b,xProxy:r};function n(i,...s){if(t({trial:d=>"isTypes"in(s?.[0]??{})})){let d=s[0];return"defaultValue"in d?g(i,d):"notTypes"in d?f(i,d):n(i,...[d.isTypes].flat())}let c=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?y(c,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:c,noShouldbe:d,compareTo:v,inputCTOR:T,isNaN:O,isInfinity:I,shouldBeFirstElementIsNothing:R}=h(i,...s);switch(s=s.length&&s[0],!0){case R:return String(i)===String(v);case(i?.[Symbol.proxy]&&d):return i[Symbol.proxy];case O:return d?"NaN":t({trial:k=>String(v)})===String(i);case I:return d?"Infinity":t({trial:k=>String(v)})===String(i);case c:return d?String(i):String(v)===String(i);case T===Boolean:return s?T===s:"Boolean";default:return p(i,s,d,u(i,T))}}function u(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function h(i,...s){let c=s.length<1,d=!c&&s[0],v=!c&&b(s[0]),T=i==null,O=!T&&Object.getPrototypeOf(i)?.constructor,I=t({trial:k=>String(i)})==="NaN",R=t({trial:k=>String(i)})==="Infinity";return{noInput:T,noShouldbe:c,compareTo:d,inputCTOR:O,isNaN:I,isInfinity:R,shouldBeFirstElementIsNothing:v}}function p(i,s,c,d){switch(!0){case(!c&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case t({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?t({trial:v=>i instanceof s})||s===d||s===Object.getPrototypeOf(d)||`${s?.name}`===d?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||d?.name||String(d)}}function y(i,...s){return s.some(c=>n(i,c))}function b(i,s=!1){let c=i==null;return c=s?c||n(i,1/0)||n(i,NaN):c,c}function x(){let i=(s,c)=>s?.constructor===Function?s(c):void 0;return function({trial:s,whenError:c=()=>{}}={}){try{return i(s)}catch(d){return i(c,d)}}}function m(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:c=[void 0],notTypes:d}={}){return c=c?.constructor!==Array?[c]:c,d=d&&d?.constructor!==Array?[d]:[],d.length<1?n(i,...c)?i:s:f(i,{isTypes:c,notTypes:d})?i:s}function f(i,{isTypes:s=[void 0],notTypes:c=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,c=c?.constructor!==Array?[c]:c,n(i,...s)&&!n(i,...c)}function S(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function w(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function L(i){let s=i.set;return i.set=(c,d,v)=>d===Symbol.proxy?c[d]=v:s(c,d,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,c){for(let v of c)v.set&&(v=L(v));let d=new s(...c);return d[Symbol.proxy]=`Proxy (${w(c[0])})`,d}})}}}}var{IS:Z,maybe:vr,$Wrap:Er,xProxy:wr,isNothing:Lr}=yt();function yt(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),S();let t=x(),[e,r]=[m(),M()];return r.custom(),{IS:n,maybe:t,$Wrap:e,isNothing:b,xProxy:r};function n(i,...s){if(t({trial:d=>"isTypes"in(s?.[0]??{})})){let d=s[0];return"defaultValue"in d?g(i,d):"notTypes"in d?f(i,d):n(i,...[d.isTypes].flat())}let c=typeof i=="symbol"?Symbol.isSymbol:i;return s.length>1?y(c,...s):l(i,...s)}function o(i){return i?.[Symbol.proxy]??n(i)}function l(i,...s){let{noInput:c,noShouldbe:d,compareTo:v,inputCTOR:T,isNaN:O,isInfinity:I,shouldBeFirstElementIsNothing:R}=h(i,...s);switch(s=s.length&&s[0],!0){case R:return String(i)===String(v);case(i?.[Symbol.proxy]&&d):return i[Symbol.proxy];case O:return d?"NaN":t({trial:k=>String(v)})===String(i);case I:return d?"Infinity":t({trial:k=>String(v)})===String(i);case c:return d?String(i):String(v)===String(i);case T===Boolean:return s?T===s:"Boolean";default:return p(i,s,d,u(i,T))}}function u(i,s){return i===0?Number:i===""?String:i?s:{name:String(i)}}function h(i,...s){let c=s.length<1,d=!c&&s[0],v=!c&&b(s[0]),T=i==null,O=!T&&Object.getPrototypeOf(i)?.constructor,I=t({trial:k=>String(i)})==="NaN",R=t({trial:k=>String(i)})==="Infinity";return{noInput:T,noShouldbe:c,compareTo:d,inputCTOR:O,isNaN:I,isInfinity:R,shouldBeFirstElementIsNothing:v}}function p(i,s,c,d){switch(!0){case(!c&&s===i||i?.[Symbol.proxy]&&s===Proxy):return!0;case t({trial:v=>String(s)})==="NaN":return String(i)==="NaN";case(i?.[Symbol.toStringTag]&&n(s,String)):return String(s)===i[Symbol.toStringTag];default:return s?t({trial:v=>i instanceof s})||s===d||s===Object.getPrototypeOf(d)||`${s?.name}`===d?.name:i?.[Symbol.toStringTag]&&`[object ${i?.[Symbol.toStringTag]}]`||d?.name||String(d)}}function y(i,...s){return s.some(c=>n(i,c))}function b(i,s=!1){let c=i==null;return c=s?c||n(i,1/0)||n(i,NaN):c,c}function x(){let i=(s,c)=>s?.constructor===Function?s(c):void 0;return function({trial:s,whenError:c=()=>{}}={}){try{return i(s)}catch(d){return i(c,d)}}}function m(){return function(i){return Object.freeze({get value(){return i},get[Symbol.type](){return o(i)},get type(){return o(i)},[Symbol.is](...s){return n(i,...s)},is(...s){return n(i,...s)}})}}function g(i,{defaultValue:s,isTypes:c=[void 0],notTypes:d}={}){return c=c?.constructor!==Array?[c]:c,d=d&&d?.constructor!==Array?[d]:[],d.length<1?n(i,...c)?i:s:f(i,{isTypes:c,notTypes:d})?i:s}function f(i,{isTypes:s=[void 0],notTypes:c=[void 0]}={}){return s=s?.constructor!==Array?[s]:s,c=c?.constructor!==Array?[c]:c,n(i,...s)&&!n(i,...c)}function S(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return o(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...i){return n(this,...i)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(i){return o(i)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(i,...s){return n(i,...s)},enumerable:!1,configurable:!1}}))}function w(i){let s=String(Object.getPrototypeOf(i)?.constructor);return s.slice(s.indexOf("ion")+3,s.indexOf("(")).trim()}function L(i){let s=i.set;return i.set=(c,d,v)=>d===Symbol.proxy?c[d]=v:s(c,d,v),i}function M(){let i=Proxy;return{native(){Proxy=i},custom(){Proxy=new i(i,{construct(s,c){for(let v of c)v.set&&(v=L(v));let d=new s(...c);return d[Symbol.proxy]=`Proxy (${w(c[0])})`,d}})}}}}var Y=bt;function bt({styleSheet:t,createWithId:e}={}){let{tryParseAtOrNestedRules:r,ruleExists:n,checkParams:o,sheet:l,removeRules:u,consider:h,currentSheetID:p}=ht({styleSheet:t,createWithId:e});function y(f,S){if(f&&S.removeProperties){Object.keys(S.removeProperties).forEach(w=>f.style.removeProperty(Fe(w)));return}Object.entries(S).forEach(([w,L])=>{w=Fe(w.trim()),L=L.trim();let M;if(/!important/.test(L)&&(L=L.slice(0,L.indexOf("!important")).trim(),M="important"),!CSS.supports(w,L))return console.error(`StylingFactory ${p} error: '${w}' with value '${L}' not supported (yet)`);Te(()=>f.style.setProperty(w,L,M),`StylingFactory ${p} (setRule4Selector) failed`)})}function b(f,S,w=l){if(f=f?.trim?.(),!Z(f,String)||!f.length||/[;,]$/g.test(f))return console.error(`StylingFactory ${p} (setRules): [${f||"[no selector given]"}] is not a valid selector`);if(S.removeRule)return u(f);let L=n(f,!0),M=L||w.cssRules[w.insertRule(`${f} {}`,w.cssRules.length||0)];return h(()=>y(M,S),f,L)}function x(f){let S=f.trim().split(/{/,2),w=S.shift().trim();if(!Z(w,String)||!w?.trim()?.length)return console.error(`StylingFactory ${p} (doParse): no (valid) selector could be extracted from rule ${ae(f)}`);let L=Ct(S.shift());return Te(()=>b(w,L),`StylingFactory ${p} (setRules) failed`)}function m(f){let S=r(f);return S.done?S.existing:x(f)}function g(f,S){return f.trim().startsWith("@media")?m(St(f,S)):b(f,S)}return function(f,S={}){return o(f,S)&&(Object.keys(S).length?g(f,S):m(f))}}function ht({styleSheet:t,createWithId:e}){let r="Note: The rule or some of its properties may not be supported by your browser (yet)",n=`for style#${e}`;t=e?o(e):t;function o(m){let g=document.querySelector(`#${m}`)?.sheet;if(g)return g;let f=Object.assign(document.createElement("style"),{id:m});return document.head.insertAdjacentElement("beforeend",f),f.sheet}function l(m){return console.error(`StylingFactory ${n} [rule: ${m}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function u(m,g){return[...t.rules].find(f=>g?$e(f.selectorText||"",m):Et`${vt(m)}${[..."gim"]}`.test(f.cssText))}function h(m){return/^@charset|@import|namespace/i.test(m.trim())?l(m):m.match(/}/g)?.length>1?{existing:b(m,1),done:!0}:{done:!1}}function p(m){let g=[...t.cssRules].reduce((S,w,L)=>$e(w.selectorText||"",m)&&S.concat(L)||S,[]),f=g.length;return g.forEach(S=>t.deleteRule(S)),f>0?console.info(`\u2714 Removed ${f} instance${f>1?"s":""} of selector ${m} from ${n.slice(4)}`):console.info(`\u2714 Remove rule: selector ${m} does not exist in ${n.slice(4)}`)}function y(m,g){return m&&Z(m,String)&&m.trim().length>0&&Z(g,Object)||(console.error(`StylingFactory ${n} called with invalid parameters`),!1)}function b(m){m=m.trim();let g=m.slice(0,m.indexOf("{")).trim(),f=!!u(g);try{return t.insertRule(`${m}`,t.cssRules.length),f}catch(S){return console.error(`StylingFactory ${n} (tryParse) ${S.name} Error:
${S.message}
Rule: ${ae(m)}
${r}`),f}}function x(m,g,f){try{return m(),f}catch(S){return console.error(`StylingFactory ${n} (tryAddOrModify) ${S.name} Error:
${S.message}
Rule: ${ae(g)}
${r}`),f}}return{sheet:t,removeRules:p,tryParseAtOrNestedRules:h,ruleExists:u,checkParams:y,tryParse:b,consider:x,currentSheetID:n}}function St(t,e){return`${t.trim()} ${Object.entries(e).map(([r,n])=>`${r}: { ${xt(n)}`)}`}function ae(t){let e=(t||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return t.length>e.length?`${e.trim()}...truncated`:e}function xt(t){return Object.entries(t).map(([e,r])=>`${e}: ${r.trim()}`).join(`;
`)}function vt(t){return t.replace(/([*\[\]()-+{}.$?\\])/g,e=>`\\${e}`)}function Et(t,...e){let r=e.length&&Array.isArray(e.slice(-1))?e.pop().join(""):"";return new RegExp((e.length&&t.raw.reduce((n,o,l)=>n.concat(e[l-1]||"").concat(o),"")||t.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),r)}function Fe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function Te(t,e){try{return t()}catch(r){console.error(`${e||"an error occured"}: ${r.message}`)}}function wt(t){return t.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(e,r)=>`${r}\\3b`).split(";").map(e=>e.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function Lt(t){return t.reduce((e,r)=>{let[n,o]=[r.slice(0,r.indexOf(":")).trim(),r.slice(r.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return n&&o?{...e,[n]:o}:e},{})}function Ct(t){return Lt(wt(t))}function $e(t,e){return t?.replace("::",":")===e?.replace("::",":")}var Ft=[...Array(26)].map((t,e)=>String.fromCharCode(e+65)).concat([...Array(26)].map((t,e)=>String.fromCharCode(e+97))).concat([...Array(10)].map((t,e)=>`${e}`)),$=Pt(),He={get(t,e){return t[K(e)]||t[e]},enumerable:!1,configurable:!1},C=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(t,e){return t[String(e).toLowerCase()]??t[e]}});function X(t,e=2){return`${t}`.padStart(e,"0")}function Tt(t,e=0){return[t,e]=[Math.floor(t),Math.ceil(e)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(t-e+1)+e)}function F(t,e=1){return e=a(e,Number)&&e||1,a(t,String)&&t.length>=e}function Ne(t){return t=a(t,String)&&/,/.test(t)?t.split(","):t,a(t,Array)?t.filter(e=>F(e)).map(e=>e.trim().toLowerCase()):a(t,String)&&t?.trim().toLowerCase()||""}function $t(t){let e=t.length;for(;e--;){let r=Tt(e);[t[e],t[r]]=[t[r],t[e]]}return t}function A(t,e=120){return`${t}`.trim().slice(0,e).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(t.length>e?" &hellip;":"").trim()}function D(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^-|-$/,"")}function At([t,...e]){return`${t.toUpperCase()}${e.join("")}`}function K(t){return a(t,String)?t.toLowerCase().split("-").map((e,r)=>r&&`${At(e)}`||e).join(""):t}function V(){return`_${$t(Ft).slice(0,8).join("")}`}function ce(t,e=120){return A(t,e).replace(/&lt;/g,"<")}function Ae(){return(t=>`[${X(t.getHours())}:${X(t.getMinutes())}:${X(t.getSeconds())}.${X(t.getMilliseconds(),3)}]`)(new Date)}function j(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function q(t){return a(t,Comment,Text)}function P(t){return a(t,Text,HTMLElement,Comment)}function Me(t){a(t,Comment)}function Dt(t){return a(t,Text)}function ee(t){return a(t,String)&&/^<|>$/.test(`${t}`.trim())}function te(t){return a(t,Array)&&!t?.find(e=>!P(e))}function ue(t){return a(t,Array)&&!t?.find(e=>!ee(e))}function fe(t){return t?.filter(e=>e).reduce((e,r)=>e.concat(Me(r)?`<!--${r.data}-->`:q(r)?r.textContent:r.outerHTML),"")}function de(t){return t?a(t,Proxy)?[t.EL]:a(t,NodeList)?[...t]:P(t)?[t]:te(t)?t:t.isJQx?t.collection:void 0:[]}function me(t,e,r){let n=e!==document.body&&a(t,String)&&t.toLowerCase()!=="body"?e:document,o;try{r.collection=[...n.querySelectorAll(t)]}catch{o=`Invalid CSS querySelector. [${a(t,String)?t:"Nothing valid given!"}]`}let l=r.collection.length;return l<1?`CSS querySelector "${t}", output: nothing`:o??`CSS querySelector "${t}", output ${l} element${l>1?"s":""}`}function ge(t){let e=t.data.get("hid")||`HID${V()}`;return t.data.add({hid:e}),`[data-hid="${e}"]`}function Pe(){return{isCommentOrTextNode:q,isNode:P,isComment:Me,isText:Dt,isHtmlString:ee,isArrayOfHtmlElements:te,isArrayOfHtmlStrings:ue,ElemArray2HtmlString:fe,input2Collection:de,setCollectionFromCssSelector:me,addHandlerId:ge}}function Ht(t){if(!t)return;let e=t.style,r=getComputedStyle(t),n=[e.visibility,r.visibility].includes("hidden"),o=[e.display,r.display].includes("none"),l=t.offsetTop<0||t.offsetLeft+t.offsetWidth<0||t.offsetLeft>document.body.offsetWidth,u=+r.opacity==0||+(e.opacity||1)==0;return!(l||u||o||n)}function Nt(t){return[...t.parentNode.querySelectorAll(":is(:read-write)")].find(e=>e===t)??!1}function Mt(t){return[...t.parentNode.querySelectorAll(":is(:modal)")].find(e=>e===t)??!1}function Oe(){let e={notInDOM:!0,writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"};return r=>{let n=r.node;return a(n,Node)?{get writable(){return Nt(n)},get modal(){return Mt(n)},get inDOM(){return n.isConnected},get open(){return n.open??!1},get visible(){return Ht(n)},get disabled(){return n.hasAttribute("readonly")||n.hasAttribute("disabled")},get empty(){return r.collection.length<1},get virtual(){return r.isVirtual}}:e}}function De(t){return a(t,String)&&Object.assign(document.createElement("textarea"),{innerHTML:t}).textContent||t}function Pt(){let t=!1,e=[],r={get on(){return t=!0,r},get off(){return t=!1,r},get backLog(){return e}};function n(...l){return e.unshift(...l.map(u=>`${Ae()} \u2A3B ${De(u)}`)),console.error(e.slice(0,l.length).join(`
`)),r}function o(...l){return e.unshift(...l.map(u=>`${Ae()} \u2714 ${De(u)}`)),t&&console.log(e.slice(0,l.length).join(`
`)),r}return Object.defineProperties(r,{log:{value:o,enumerable:!1},error:{value:n,enumerable:!1}}),Object.freeze(r)}var pe=!1,Ot={on:()=>pe=!0,off:()=>pe=!1},B={tagsRaw:W,allowUnknownHtmlTags:Ot,isAllowed(t){if(pe)return!0;let e=a(t,String)?t.toLowerCase():t?.nodeName.toLowerCase()||"none";return e==="#text"||!!W[e]},allowTag:t=>W[t.toLowerCase()]=!0,prohibitTag:t=>W[t.toLowerCase()]=!1};var It=!0,re={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/^javascript|injected|noreferrer|alert|DataURL/gi};function Rt(t){if(It&&Object.keys(t.removed).length){let e=Object.entries(t.removed).reduce((r,[n,o])=>[...r,`${j(n)} => ${o}`],[]).join("\\000A");$.error(`JQx: HTML creation error(s): ${e}`)}}function kt(t){let e=t.nodeName.toLowerCase(),r=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(e)&&!r.find(n=>n===e)||B.isAllowed(e)}function U(t){let e={rawHTML:t?.parentElement?.getHTML()??"no html",removed:{}};return a(t,HTMLElement)&&[...t.childNodes].forEach(r=>{if(r?.children?.length&&U(r),r?.attributes){let o=a(r,SVGElement)?J.svg:J.html;[...(r??{attributes:[]}).attributes].forEach(l=>{let u=l.name.trim().toLowerCase(),h=l.value.trim().toLowerCase().replace(re.whiteSpace,""),p=u==="href"?!re.validURL.test(h):re.notAllowedValues.test(h),y=u.startsWith("data")?!re.data.test(u):!!o[u];if(p||y){let b=ce(l.value||"none",60);b+=b.length===60?"...":"",e.removed[`${l.name}`]=`attribute/property/value not allowed, removed. Value: ${b}`,r.removeAttribute(l.name)}})}if(!(kt(r)||r.constructor===CharacterData||r.constructor===Comment)){let o=(r?.outerHTML||r?.textContent).trim(),l=ce(o,60)??"EMPTY";l+=l.length===60?"...":"",e.removed[`<${r.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${l}`,r.remove()}}),Rt(e),t}function jt(t){let e=document.createElement("div");return e.insertAdjacentHTML(C.end,t),e.childNodes.length?U(e):void 0}function Bt(t,e,r){return a(t,Comment)?e.insertAdjacentHTML(r,`<!--${t.data}-->`):e.insertAdjacentText(r,t.data)}function _(t=[],e=document.body,r=C.BeforeEnd){r=r||C.BeforeEnd,t.reduce((n,o)=>{let l=P(o)&&Jt(o,e,r);return l?[...n,l]:n},[])}function Jt(t,e=document.body,r=C.BeforeEnd){return r=r||C.BeforeEnd,e=e?.isJQx?e?.[0]:e,a(t,Comment,Text)?Bt(t,e,r):a(t,HTMLElement)?e.insertAdjacentElement(r,t):void 0}function H(t){if(a(t,Text,Comment))return t;let e=t?.trim(),r=e?.split(/<text>|<\/text>/i)??[];if(r?.length&&(r=r.length>1?r.filter(o=>o.length).shift():void 0),e.startsWith("<!--")&&e.endsWith("-->"))return document.createComment(t.replace(/<!--|-->$/g,""));if(r||!/^<(.+)[^>]+>/m.test(e))return document.createTextNode(r);let n=jt(t);return n.childNodes.length<1?H(`<span data-jqxcreationerror="1">${A(t,60)}</span>`):n.children[0]}var Qt=Oe();function Ie(t){return t&&(t.textContent="")}function E(t,e){let r=t.collection.filter(n=>!q(n));for(let n=0;n<r.length;n+=1)e(r[n],n);return t}function Q(t){let e=t.cloneNode(!0);return e.removeAttribute&&e.removeAttribute("id"),t.isConnected?t.remove():t=null,e}function je(t,e){if(t&&a(e,Object))for(let[r,n]of Object.entries(e))t.setAttribute(`data-${D(r)}`,n)}function Re(t,e){return t.andThen(e,!0)}function ke(t,e){return t.andThen(e)}function Be(t){return t.startsWith("data")||J.html.find(e=>t.toLowerCase()===e)}function Wt(t,e,r,n){r&&a(e,String)&&(e={[e]:r==="-"?"":r});let o;e.className&&(o=e.className,delete e.className),o=[...t.classList].find(u=>u.startsWith("JQxClass-")||o&&u===o)||o||`JQxClass-${V().slice(1)}`,n.editCssRule(`.${o}`,e),t.classList.add(o)}function zt(t,e){if(t)for(let[r,n]of Object.entries(e)){if(r=D(r),r.startsWith("data"))return je(t,n);a(n,String)&&Be(r)&&t.setAttribute(r,n.split(/[, ]/)?.join(" "))}}function ye(t,e){if(a(e,Object))for(let[r,n]of Object.entries(e)){let o;/!important/i.test(n)&&(n=n.slice(0,n.indexOf("!")).trim(),o="important"),t.style.setProperty(D(r),n,o)}}function Vt(...t){debugLog.log("\u2757"+t.map(e=>String(e)).join(", "))}function be(t,e=0,r=!0){return t=t?.parentElement,e+=t?t[r?"scrollTop":"scrollLeft"]:0,t?be(t,e,r):e}function Ut(t){return{data:e=>({get all(){return new Proxy(e[0]?.dataset??{},He)},set:(r={})=>{if(!e.is.empty&&a(r,Object))for(let[n,o]of Object.entries(r))e.setData({[n]:o});return e},get:(r,n)=>e.data.all[r]??n,add:(r={})=>{if(!e.is.empty&&a(r,Object))for(let[n,o]of Object.entries(r))e.setData({[n]:o});return e},remove:r=>(e[0]?.removeAttribute(`data-${D(r)}`),e)}),dimensions:e=>{if(e.is.empty)return{error:"[instance].dimensions: NO ELEMENTS"};let r=e[0],n=e.first()?.getBoundingClientRect().toJSON();return n.scrollTopDistance=be(r,0),n.scrollLeftDistance=be(r,0,!1),n},node:e=>e[0],HTML:e=>({get:(r,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let o=r?e.outerHtml:e.html();return n?j(o):o},set:(r,n=!1,o=!1)=>{r=r.isJQx?r.HTML.get(1):r;let l=a(r,String);return r=l&&o?j(r):r,l&&(r||"").trim().length&&e.html(r,n),e},replace:(r,n=!1)=>e.HTML.set(r,!1,n),append:(r,n=!1)=>(r=a(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r,!0,n)),insert:(r,n=!1)=>(r=a(r,HTMLElement)?t(r).HTML.get(1):r.isJQx?r.HTML.get(1):r,e.HTML.set(r+e.HTML.get(),!1,n))}),is:e=>Qt(e),length:e=>e.collection.length,outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,parent:e=>{let r=t(e[0]?.parentNode);return r.is.empty?e:r},render:e=>(!e.is.empty&&e.toDOM()||t.log("[JQx.render]: empty collection"),e),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:r=>e.style(r),inSheet:r=>e.css(r),valueOf:r=>e.is.empty?void 0:getComputedStyle(e[0])[D(r)],nwRule:r=>e.Style.byRule({rules:r}),byRule:({classes2Apply:r=[],rules:n=[]}={})=>{let l=a(n,String)&&!r.length?n.split("{")[0].trim():"";if(n=n&&a(n,String)?[n]:n,r=r&&a(r,String)?[r]:r,(n?.length||r?.length)&&(n?.length&&t.editCssRules(...n),r))for(let u of r)e.addClass(u);return l?.startsWith(".")&&e.addClass(l.slice(1)),l?.startsWith("#")&&!e.attr("id")&&e.prop({id:l.slice(1)}),e}})}}function _t(t){return{addClass:(e,...r)=>E(e,n=>n&&r.forEach(o=>n.classList.add(o))),after:ke,afterMe:ke,andThen:(e,r,n=!1)=>{if(!r||!a(r,String,Node,Proxy))return Vt(`[JQx instance].[beforeMe | afterMe | andThen]: insufficient input [${r}]`),e;r=r?.isJQx?r.collection:a(r,Node)?t.virtual(r).collection:t.virtual(H(r)).collection;let[o,l,u]=n?[0,"before",r.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(r)];return e[o][l](...r),e.collection=u,e},append:(e,...r)=>{if(!e.is.empty&&r.length){let n=e.length===1;for(let o of r){if(!o.isJQx&&F(o)){let l=o.trim(),h=!/^<(.+)[^>]+>$/m.test(l)?t.text(o):H(o);E(e,p=>p.append(n?h:Q(h)))}P(o)&&E(e,l=>l.append(n?o:Q(o))),o.isJQx&&!o.is.empty&&E(e,l=>o.collection.forEach(u=>l.append(n?u:Q(u))))}}return e},appendTo:(e,r)=>(r.isJQx||(r=t(r)),r.append(e),e),attr:(e,r,n)=>{let o=e[0];if(!o)return e;if(!n&&F(r))return r=D(r),r==="class"?[...o?.classList].join(" "):o?.getAttribute(r);if(F(r)&&n)switch(r=D(r),!0){case r.startsWith("data-"):r={data:{[r.replace("data-","")]:n}};break;default:r={[r]:n}}return a(r,Object)&&!e.is.empty&&zt(o,r),e},before:Re,beforeMe:Re,clear:e=>E(e,Ie),closest:(e,r)=>{let n=F(r)?e[0].closest(r):null;return n?t(n):e},computedStyle:(e,r)=>e.first()&&getComputedStyle(e.first())[r],css:(e,r,n)=>E(e,o=>Wt(o,r,n,t)),duplicate:(e,r=!1,n=document.body)=>{let o=e.toNodeList().map(u=>u.removeAttribute&&u.removeAttribute("id")||u),l=t.virtual(o);return r?l.toDOM(n):l},each:(e,r)=>E(e,r),empty:e=>E(e,Ie),find:(e,r)=>e.collection.length>0?[...e.first()?.querySelectorAll(r)]:[],find$:(e,r)=>e.collection.length>0?t(r,e):e,first:(e,r=!1)=>{if(e.collection.length>0)return r?e.single():e.collection[0]},first$:(e,r)=>e.single(r),getData:(e,r,n)=>e.first()&&e.first().dataset?.[r]||n,hasClass:(e,...r)=>{let n=e[0];return!n||!n.classList.length?!1:r.find(o=>n.classList.contains(o))&&!0||!1},hide:e=>E(e,r=>ye(r,{display:"none !important"})),html:(e,r,n)=>{if(r===void 0){let o=e.node;return o?.getHTML&&o.getHTML()||""}if(!e.isEmpty()){let o=H(`<div>${r.isJQx?r.HTML.get(!0):r}</div>`);if(!a(o,Comment))return E(e,u=>(n||(u.textContent=""),u.insertAdjacentHTML(t.at.end,o.getHTML())))}return e},htmlFor:(e,r,n="",o=!1)=>{if(r&&e.collection.length){if(!r||!F(n))return e;let l=e.find$(r);if(l.length<1)return e;let u=H(`<span>${n}</span>`);l.each(h=>{o||(h.textContent=""),h.insertAdjacentHTML(t.at.end,u?.getHTML())})}return e},isEmpty:e=>e.collection.length<1,nth$:(e,r)=>e.single(r),on:(e,r,...n)=>{if(e.collection.length&&a(r,String,Array)){if(r?.length<1||n.length<1)return e;let o=ge(e);t.handle({type:r,selector:o,handlers:n})}return e},prepend:(e,...r)=>{if(!e.is.empty&&r){let n=e.length===1;for(let o of r){if(F(o)){o=o.trim();let u=!/^<(.+)[^>]+>$/m.test(o)?t.text(o):H(o);u=n?u:Q(u),E(e,h=>h.prepend(u.cloneNode(!0)))}P(o)&&E(e,l=>l.prepend(n?o:Q(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),E(e,l=>E(o,u=>l.prepend(n?u:Q(u)))),o.collection.reverse())}}return e},prependTo:(e,r)=>(r.isJQx||(r=t.virtual(r)),r.prepend(e),e),prop:(e,r,n)=>{if(a(r,String)&&!n)return r.startsWith("data")?e[0]?.dataset[r.slice(r.indexOf("-")+1)]:e[0]?.[r];let o=a(r,Object)?r:{[r]:n};for(let[l,u]of Object.entries(o)){if(l=l.trim(),u&&!Be(l)||!u)return!1;if(l.toLowerCase()==="id")return e[0].id=u;E(e,p=>{if(l.startsWith("data"))return p.dataset[l.slice(l.indexOf("-")+1)]=u;p[l]=u})}return e},remove:(e,r)=>{$.log(`remove ${A(e.HTML.get(1),40)}${r?` /w selector ${r}`:""}`);let n=l=>l.remove(),o=()=>e.collection=e.collection.filter(l=>document.documentElement.contains(l));if(r){let l=e.find$(r);return l.is.empty||(E(l,n),o()),e}return E(e,n),o(),e},rmAttr:(e,...r)=>{for(let n of r)e.node.removeAttribute(n);return e},removeClass:(e,...r)=>E(e,n=>{if(n)for(let o of r)n.classList.remove(o)}),renderTo:(e,r=document.body,n=t.at.end)=>(e.first$().toDOM(r,n),e),replace:(e,r,n)=>{let o=e[0];return!r||!n||!a(n,HTMLElement)&&!n.isJQx?(console.error("JQx replace: invalid replacement value"),e):(n.isJQx&&(n=n[0]),a(n,NodeList)&&(n=n[0]),o&&r&&(r=a(r,String)?o.querySelectorAll(r):r.isJQx?r.collection:r,a(r,HTMLElement,NodeList,Array)&&a(n,HTMLElement)&&(a(r,HTMLElement)?[r]:[...r]).forEach(l=>l.replaceWith(n.cloneNode(!0)))),e)},replaceClass:(e,r,...n)=>E(e,o=>{o.classList.remove(r);for(let l of n)o.classList.add(l)}),replaceMe:(e,r)=>e.replaceWith(r),replaceWith:(e,r)=>(r=a(r,Element)?r:r.isJQx?r[0]:void 0,r&&(e[0].replaceWith(r),e=t.virtual(r)),e),setData:(e,r)=>E(e,n=>je(n,r)),show:e=>E(e,r=>ye(r,{display:"revert-layer !important"})),single:(e,r)=>e.collection.length>0?a(r,String)?e.find$(r):a(r,Number)?t(e.collection[r]):t(e.collection[0]):e,style:(e,r,n)=>E(e,l=>{n&&a(r,String)&&(r={[r]:n||"none"}),ye(l,r)}),text:(e,r,n=!1)=>e.isEmpty()?e:a(r,String)?E(e,l=>l.textContent=n?l.textContent+r:r):e.first().textContent,toDOM:(e,r=document.body,n=C.BeforeEnd)=>(e.isVirtual&&(e.isVirtual=!1),e.collection=_(e.collection,r,n),e),toggleClass:(e,r)=>E(e,n=>n.classList.toggle(r)),toNodeList:e=>[...e.collection].map(r=>document.importNode(r,!0)),trigger:(e,r,n=Event,o={})=>{if(e.collection.length){let l=new n(r,{...o,bubbles:o.bubbles??!0});for(let u of e.collection)u.dispatchEvent(l)}return e},val:(e,r)=>{let n=e[0];return!n||!a(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:r===void 0?n.value:(n.value=a(r,String)?r:"",e)}}}function Je(t){return{factoryExtensions:Ut(t),instanceExtensions:_t(t)}}function Qe(t){if(t.node("#jqxPopup"))return;t.logger.log("JQx: [JQx].Popup first call. Dialog element created."),t.dialog({id:"jqxPopup"},t.div({id:"jqxPopupContent"})).render,t.editCssRules(...ve);let[e,r]=[t("#jqxPopupContent"),t.node("#jqxPopup")],n={};return t.handle({type:"click, keydown",handlers:y,capture:!0}),Object.freeze({show:o,removeModal:p});function o(m){if(r.open)return;n={...m};let{content:g}=n;return t.IS(g,String,HTMLElement)||g?.isJQx?u():!0}function l(){return n.modal?x(n.warnMessage):h()}function u(){e.clear();let{content:m,modal:g,closeAfter:f}=n;g=t.IS(g,Boolean)?g:!1;let S=g?"":t.div({id:"closeHandleIcon"});e.append(S,t.IS(m,String)?t.div(m):m),r.showModal(),!g&&t.IS(f,Number)&&b(l,f)}function h(){if(r.close(n.returnValue),t.IS(n.callback,Function))return n.callback(n.returnValue);n={}}function p({callback:m,value:g}={}){n.returnValue=g,n.modal=!1,n.callback=m||n.callback,l()}function y(m){if(!(Object.keys(n).length<1||!r.open))return m.key==="Escape"&&m.preventDefault(),n.activeTimer&&clearTimeout(n.activeTimer),(m.target.closest("#closeHandleIcon")||!m.target.closest("#jqxPopupContent"))&&l(),document.activeElement.blur()}function b(m,g){t.IS(m,Function)&&t.IS(g,Number)&&g>0&&(n.activeTimer=setTimeout(m,g*1e3))}function x(m){if(!t.IS(m,String,HTMLElement,Proxy))return;let g=e.find$(".warn");switch(!0){case g.is.empty:g=t.div({class:"warn"},m);default:e.append(g.addClass("active")),b(()=>e.find$(".warn").removeClass("active"),2)}}}var N={},Gt=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],We=t=>!!Gt.find(e=>e===t);function ze(t){return function(o){let{eventType:l,selector:u,callback:h,name:p,capture:y,once:b,canRemove:x}=o;switch(!0){case(!F(l)||!t.IS(h,Function)):default:p=p||!/handlers$/.test(h.name)&&h.name||void 0,y=t.IS(y,Boolean)?y:!1,b=t.IS(b,Boolean)?b:!1,x=F(p,4)&&t.IS(x,Boolean)?x:b;let{handler:m,signal:g,remove:f}=e({selector:u,callback:h,canRemove:x,once:b,name:p,eventType:l});return n({eventType:l,handler:m,capture:y,once:b,signal:g,remove:f,name:p})}};function e(o){let{selector:l,callback:u,canRemove:h,name:p,eventType:y,once:b}=o,x=(h||b)&&new AbortController,m=r({once:b,abortcontroller:x,name:p,eventType:y}),g=l?{handler:f=>{let S=f.target?.closest?.(l);return S&&u(f,t(S),m)},remove:m}:{handler:f=>u(f,f.target,m),remove:m};return x&&(g.signal=x.signal,b)?{handler:(f,S)=>{g.handler(f,S),m()}}:g}function r(o){let{once:l,abortcontroller:u,name:h,eventType:p}=o;return h?u?function(){u.abort();let b=[...N[p].entries()].find(([x,m])=>m.name===h);N[p].delete(b[0]),setTimeout(()=>t.logger.log(`Listener for event type [${p}] with name [${h}] was removed${l?" (once active, so handled once).":""}`),100)}:function(y){t.logger.error(`Listener for event type [${p}] with name [${h}] is not marked as removable`)}:function(){t.logger.error("An anonymous listener can not be removed")}}function n(o){let{eventType:l,handler:u,capture:h,once:p,signal:y,remove:b,name:x}=o;if(N[l]||(N[l]=new Map),!(N[l].has(u)||[...N[l].values()].find(g=>(g.name||"")===x))){let g={capture:h||We(l),once:p||!1};y&&(g.signal=y),document.addEventListener(l,u,g);let f={name:x,remove:b,capture:h||We(l)};N[l].set(u,f)}}}var he,ne,{isComment:tn,isText:rn,isHtmlString:nn,isArrayOfHtmlElements:on,isArrayOfHtmlStrings:ln,ElemArray2HtmlString:sn,addHandlerId:an,cssRuleEdit:Se,addFn:Zt}=Yt();function Yt(){let t=Y({createWithId:"JQxStylesheet"}),e=(r,n)=>ne[r]=(o,...l)=>n(o,...l);return{...Pe(),cssRuleEdit:t,addFn:e}}function G(t){return new Proxy(t,{get:(e,r)=>Xt(e,r,t)})}function Ve(t,e){return(...r)=>a(t,Function)&&t(G(e),...r)}function Xt(t,e,r){switch(!0){case a(e,Symbol):return t;case a(+e,Number):return t.collection?.[e]||void 0;case e in he:return Ve(he[e],r)();case e in ne:return Ve(ne[e],r);default:return t[e]}}function _e(t){let e=rr(t);for(let[r,n]of Object.entries(Object.getOwnPropertyDescriptors(e)))Object.defineProperty(t,r,n);return t}function Kt(t){return{allow:e=>{let r=/-/.test(e),n=r&&e;e=r?K(e):e.toLowerCase(),B.allowTag(e),a(t[e],Function)||Object.defineProperties(t,xe(e,!0,t,n))},prohibit:e=>{e=e.toLowerCase(),B.prohibitTag(e),a(t[e],Function)&&Object.defineProperties(t,xe(e,!1,t))}}}function Ue(...t){if(t.length===1){let e=String(t.shift().trim());t=e.startsWith("!")?[e.slice(1,-1)]:e.split(",").map(r=>r.trim())}for(let e of t.map(r=>r.startsWith("!")?r.slice(1,-1):r))Se(e,{removeRule:1})}function qt(t){return function(e,r,n){r=r?.isJQx?r?.[0]:r,n=n&&Object.values(C).find(l=>n===l);let o=t(e,document.createElement("br"));if(r&&!a(r,HTMLBRElement))for(let l of o.collection)n?r.insertAdjacentElement(n,l):r.append(l);return o}}function er(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);for(let[o,l]of Object.entries(n))!(o in e)&&Object.defineProperty(e,o,l)}return e}function tr(t,e,r,n){return t=D(n||t.toLowerCase()),{get(){return(...o)=>e&&r.virtual(U(ie[t](...o)))},enumerable:!1,configurable:!0}}function xe(t,e,r,n){t=t.toLowerCase();let o=tr(t,e,r,n);return n?{[n]:o,[K(n)]:o}:{[t]:o,[t.toUpperCase()]:o}}function rr(t){return er(Object.entries(B.tagsRaw).reduce(nr(t),{}),cr(t))}function nr(t){return function(e,[r,n]){return n&&Object.defineProperties(e,xe(r,n,t)),e}}function or(t){return function(e,r,...n){a(r,Function)&&(n.push(r),r=void 0),t({type:e,selector:r,handlers:n})}}function ir(t){return function(e){let{type:r,origin:n,selector:o,handlers:l,name:u,capture:h,once:p,canRemove:y}=e,b=Ne(r),x=u;if(!a(l,Function,Array))return;l=a(l,Function)?[l]:l,y=a(y,Boolean)?y:!1;let m={eventType:b,selector:o||n,capture:h,name:x,once:p,canRemove:y};switch(!0){case(a(b,Array)&&b.length>0):for(let f of b){m.eventType=f;for(let S of l)g(S)}return;default:for(let f of l)g(f)}function g(f){m.name=x,a(f,Function)&&t({...m,callback:f})}}}function lr(t,e){return e=F(e)&&e,t=F(t)&&t,e&&t&&[...N[t].values()].find(r=>(r.name||"")===e)}function sr(t){return t.activePopup||Object.defineProperty(t,"activePopup",{value:Qe(t),enumerable:!1}),t.activePopup}function ar(t){let e=(p,y)=>Se(p,y),r=p=>Y({createWithId:p||`jqx${V()}`}),n=(...p)=>{for(let y of p)Se(y)},o=Kt(t),l=ze(t),u=ir(l);return{editCssRule:e,createStyle:r,editCssRules:n,allowProhibit:o,handle:l,capturedHandling:u,log:(...p)=>$.on.log(...p).off}}function cr(t){let{factoryExtensions:e,instanceExtensions:r}=Je(t);he=e,ne=r;let{editCssRule:n,createStyle:o,editCssRules:l,allowProhibit:u,handle:h,capturedHandling:p,log:y}=ar(t);return{log:y,editCssRules:l,createStyle:o,editStylesheet:o,editCssRule:n,escHtml:j,logger:$,text:(b,x=!1)=>x?t.comment(b):document.createTextNode(b),node:(b,x=document)=>x.querySelector(b,x),nodes:(b,x=document)=>[...x.querySelectorAll(b,x)],get getNamedListener(){return lr},get virtual(){return qt(t)},get allowTag(){return u.allow},get prohibitTag(){return u.prohibit},get removeCssRule(){return Ue},get removeCssRules(){return Ue},get delegate(){return or(p)},get delegateCaptured(){return p},get handle(){return p},get at(){return C},get setStyle(){return n},get fn(){return Zt},get lenient(){return B.allowUnknownHtmlTags},get IS(){return a},get Popup(){return sr(t)}}}var ur=_e(fr());function fr(){return function(r,n,o=C.BeforeEnd){if(r?.isJQx)return r;let l=a(n,HTMLBRElement);n=(!l&&n&&n.isJQx?n[0]:n)||document.body,o=o&&Object.values(C).find(g=>o===g)?o:void 0;let u=ee(r),h=!u&&ue(r),p=h||u,y={collection:de(r)??[],isVirtual:l,isJQx:!0},b=te(y.collection),x=`input =&gt; ${h?`"${A(r.join(", "),70)}"`:!p&&b?`element collection [${A(y.collection.map(g=>`${a(g,Comment,Text)?"Comment|Text @":""} ${g?.outerHTML||g?.textContent}`).join(", "),70)}]`:`"${A(r,70)}"`}`;if(y.collection.length&&b)return $.log(x),l||y.collection.forEach(g=>{n.contains(g)||_([g],n,o)}),G(y);if(p){if([r].flat().forEach(g=>y.collection.push(H(g))),y.collection.length>0){let g=y.collection.filter(f=>f?.dataset?.jqxcreationerror);y.collection=y.collection.filter(f=>!f?.dataset?.jqxcreationerror),$.log(`${x}`),$.log(`*Created ${y.isVirtual?"VIRTUAL ":""}[${A(fe(y.collection).trim()||"sanitized: no elements remaining",70)}]`),y.isVirtual||_(y.collection,n,o)}return G(y)}let m=me(r,n,y);return $.log(`input => ${m}`),G(y)}}return qe(dr);})();

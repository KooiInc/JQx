var{IS:P,maybe:N,$Wrap:J,isNothing:U,xProxy:q,addSymbolicExtensions:G}=w({useSymbolicExtensions:!1});function w(n={}){let{useSymbolicExtensions:c}=n,{shouldbeIsSingleObject:l,ISOneOf:f,isExcept:m,verifyNothingness:g,xProxy:S,determineType:p,addSymbolicExtensions:y,maybe:$,$Wrap:b}=C(d,c);return S.custom(),c&&y(),{IS:d,maybe:$,$Wrap:b,isNothing:g,xProxy:S,addSymbolicExtensions:y};function d(i,...a){let o=typeof i=="symbol"?Symbol.isSymbol:i;switch(!0){case!!$({trial:u=>"isTypes"in(a?.[0]??{})}):return l(i,a[0]);default:return a.length>1?f(o,...a):p(i,...a)}}}function C(n,c){let{SymbolAndCustomProxyFactory:l,maybeFactory:f,WrapAnyFactory:m,verifyNothingness:g,determineType:S}=v(n,d),{xProxy:p,addSymbolicExtensions:y}=l(n,d,c),[$,b]=[f(),m(n,d)];return Object.freeze({shouldbeIsSingleObject:i,ISOneOf:a,isExcept:u,verifyNothingness:g,xProxy:p,determineType:S,addSymbolicExtensions:y,maybe:$,$Wrap:b});function d(e){return e?.[Symbol.proxy]??n(e)}function i(e,r){switch(!0){case"defaultValue"in r:return o(e,r);case"notTypes"in r:return u(e,r);default:return n(e,...[r.isTypes].flat())}}function a(e,...r){return r.some(t=>n(e,t))}function o(e,{defaultValue:r,isTypes:t=[void 0],notTypes:s}={}){return t=t?.constructor!==Array?[t]:t,s=s&&s?.constructor!==Array?[s]:[],s.length<1?n(e,...t)?e:r:u(e,{isTypes:t,notTypes:s})?e:r}function u(e,{isTypes:r=[void 0],notTypes:t=[void 0]}={}){return r=r?.constructor!==Array?[r]:r,t=t?.constructor!==Array?[t]:t,n(e,...r)&&!n(e,...t)}}function v(){let n={IS:"toa.is",TYPE:"toa.type",IS_SYMBOL:"toa.isASymbol",PROXY:"toa.proxy"},c={NAN:"NaN",INFINITY:"Infinity",BOOLEAN:"Boolean",OBJECT:"Object",PROXY_PREFIX:"Proxy ("};return Object.freeze({SymbolAndCustomProxyFactory:f,maybeFactory:o,WrapAnyFactory:a,verifyNothingness:u,determineType:y});function l(e,r){Symbol.is||(Symbol.is=Symbol.for(n.IS),Symbol.type=Symbol.for(n.TYPE),Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return r(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...t){return e(this,...t)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(t){return r(t)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(t,...s){return e(t,...s)},enumerable:!1,configurable:!1}}))}function f(e,r,t){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for(n.IS_SYMBOL)),{xProxy:S(),addSymbolicExtensions:()=>l(e,r)}}function m(e){return Object.getPrototypeOf(e)?.constructor?.name||c.OBJECT}function g(e){return Proxy=new e(e,{construct(r,t){let s=new r(...t);return s[Symbol.proxy]=`${c.PROXY_PREFIX}${m(t[0])})`,s}}),Proxy}function S(){Symbol.proxy||(Symbol.proxy=Symbol.for(n.PROXY));let e=Proxy;return{native(){Proxy=e},custom(){Proxy=g(e)}}}function p(e,...r){let t=r.length<1,s=e==null;return{noInput:s,noShouldbe:t,compareTo:!t&&r[0],inputCTOR:!s&&(e?.constructor||Object.getPrototypeOf(e)?.constructor),isNaN:Number.isNaN(e)||N({trial:x=>String(e)===c.NAN}),isInfinity:N({trial:x=>String(e)})===c.INFINITY,shouldBeFirstElementIsNothing:!t&&u(r[0])}}function y(e,...r){let{noInput:t,noShouldbe:s,compareTo:x,inputCTOR:O,isNaN:F,isInfinity:I,shouldBeFirstElementIsNothing:j}=p(e,...r);switch(r=r.length&&r[0],!0){case j:return String(e)===String(x);case(e?.[Symbol.proxy]&&s):return e[Symbol.proxy];case F:return s?c.NAN:String(x)===String(e);case I:return s?c.INFINITY:String(x)===String(e);case t:return s?String(e):String(x)===String(e);case O===Boolean:return s?c.BOOLEAN:O===r;default:return b(e,r,s,$(e,O))}}function $(e,r){switch(!0){case e===0:return Number;case e==="":return String;case!e:return{name:String(e)};default:return r}}function b(e,r,t,s){switch(!0){case(!t&&r===e||e?.[Symbol.proxy]&&r===Proxy):return!0;case String(r)===c.NAN:return String(e)===c.NAN;case(e?.[Symbol.toStringTag]&&typeof r=="string"):return String(r)===e[Symbol.toStringTag];default:return r?i(e,r,s):d(e,s)}}function d(e,r){return(e?.[Symbol.toStringTag]??e?.prototype?.[Symbol.toStringTag])||r?.name||String(r)}function i(e,r,t){return N({trial:s=>e instanceof r})||r===t||r===Object.getPrototypeOf(t)||`${r?.name}`===t?.name}function a(e,r){return function(t){let s={get value(){return t},is(...x){return e(t,...x)},get type(){return r(t)}};return Object[Symbol.type]&&Object.defineProperties(s,{[Symbol.type]:{get(){return r(t)}},[Symbol.is]:{value(...x){return e(t,...x)}}}),Object.freeze(s)}}function o(){let e=r=>{};return function({trial:r,whenError:t=e}={}){try{return r()}catch(s){return t(s)}}}function u(e,r=!1){let t=e==null;return t=r?t||P(e,1/0)||P(e,NaN):t,t}}var Q=Y;function Y({styleSheet:n,createWithId:c}={}){let{tryParseAtOrNestedRules:l,ruleExists:f,checkParams:m,sheet:g,removeRules:S,consider:p,currentSheetID:y}=T({styleSheet:n,createWithId:c});function $(o,u){if(o&&u.removeProperties){Object.keys(u.removeProperties).forEach(e=>o.style.removeProperty(R(e)));return}Object.entries(u).forEach(([e,r])=>{e=R(e.trim()),r=r.trim();let t;if(/!important/.test(r)&&(r=r.slice(0,r.indexOf("!important")).trim(),t="important"),!CSS.supports(e,r))return console.error(`StylingFactory ${y} error: '${e}' with value '${r}' not supported (yet)`);E(()=>o.style.setProperty(e,r,t),`StylingFactory ${y} (setRule4Selector) failed`)})}function b(o,u,e=g){if(o=o?.trim?.(),!P(o,String)||!o.length||/[;,]$/g.test(o))return console.error(`StylingFactory ${y} (setRules): [${o||"[no selector given]"}] is not a valid selector`);if(u.removeRule)return S(o);let r=f(o,!0),t=r||e.cssRules[e.insertRule(`${o} {}`,e.cssRules.length||0)];return p(()=>$(t,u),o,r)}function d(o){let u=o.trim().split(/{/,2),e=u.shift().trim();if(!P(e,String)||!e?.trim()?.length)return console.error(`StylingFactory ${y} (doParse): no (valid) selector could be extracted from rule ${h(o)}`);let r=H(u.shift());return E(()=>b(e,r),`StylingFactory ${y} (setRules) failed`)}function i(o){let u=l(o);return u.done?u.existing:d(o)}function a(o,u){return o.trim().startsWith("@media")?i(_(o,u)):b(o,u)}return function(o,u={}){return m(o,u)&&(Object.keys(u).length?a(o,u):i(o))}}function T({styleSheet:n,createWithId:c}){let l="Note: The rule or some of its properties may not be supported by your browser (yet)",f=`for style#${c}`;n=c?m(c):n;function m(i){let a=document.querySelector(`#${i}`)?.sheet;if(a)return a;let o=Object.assign(document.createElement("style"),{id:i});return document.head.insertAdjacentElement("beforeend",o),o.sheet}function g(i){return console.error(`StylingFactory ${f} [rule: ${i}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function S(i,a){return[...n.rules].find(o=>a?A(o.selectorText||"",i):k`${X(i)}${[..."gim"]}`.test(o.cssText))}function p(i){return/^@charset|@import|namespace/i.test(i.trim())?g(i):i.match(/}/g)?.length>1?{existing:b(i,1),done:!0}:{done:!1}}function y(i){let a=[...n.cssRules].reduce((u,e,r)=>A(e.selectorText||"",i)&&u.concat(r)||u,[]),o=a.length;return a.forEach(u=>n.deleteRule(u)),o>0?console.info(`\u2714 Removed ${o} instance${o>1?"s":""} of selector ${i} from ${f.slice(4)}`):console.info(`\u2714 Remove rule: selector ${i} does not exist in ${f.slice(4)}`)}function $(i,a){return i&&P(i,String)&&i.trim().length>0&&P(a,Object)||(console.error(`StylingFactory ${f} called with invalid parameters`),!1)}function b(i){i=i.trim();let a=i.slice(0,i.indexOf("{")).trim(),o=!!S(a);try{return n.insertRule(`${i}`,n.cssRules.length),o}catch(u){return console.error(`StylingFactory ${f} (tryParse) ${u.name} Error:
${u.message}
Rule: ${h(i)}
${l}`),o}}function d(i,a,o){try{return i(),o}catch(u){return console.error(`StylingFactory ${f} (tryAddOrModify) ${u.name} Error:
${u.message}
Rule: ${h(a)}
${l}`),o}}return{sheet:n,removeRules:y,tryParseAtOrNestedRules:p,ruleExists:S,checkParams:$,tryParse:b,consider:d,currentSheetID:f}}function _(n,c){return`${n.trim()} ${Object.entries(c).map(([l,f])=>`${l}: { ${L(f)}`)}`}function h(n){let c=(n||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return n.length>c.length?`${c.trim()}...truncated`:c}function L(n){return Object.entries(n).map(([c,l])=>`${c}: ${l.trim()}`).join(`;
`)}function X(n){return n.replace(/([*\[\]()-+{}.$?\\])/g,c=>`\\${c}`)}function k(n,...c){let l=c.length&&Array.isArray(c.slice(-1))?c.pop().join(""):"";return new RegExp((c.length&&n.raw.reduce((f,m,g)=>f.concat(c[g-1]||"").concat(m),"")||n.raw.join("")).split(`
`).map(f=>f.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),l)}function R(n){return n.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function E(n,c){try{return n()}catch(l){console.error(`${c||"an error occured"}: ${l.message}`)}}function M(n){return n.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(c,l)=>`${l}\\3b`).split(";").map(c=>c.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function z(n){return n.reduce((c,l)=>{let[f,m]=[l.slice(0,l.indexOf(":")).trim(),l.slice(l.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return f&&m?{...c,[f]:m}:c},{})}function H(n){return z(M(n))}function A(n,c){return n?.replace("::",":")===c?.replace("::",":")}export{Q as default};
